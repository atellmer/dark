{"version":3,"file":"build.js","mappings":"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A;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,mEAAmE,iCAAiC;WACpG;WACA;WACA;WACA;;;;;WCxCA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WCfA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA,iCAAiC;;WAEjC;WACA;WACA;WACA,KAAK;WACL,eAAe;WACf;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM;WACN;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;WACA;WACA;;;;;;;;;;;;ACrFwC;AAExC,qDAAS,EAAE,CAAC","sources":["webpack:///../contract/index.ts","webpack:///./api/index.ts","webpack:///./bootstrap.tsx","webpack:///./components/app.tsx","webpack:///./components/ui.tsx","webpack:///../../../packages/core/src/batch/batch.ts","webpack:///../../../packages/core/src/cache/cache.ts","webpack:///../../../packages/core/src/component/component.ts","webpack:///../../../packages/core/src/constants.ts","webpack:///../../../packages/core/src/context/context.ts","webpack:///../../../packages/core/src/element/element.ts","webpack:///../../../packages/core/src/emitter/emitter.ts","webpack:///../../../packages/core/src/fiber/fiber.ts","webpack:///../../../packages/core/src/fragment/fragment.ts","webpack:///../../../packages/core/src/lazy/lazy.ts","webpack:///../../../packages/core/src/memo/memo.ts","webpack:///../../../packages/core/src/platform/platform.ts","webpack:///../../../packages/core/src/ref/ref.ts","webpack:///../../../packages/core/src/scheduler/scheduler.ts","webpack:///../../../packages/core/src/scope/scope.ts","webpack:///../../../packages/core/src/shadow/shadow.ts","webpack:///../../../packages/core/src/suspense/suspense.ts","webpack:///../../../packages/core/src/unmount/unmount.ts","webpack:///../../../packages/core/src/use-callback/use-callback.ts","webpack:///../../../packages/core/src/use-effect/use-effect.ts","webpack:///../../../packages/core/src/use-event/use-event.ts","webpack:///../../../packages/core/src/use-id/use-id.ts","webpack:///../../../packages/core/src/use-imperative-handle/use-imperative-handle.ts","webpack:///../../../packages/core/src/use-insertion-effect/use-insertion-effect.ts","webpack:///../../../packages/core/src/use-layout-effect/use-layout-effect.ts","webpack:///../../../packages/core/src/use-memo/use-memo.ts","webpack:///../../../packages/core/src/use-state/use-state.ts","webpack:///../../../packages/core/src/use-update/use-update.ts","webpack:///../../../packages/core/src/utils/utils.ts","webpack:///../../../packages/core/src/view/view.ts","webpack:///../../../packages/core/src/walk/walk.ts","webpack:///../../../packages/core/src/workloop/workloop.ts","webpack:///../../../packages/platform-browser/src/constants.ts","webpack:///../../../packages/platform-browser/src/create-root/create-root.tsx","webpack:///../../../packages/platform-browser/src/dom/dom.ts","webpack:///../../../packages/platform-browser/src/events/events.ts","webpack:///../../../packages/platform-browser/src/hydrate-root/hydrate-root.tsx","webpack:///../../../packages/platform-browser/src/portal/portal.ts","webpack:///../../../packages/platform-browser/src/render/render.ts","webpack:///../../../packages/styled/src/constants.ts","webpack:///../../../packages/styled/src/global/global.ts","webpack:///../../../packages/styled/src/hash/hash.ts","webpack:///../../../packages/styled/src/keyframes/keyframes.ts","webpack:///../../../packages/styled/src/parse/parse.ts","webpack:///../../../packages/styled/src/server/manager.ts","webpack:///../../../packages/styled/src/styled/styled.ts","webpack:///../../../packages/styled/src/theme/theme.ts","webpack:///../../../packages/styled/src/tokens/tokens.ts","webpack:///../../../packages/styled/src/utils/utils.ts","webpack:///../../../packages/web-router/src/constants.ts","webpack:///../../../packages/web-router/src/context/context.tsx","webpack:///../../../packages/web-router/src/create-routes/create-routes.ts","webpack:///../../../packages/web-router/src/history/history.ts","webpack:///../../../packages/web-router/src/location/location.ts","webpack:///../../../packages/web-router/src/router-link/router-link.tsx","webpack:///../../../packages/web-router/src/router/router.tsx","webpack:///../../../packages/web-router/src/use-history/use-history.ts","webpack:///../../../packages/web-router/src/use-location/use-location.ts","webpack:///../../../packages/web-router/src/utils/utils.ts","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/ensure chunk","webpack:///webpack/runtime/get javascript chunk filename","webpack:///webpack/runtime/global","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/load script","webpack:///webpack/runtime/make namespace object","webpack:///webpack/runtime/publicPath","webpack:///webpack/runtime/jsonp chunk loading","webpack:///./index.tsx"],"sourcesContent":["import { type DarkElement, component, createContext, useContext } from '@dark-engine/core';\r\n\r\nexport type ProductBrief = {\r\n  id: number;\r\n  name: string;\r\n};\r\n\r\nexport type Product = {\r\n  id: number;\r\n  name: string;\r\n  description: string;\r\n};\r\n\r\nexport type Api = {\r\n  marker: string;\r\n  fetchProducts: () => Promise<Array<ProductBrief>>;\r\n  addProduct: (product: Partial<Product>) => Promise<Product>;\r\n  fetchProduct: (id: number) => Promise<Product>;\r\n  changeProduct: (id: number, product: Partial<Product>) => Promise<Product>;\r\n  removeProduct: (id: number) => Promise<boolean>;\r\n};\r\n\r\nconst ApiContext = createContext<Api>(null, { displayName: 'Api' });\r\n\r\nconst useApi = () => useContext(ApiContext);\r\n\r\ntype ApiProviderProps = {\r\n  api: Api;\r\n  slot: DarkElement;\r\n};\r\n\r\nconst ApiProvider = component<ApiProviderProps>(({ api, slot }) => {\r\n  return ApiContext.Provider({ value: api, slot });\r\n});\r\n\r\nexport { useApi, ApiProvider };\r\n","import { type Api, type ProductBrief, type Product } from '../../contract';\r\n\r\nconst HEADERS = { 'Content-Type': 'application/json' };\r\nconst api: Api = {\r\n  marker: 'frontend',\r\n  async fetchProducts() {\r\n    const response = await fetch('/api/products');\r\n    checkResponse(response);\r\n    const data = (await response.json()) as Array<ProductBrief>;\r\n\r\n    return data;\r\n  },\r\n  async addProduct(product: Partial<Product>) {\r\n    const response = await fetch(`/api/products`, {\r\n      method: 'post',\r\n      headers: HEADERS,\r\n      body: JSON.stringify({ ...product, id: undefined }),\r\n    });\r\n    checkResponse(response);\r\n    const data = (await response.json()) as Product;\r\n\r\n    return data;\r\n  },\r\n  async fetchProduct(id: number) {\r\n    checkId(id);\r\n    const response = await fetch(`/api/products/${id}`);\r\n    checkResponse(response);\r\n    const data = (await response.json()) as Product;\r\n\r\n    return data;\r\n  },\r\n  async changeProduct(id: number, product: Partial<Product>) {\r\n    checkId(id);\r\n    if (!product) return null;\r\n    const response = await fetch(`/api/products/${id}`, {\r\n      method: 'put',\r\n      headers: HEADERS,\r\n      body: JSON.stringify(product),\r\n    });\r\n    checkResponse(response);\r\n    const data = (await response.json()) as Product;\r\n\r\n    return data;\r\n  },\r\n  async removeProduct(id: number) {\r\n    checkId(id);\r\n    const response = await fetch(`/api/products/${id}`, { method: 'delete' });\r\n    checkResponse(response);\r\n    const data = (await response.json()) as boolean;\r\n\r\n    return data;\r\n  },\r\n};\r\n\r\nfunction checkId(id: unknown) {\r\n  const isValid = typeof id === 'number' && !Number.isNaN(id);\r\n\r\n  if (!isValid) {\r\n    throw new Error('Invalid id!');\r\n  }\r\n}\r\n\r\nfunction checkResponse(response: Response) {\r\n  if (!response.ok) throw new Error(`${response.status}`);\r\n}\r\n\r\nexport { api };\r\n","import { h } from '@dark-engine/core';\r\nimport { hydrateRoot } from '@dark-engine/platform-browser';\r\n\r\nimport { App } from './components/app';\r\nimport { api } from './api';\r\n\r\nfunction bootstrap() {\r\n  hydrateRoot(document.getElementById('root'), <App api={api} />);\r\n}\r\n\r\nexport { bootstrap };\r\n","import {\r\n  h,\r\n  component,\r\n  Fragment,\r\n  Suspense,\r\n  lazy,\r\n  useMemo,\r\n  useEffect,\r\n  InMemoryCache,\r\n  CacheProvider,\r\n} from '@dark-engine/core';\r\nimport { type Routes, Router, RouterLink } from '@dark-engine/web-router';\r\n\r\nimport { type Api, ApiProvider } from '../../contract';\r\nimport { Key } from '../hooks';\r\nimport { GlobalStyle, Spinner, Root, Header, Content, Footer } from './ui';\r\n\r\nconst Products = lazy(() => import('./products'));\r\nconst ProductList = lazy(() => import('./product-list'));\r\nconst ProductAdd = lazy(() => import('./product-add'));\r\nconst ProductEdit = lazy(() => import('./product-edit'));\r\nconst ProductRemove = lazy(() => import('./product-remove'));\r\nconst ProductCard = lazy(() => import('./product-card'));\r\nconst ProductAnalytics = lazy(() => import('./product-analytics'));\r\nconst ProductBalance = lazy(() => import('./product-balance'));\r\nconst Operations = lazy(() => import('./operations'));\r\nconst Invoices = lazy(() => import('./invoices'));\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'products',\r\n    component: Products,\r\n    children: [\r\n      {\r\n        path: 'list',\r\n        component: ProductList,\r\n        children: [\r\n          {\r\n            path: 'add',\r\n            component: ProductAdd,\r\n          },\r\n          {\r\n            path: ':id',\r\n            component: ProductCard,\r\n            children: [\r\n              {\r\n                path: 'edit',\r\n                component: ProductEdit,\r\n              },\r\n              {\r\n                path: 'remove',\r\n                component: ProductRemove,\r\n              },\r\n            ],\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        path: 'analytics',\r\n        component: ProductAnalytics,\r\n      },\r\n      {\r\n        path: 'balance',\r\n        component: ProductBalance,\r\n      },\r\n      {\r\n        path: '',\r\n        redirectTo: 'list',\r\n      },\r\n      {\r\n        path: '**',\r\n        redirectTo: 'list',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    path: 'operations',\r\n    component: Operations,\r\n  },\r\n  {\r\n    path: 'invoices',\r\n    component: Invoices,\r\n  },\r\n  {\r\n    path: '',\r\n    redirectTo: 'products',\r\n  },\r\n  {\r\n    path: '**',\r\n    redirectTo: 'products',\r\n  },\r\n];\r\n\r\nexport type AppProps = {\r\n  url?: string;\r\n  api: Api;\r\n};\r\n\r\nconst App = component<AppProps>(({ url, api }) => {\r\n  const cache = useMemo(() => new InMemoryCache<Key>(), []);\r\n\r\n  useEffect(() => {\r\n    cache.monitor(x => console.log(x));\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <GlobalStyle />\r\n      <ApiProvider api={api}>\r\n        <CacheProvider cache={cache}>\r\n          <Router routes={routes} url={url}>\r\n            {slot => {\r\n              return (\r\n                <Suspense fallback={<Spinner />}>\r\n                  <Root>\r\n                    <Header>\r\n                      <RouterLink to='/products'>Products</RouterLink>\r\n                      <RouterLink to='/operations'>Operations</RouterLink>\r\n                      <RouterLink to='/invoices'>Invoices</RouterLink>\r\n                    </Header>\r\n                    <Content>{slot}</Content>\r\n                    <Footer> {new Date().getFullYear()} Some Cool Company Ltd.</Footer>\r\n                  </Root>\r\n                </Suspense>\r\n              );\r\n            }}\r\n          </Router>\r\n        </CacheProvider>\r\n      </ApiProvider>\r\n    </>\r\n  );\r\n});\r\n\r\nexport { App };\r\n","import { h, component } from '@dark-engine/core';\r\nimport { createGlobalStyle, styled, keyframes } from '@dark-engine/styled';\r\nimport { type DarkJSX } from '@dark-engine/platform-browser';\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  *, *::before, *::after {\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  html, body {\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n\r\n  body {\r\n    font-family: sans-serif;\r\n    line-height: 1.4;\r\n    background-color: #1A237E;\r\n    overflow-y: scroll;\r\n  }\r\n\r\n  a {\r\n    margin: 4px;\r\n    color: blue;\r\n    text-decoration: none;\r\n  }\r\n\r\n  a:hover {\r\n    text-decoration: underline;\r\n  }\r\n\r\n  .router-link-active, .router-link-active:hover {\r\n    color: #ffeb3b;\r\n    text-decoration: underline;\r\n  }\r\n\r\n  .router-back-link, .router-back-link:hover {\r\n    color: #fff;\r\n  }\r\n`;\r\n\r\nconst Error = component<{ value: string }>(({ value }) => <div>{value} </div>);\r\n\r\nconst rotate = keyframes`\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n`;\r\n\r\nconst SpinnerRoot = styled.div`\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n`;\r\n\r\nconst SpinnerHydrogen = styled.div`\r\n  width: 64px;\r\n  height: 64px;\r\n  clear: both;\r\n  margin: 20px auto;\r\n  position: relative;\r\n  border: 1px #000 solid;\r\n  border-radius: 50%;\r\n  animation: ${rotate} 0.6s infinite linear;\r\n\r\n  &::before,\r\n  &::after {\r\n    content: '';\r\n    position: absolute;\r\n    width: 10px;\r\n    height: 10px;\r\n    background-color: #000;\r\n    border-radius: 50%;\r\n  }\r\n\r\n  &::before {\r\n    top: calc(50% - 5px);\r\n    left: calc(50% - 5px);\r\n  }\r\n\r\n  &::after {\r\n    top: -1px;\r\n    left: -1px;\r\n  }\r\n`;\r\n\r\nconst Spinner = component(() => (\r\n  <SpinnerRoot>\r\n    <SpinnerHydrogen />\r\n  </SpinnerRoot>\r\n));\r\n\r\nconst fade = keyframes`\r\n  0% {\r\n    opacity: 0;\r\n  }\r\n\r\n  100% {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nconst AnimationFade = styled.div`\r\n  animation-name: ${fade};\r\n  animation-iteration-count: 1;\r\n  animation-duration: 300ms;\r\n  animation-fill-mode: both;\r\n  animation-timing-function: ease-in-out;\r\n`;\r\n\r\nconst Root = styled.div`\r\n  height: 100vh;\r\n  width: 1200px;\r\n  max-width: 100%;\r\n  margin: 0 auto;\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  grid-template-rows: 64px minmax(max-content, 1fr) 64px;\r\n`;\r\n\r\nconst Header = styled.header<{ $nested?: boolean } & DarkJSX.HTMLTags['header']>`\r\n  width: 100%;\r\n  background-color: ${p => (p.$nested ? '#673ab7' : '#03a9f4')};\r\n  padding: 16px;\r\n  color: #fff;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  & a {\r\n    text-transform: uppercase;\r\n    font-size: 0.9rem;\r\n  }\r\n\r\n  & a:not(.router-link-active) {\r\n    color: #fff;\r\n  }\r\n\r\n  & a:hover {\r\n    text-decoration: underline;\r\n  }\r\n`;\r\n\r\nconst Content = styled.main`\r\n  padding: 0 16px 16px;\r\n  background-color: #fff8e1;\r\n`;\r\n\r\nconst Footer = styled.footer`\r\n  padding: 16px;\r\n  background-color: #880e4f;\r\n  color: #fff;\r\n`;\r\n\r\nconst Card = styled.article<{ $loading?: boolean }>`\r\n  padding: 16px;\r\n  opacity: ${p => (p.$loading ? 0.2 : 1)};\r\n  transition: opacity 0.2s ease-in-out;\r\n  background-color: #fff;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\r\n`;\r\n\r\nconst Input = styled.input`\r\n  border: 1px solid blue;\r\n  height: 30px;\r\n  padding: 6px;\r\n`;\r\n\r\nconst Textarea = styled.textarea`\r\n  border: 1px solid blue;\r\n  resize: none;\r\n  min-height: 30px;\r\n  padding: 6px;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  grid-template-rows: repeat(5, auto);\r\n  grid-gap: 8px;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  padding: 6px 8px;\r\n  background-color: #2196f3;\r\n  color: #fff;\r\n  text-transform: uppercase;\r\n  border: none;\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  text-decoration: none;\r\n  line-height: 1.7;\r\n  font-size: 0.9rem;\r\n  margin: 0;\r\n\r\n  &:hover {\r\n    text-decoration: none;\r\n  }\r\n\r\n  ${Card} &:not(:last-child) {\r\n    margin-right: 6px;\r\n  }\r\n`;\r\n\r\nconst List = styled.ul`\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n`;\r\n\r\nconst ListItem = styled.li`\r\n  width: 100%;\r\n  background-color: #fff;\r\n  margin: 6px 0;\r\n  padding: 16px;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\r\n\r\n  &:first-child {\r\n    margin-top: 0;\r\n  }\r\n`;\r\n\r\nexport {\r\n  GlobalStyle,\r\n  Error,\r\n  Spinner,\r\n  AnimationFade,\r\n  Root,\r\n  Header,\r\n  Content,\r\n  Footer,\r\n  Card,\r\n  Input,\r\n  Textarea,\r\n  Form,\r\n  Button,\r\n  List,\r\n  ListItem,\r\n};\r\n","import { $$scope } from '../scope';\r\nimport { type Fiber } from '../fiber';\r\nimport { type Callback } from '../shared';\r\n\r\nfunction batch(callback: () => void) {\r\n  const $scope = $$scope();\r\n\r\n  $scope.setIsBatchZone(true);\r\n  callback();\r\n  $scope.setIsBatchZone(false);\r\n}\r\n\r\nfunction addBatch(fiber: Fiber, callback: Callback, change: Callback) {\r\n  const $scope = $$scope();\r\n\r\n  if ($scope.getIsTransitionZone()) {\r\n    callback();\r\n  } else {\r\n    const batch = fiber.batch || { timer: null, changes: [] };\r\n\r\n    fiber.batch = batch;\r\n    batch.changes.push(change);\r\n    batch.timer && clearTimeout(batch.timer);\r\n    batch.timer = setTimeout(() => {\r\n      batch.changes.splice(-1);\r\n      batch.changes.forEach(x => x());\r\n      fiber.batch = null;\r\n      callback();\r\n    });\r\n  }\r\n}\r\n\r\nexport { batch, addBatch };\r\n","import { type DarkElement, type TextBased, type SubscriberWithValue } from '../shared';\r\nimport { createContext, useContext } from '../context';\r\nimport { EventEmitter } from '../emitter';\r\nimport { component } from '../component';\r\nimport { getTime, nextTick } from '../utils';\r\nclass InMemoryCache<K extends string = string> {\r\n  private state: State;\r\n  private emitter1 = new EventEmitter<EventName, EventData<K>>();\r\n  private emitter2 = new EventEmitter<EventName, MonitorEventData<K>>();\r\n  private keys = new Set<K>();\r\n\r\n  constructor(state?: State) {\r\n    this.state = state || {};\r\n  }\r\n\r\n  getState() {\r\n    return this.state;\r\n  }\r\n\r\n  read<T>({ key, id = CACHE_ROOT_ID }: ReadOptions<K>) {\r\n    const map = this.state[key];\r\n    const record = (map?.[id] || null) as CacheRecord<T>;\r\n\r\n    return record;\r\n  }\r\n\r\n  write<T>({ key, id = CACHE_ROOT_ID, data }: WriteOptions<T, K>) {\r\n    if (!this.state[key]) this.state[key] = {};\r\n    const map = this.state[key];\r\n    const record: CacheRecord = { id, valid: true, modifiedAt: getTime(), data };\r\n\r\n    map[id] = record;\r\n    this.emitter1.emit('change', { type: 'write', key, id, record });\r\n  }\r\n\r\n  optimistic<T>({ key, id = CACHE_ROOT_ID, data }: OptimisticOptions<T, K>) {\r\n    if (!this.state[key]) this.state[key] = {};\r\n    const map = this.state[key];\r\n    const record: CacheRecord = { id, valid: false, modifiedAt: getTime(), data };\r\n\r\n    map[id] = record;\r\n    this.emitter1.emit('change', { type: 'optimistic', key, id, record });\r\n  }\r\n\r\n  invalidate({ key, id = CACHE_ROOT_ID }: InvalidateOptions<K>) {\r\n    const map = this.state[key];\r\n    if (!map) return;\r\n    const record = map[id];\r\n    if (!record) return;\r\n    record.valid = false;\r\n    this.emitter1.emit('change', { type: 'invalidate', key, id, record });\r\n  }\r\n\r\n  delete({ key, id = CACHE_ROOT_ID }: DeleteOptions<K>) {\r\n    if (!this.state[key]) return;\r\n    const map = this.state[key];\r\n\r\n    delete map[id];\r\n    this.emitter1.emit('change', { type: 'delete', key, id });\r\n  }\r\n\r\n  subscribe(subscriber: SubscriberWithValue<EventData<K>>) {\r\n    return this.emitter1.on('change', subscriber);\r\n  }\r\n\r\n  monitor(subscriber: SubscriberWithValue<MonitorEventData<K>>) {\r\n    return this.emitter2.on('change', subscriber);\r\n  }\r\n\r\n  __emit(data: MonitorEventData<K>) {\r\n    this.emitter2.emit('change', data);\r\n  }\r\n\r\n  __canUpdate(key: K) {\r\n    if (!this.keys.has(key)) {\r\n      this.keys.add(key);\r\n      nextTick(() => this.keys.delete(key));\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n}\r\n\r\nconst CacheContext = createContext<InMemoryCache>(null, { displayName: 'InMemoryCache' });\r\n\r\nconst useCache = () => useContext(CacheContext);\r\n\r\ntype CacheProviderProps = {\r\n  cache: InMemoryCache;\r\n  slot: DarkElement;\r\n};\r\n\r\nconst CacheProvider = component<CacheProviderProps>(({ cache, slot }) => {\r\n  if (useCache()) throw new Error('[Dark]: illegal cache provider!');\r\n  return CacheContext.Provider({ value: cache, slot });\r\n});\r\n\r\ntype State = Record<string, Record<string, CacheRecord>>;\r\n\r\ntype EventName = 'change';\r\ntype EventType = 'write' | 'optimistic' | 'invalidate' | 'delete';\r\ntype EventData<K extends string> = { type: EventType; key: K; id?: TextBased; record?: CacheRecord };\r\ntype MonitorEventPhase = 'start' | 'finish' | 'error';\r\ntype MonitorEventData<K extends string> = { type: MonitorEventType; phase: MonitorEventPhase; key: K; data?: unknown };\r\n\r\ntype BaseOptions<K> = {\r\n  key: K;\r\n  id?: TextBased;\r\n};\r\n\r\ntype ReadOptions<K> = BaseOptions<K>;\r\ntype WriteOptions<T, K> = { data: T } & BaseOptions<K>;\r\ntype OptimisticOptions<T, K> = { data: T } & BaseOptions<K>;\r\ntype InvalidateOptions<K> = BaseOptions<K>;\r\ntype DeleteOptions<K> = BaseOptions<K>;\r\n\r\nexport type CacheRecord<T = unknown> = {\r\n  id: TextBased;\r\n  data: T;\r\n  valid: boolean;\r\n  modifiedAt: number;\r\n};\r\n\r\nexport enum MonitorEventType {\r\n  QUERY = 'QUERY',\r\n  MUTATION = 'MUTATION',\r\n}\r\n\r\nfunction checkCache(cache: InMemoryCache) {\r\n  if (!cache) throw new Error('[Dark]: the hook requires a cache provider with a cache!');\r\n}\r\n\r\nconst CACHE_ROOT_ID = '__ROOT__';\r\n\r\nexport { CACHE_ROOT_ID, InMemoryCache, CacheProvider, useCache, checkCache };\r\n","import type { ElementKey, Instance, DarkElement, RefProps, KeyProps, FlagProps } from '../shared';\r\nimport { KEY_ATTR } from '../constants';\r\nimport { error } from '../utils';\r\nimport { type Ref } from '../ref';\r\n\r\nconst $$inject = Symbol('inject');\r\nclass Component<P extends StandardComponentProps = any, R = any> {\r\n  type: CreateElement<P>;\r\n  props: P;\r\n  ref?: Ref<R>;\r\n  token?: Symbol;\r\n  displayName?: string;\r\n  shouldUpdate?: ShouldUpdate<P>;\r\n  children: Array<Instance> = [];\r\n\r\n  constructor(\r\n    type: CreateElement<P>,\r\n    token: Symbol,\r\n    props: P,\r\n    ref: Ref<R>,\r\n    shouldUpdate: ShouldUpdate<P>,\r\n    displayName: string,\r\n  ) {\r\n    this.type = type;\r\n    this.props = props;\r\n    ref && (this.ref = ref);\r\n    token && (this.token = token);\r\n    shouldUpdate && (this.shouldUpdate = shouldUpdate);\r\n    displayName && (this.displayName = displayName);\r\n  }\r\n}\r\n\r\nfunction component<P extends object, R = unknown>(type: CreateElement<P, R>, options: ComponentOptions = {}) {\r\n  const { token: $token, displayName } = options;\r\n  type Props = P & StandardComponentProps;\r\n  const factory: ComponentFactoryWithPossiblyInject<Props, R> = (props = {} as Props, ref?: Ref<R>) => {\r\n    const { token = $token, shouldUpdate } = factory[$$inject] || defaultInject;\r\n\r\n    if (props.ref) {\r\n      delete props.ref;\r\n\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        process.env.NODE_ENV === 'development' &&\r\n          error(`[Dark]: to use ref you need to wrap the component with forwardRef!`);\r\n      }\r\n    }\r\n\r\n    return new Component(type, token, props, ref, shouldUpdate, displayName);\r\n  };\r\n\r\n  return factory as ComponentFactory<Props, R>;\r\n}\r\n\r\nconst defaultInject: ComponentInject = {};\r\n\r\nconst detectIsComponent = (x: unknown): x is Component => x instanceof Component;\r\n\r\nconst getComponentKey = (x: Component): ElementKey => x.props[KEY_ATTR] ?? null;\r\n\r\nconst hasComponentFlag = (inst: Component, flag: string) => Boolean(inst.props[flag]);\r\n\r\ntype ComponentOptions = Readonly<{\r\n  displayName?: string;\r\n  token?: Symbol;\r\n}>;\r\n\r\ntype ComponentFactoryWithPossiblyInject<P extends object = {}, R = unknown> = {\r\n  (props?: P, ref?: Ref<R>): Component<P, R>;\r\n  [$$inject]?: ComponentInject<P>;\r\n};\r\n\r\ntype CreateElement<P extends StandardComponentProps, R = unknown> = (props: P, ref?: Ref<R>) => DarkElement;\r\n\r\nexport type ComponentInject<P extends object = {}> = Readonly<{\r\n  token?: Symbol;\r\n  shouldUpdate?: ShouldUpdate<P>;\r\n}>;\r\n\r\nexport type ShouldUpdate<P> = (prevProps: P, nextProps: P) => boolean;\r\n\r\nexport type StandardComponentProps = KeyProps & RefProps & FlagProps;\r\n\r\nexport type ComponentFactory<P extends object = {}, R = unknown> = (props?: P, ref?: Ref<R>) => Component<P, R>;\r\n\r\nexport { Component, component, $$inject, detectIsComponent, getComponentKey, hasComponentFlag };\r\n","export const VERSION = '0.25.1';\r\nexport const ROOT = 'dark:root';\r\nexport const REPLACER = 'dark:matter';\r\nexport const INDEX_KEY = 'dark:idx';\r\nexport const KEY_ATTR = 'key';\r\nexport const REF_ATTR = 'ref';\r\nexport const CREATE_EFFECT_TAG = 'C';\r\nexport const UPDATE_EFFECT_TAG = 'U';\r\nexport const DELETE_EFFECT_TAG = 'D';\r\nexport const SKIP_EFFECT_TAG = 'S';\r\nexport const INSERTION_EFFECT_HOST_MASK = 1;\r\nexport const LAYOUT_EFFECT_HOST_MASK = 2;\r\nexport const ASYNC_EFFECT_HOST_MASK = 4;\r\nexport const ATOM_HOST_MASK = 8;\r\nexport const PORTAL_HOST_MASK = 16;\r\nexport const SHADOW_MASK = 32;\r\nexport const FLUSH_MASK = 64;\r\nexport const MOVE_MASK = 128;\r\nexport const HOOK_DELIMETER = ':';\r\nexport const YIELD_INTERVAL = 6;\r\nexport const APP_STATE_ATTR = 'dark-app-state';\r\n\r\nexport enum TaskPriority {\r\n  LOW = 0,\r\n  NORMAL = 1,\r\n  HIGH = 2,\r\n}\r\n\r\nexport enum Flag {\r\n  SKIP_SCAN_OPT = '__skipScanOpt',\r\n  MEMO_SLOT_OPT = '__memoSlotOpt',\r\n  STATIC_SLOT_OPT = '__staticSlotOpt',\r\n}\r\n\r\nexport const FLAGS = {\r\n  __skipScanOpt: true,\r\n  __memoSlotOpt: true,\r\n  __staticSlotOpt: true,\r\n};\r\n\r\nexport const ATTR_BLACK_LIST = {\r\n  [KEY_ATTR]: true,\r\n  [REF_ATTR]: true,\r\n  [Flag.SKIP_SCAN_OPT]: true,\r\n  [Flag.MEMO_SLOT_OPT]: true,\r\n  [Flag.STATIC_SLOT_OPT]: true,\r\n};\r\n","import type { DarkElement, Subscribe, SubscriberWithValue, SlotProps, KeyProps } from '../shared';\r\nimport { type ComponentFactory, component } from '../component';\r\nimport type { Fiber } from '../fiber';\r\nimport { detectIsFunction } from '../utils';\r\nimport { $$scope } from '../scope';\r\nimport { useEffect } from '../use-effect';\r\nimport { useMemo } from '../use-memo';\r\nimport { useUpdate } from '../use-update';\r\n\r\ntype CreateContextOptions = {\r\n  displayName?: string;\r\n};\r\n\r\nfunction createContext<T>(defaultValue: T, options?: CreateContextOptions): Context<T> {\r\n  const { displayName = 'Context' } = options || {};\r\n  const context: Context<T> = {\r\n    displayName,\r\n    defaultValue,\r\n    Provider: null,\r\n    Consumer: null,\r\n  };\r\n\r\n  context.Provider = createProvider(context, defaultValue, displayName);\r\n  context.Consumer = createConsumer(context, displayName);\r\n\r\n  return context;\r\n}\r\n\r\nfunction createProvider<T>(context: Context<T>, defaultValue: T, displayName: string) {\r\n  return component<ContexProviderProps<T>>(\r\n    ({ value = defaultValue, slot }) => {\r\n      const fiber = $$scope().getCursorFiber();\r\n\r\n      if (!fiber.provider) {\r\n        const providerValue: ContextProviderValue<T> = {\r\n          value,\r\n          subscribers: new Set(),\r\n          subscribe: (subscriber: (value: T) => void) => {\r\n            providerValue.subscribers.add(subscriber);\r\n\r\n            return () => providerValue.subscribers.delete(subscriber);\r\n          },\r\n        };\r\n\r\n        fiber.provider = new Map();\r\n        fiber.provider.set(context, providerValue);\r\n      }\r\n\r\n      const provider = fiber.provider.get(context);\r\n\r\n      useEffect(() => {\r\n        provider.subscribers.forEach(fn => fn(value));\r\n      }, [value]);\r\n\r\n      provider.value = value;\r\n\r\n      return slot;\r\n    },\r\n    { displayName: `${displayName}.Provider` },\r\n  );\r\n}\r\n\r\ntype ConsumerProps<T> = {\r\n  slot: (value: T) => DarkElement;\r\n};\r\n\r\nfunction createConsumer<T>(context: Context<T>, displayName: string) {\r\n  return component<ConsumerProps<T>>(\r\n    ({ slot }) => {\r\n      const value = useContext(context);\r\n\r\n      return detectIsFunction(slot) ? slot(value) : null;\r\n    },\r\n    { displayName: `${displayName}.Consumer` },\r\n  );\r\n}\r\n\r\nfunction useContext<T>(context: Context<T>): T {\r\n  const { defaultValue } = context;\r\n  const fiber = $$scope().getCursorFiber();\r\n  const provider = useMemo(() => getProvider<T>(context, fiber), []);\r\n  const value = provider ? provider.value : defaultValue;\r\n  const update = useUpdate();\r\n  const scope = useMemo(() => ({ value }), []);\r\n  const hasProvider = Boolean(provider);\r\n\r\n  useEffect(() => {\r\n    if (!hasProvider) return;\r\n    const unsubscribe = provider.subscribe((value: T) => {\r\n      if (!Object.is(scope.value, value)) {\r\n        update();\r\n      }\r\n    });\r\n\r\n    return unsubscribe;\r\n  }, [hasProvider]);\r\n\r\n  scope.value = value;\r\n\r\n  return value;\r\n}\r\n\r\nfunction getProvider<T>(context: Context<T>, fiber: Fiber): ContextProviderValue<T> {\r\n  let nextFiber = fiber;\r\n\r\n  while (nextFiber) {\r\n    if (nextFiber.provider && nextFiber.provider.get(context)) {\r\n      return nextFiber.provider.get(context) as ContextProviderValue<T>;\r\n    }\r\n\r\n    nextFiber = nextFiber.parent;\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\ntype ContexProviderProps<T> = {\r\n  value: T;\r\n} & SlotProps &\r\n  KeyProps;\r\n\r\nexport type Context<T = unknown> = {\r\n  Provider: ComponentFactory<ContexProviderProps<T>>;\r\n  Consumer: ComponentFactory<SlotProps<(value: T) => DarkElement>>;\r\n  displayName?: string;\r\n  defaultValue: T;\r\n};\r\n\r\nexport type ContextProviderValue<T = unknown> = {\r\n  value: T;\r\n  subscribers: Set<(value: T) => void>;\r\n  subscribe: Subscribe<SubscriberWithValue<T>>;\r\n};\r\n\r\nexport { createContext, useContext };\r\n","import { detectIsString, detectIsFunction } from '../utils';\r\nimport { type TagVirtualNodeFactory, type ViewOptions, View } from '../view';\r\nimport { type ComponentFactory } from '../component';\r\n\r\nfunction createElement(\r\n  element: string | Function,\r\n  props: object,\r\n  ...slot: Array<any>\r\n): ComponentFactory | TagVirtualNodeFactory | null {\r\n  if (detectIsString(element)) {\r\n    const options = (props || {}) as ViewOptions;\r\n\r\n    options.as = element;\r\n    options.slot = slot;\r\n\r\n    return View(options);\r\n  }\r\n\r\n  if (detectIsFunction(element)) {\r\n    const options = (props || {}) as { slot: unknown };\r\n\r\n    options.slot = slot.length === 1 ? slot[0] : slot;\r\n\r\n    return element(options);\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nexport { createElement, createElement as h };\r\n","import { type SubscriberWithValue } from '../shared';\r\n\r\ntype EventName = 'finish' | 'chunk';\r\n\r\nclass EventEmitter<E extends string = EventName, T = unknown> {\r\n  private subscribers: Map<Partial<E>, Set<SubscriberWithValue<unknown>>> = new Map();\r\n\r\n  on<T>(e: E, fn: SubscriberWithValue<T>) {\r\n    !this.subscribers.has(e) && this.subscribers.set(e, new Set());\r\n    this.subscribers.get(e).add(fn);\r\n\r\n    return () => this.subscribers.has(e) && this.subscribers.get(e).delete(fn);\r\n  }\r\n\r\n  emit(e: E, data?: T) {\r\n    this.subscribers.has(e) && this.subscribers.get(e).forEach(x => x(data));\r\n  }\r\n\r\n  kill() {\r\n    this.subscribers = new Map();\r\n  }\r\n\r\n  __getSize() {\r\n    return this.subscribers.size;\r\n  }\r\n}\r\n\r\nexport { EventEmitter };\r\n","import { detectIsTagVirtualNode, detectIsPlainVirtualNode, detectAreSameComponentTypesWithSameKeys } from '../view';\r\nimport { type Instance, type Callback, type TimerId } from '../shared';\r\nimport { type Context, type ContextProviderValue } from '../context';\r\nimport { detectIsComponent } from '../component';\r\nimport { detectIsFunction } from '../utils';\r\nimport { type Atom } from '../atom';\r\nimport { $$scope } from '../scope';\r\n\r\nclass Fiber<N = NativeElement> {\r\n  id = 0;\r\n  cc = 0; // child fibers count\r\n  cec = 0; // child native elements count\r\n  idx = 0; // idx of fiber in the parent fiber\r\n  eidx = 0; // native element idx\r\n  mask = 0; // bit mask\r\n  element: N = null; // native element\r\n  tag: string = null; // effect tag (CREATE, UPDATE, DELETE, SKIP)\r\n  parent: Fiber<N> = null; // parent fiber\r\n  child: Fiber<N> = null; // child fiber\r\n  next: Fiber<N> = null; // next sibling fiber\r\n  alt: Fiber<N> = null; // alternate fiber (previous)\r\n  inst: Instance = null; // instance of component or virtual node\r\n  hook: Hook | null = null; // hook\r\n  provider: Map<Context, ContextProviderValue> = null; // provider of context\r\n  atoms: Map<Atom, Callback> = null;\r\n  marker: string; // for dev\r\n  batch: Batch;\r\n  catch: (error: Error) => void;\r\n\r\n  constructor(hook: Hook = null, provider: Fiber['provider'] = null, idx = 0) {\r\n    this.id = ++Fiber.nextId;\r\n    this.idx = idx;\r\n    hook && (this.hook = hook);\r\n    provider && (this.provider = provider);\r\n  }\r\n\r\n  mutate(fiber: Partial<Fiber<N>>) {\r\n    const keys = Object.keys(fiber);\r\n\r\n    for (const key of keys) {\r\n      this[key] = fiber[key];\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  markHost(mask: number) {\r\n    this.mask |= mask;\r\n    this.parent && !(this.parent.mask & mask) && this.parent.markHost(mask);\r\n  }\r\n\r\n  increment(count = 1, force = false) {\r\n    if (!this.parent) return;\r\n    const $scope = $$scope();\r\n    const isUpdateZone = $scope.getIsUpdateZone();\r\n    const wipFiber = $scope.getWorkInProgress();\r\n    const stop = isUpdateZone && wipFiber.parent === this.parent;\r\n\r\n    if (\r\n      detectIsPlainVirtualNode(this.inst) ||\r\n      (detectIsTagVirtualNode(this.inst) && this.inst.children?.length === 0)\r\n    ) {\r\n      this.cec = 1;\r\n    }\r\n\r\n    if (isUpdateZone && stop && !force) return;\r\n\r\n    this.parent.cec += count;\r\n\r\n    if (!this.parent.element) {\r\n      this.parent.increment(count);\r\n    }\r\n  }\r\n\r\n  setError(error: Error) {\r\n    if (detectIsFunction(this.catch)) {\r\n      this.catch(error);\r\n    } else if (this.parent) {\r\n      this.parent.setError(error);\r\n    }\r\n  }\r\n\r\n  static setNextId(id: number) {\r\n    Fiber.nextId = id;\r\n  }\r\n\r\n  private static nextId = 0;\r\n}\r\n\r\nclass Hook<T = any> {\r\n  id = 0;\r\n  idx = 0;\r\n  values: Array<T> = [];\r\n  owner: Fiber = null;\r\n  private static nextId = 0;\r\n\r\n  constructor() {\r\n    this.id = ++Hook.nextId;\r\n  }\r\n}\r\n\r\nfunction getHook(alt: Fiber, prevInst: Instance, nextInst: Instance): Hook | null {\r\n  if (alt && detectAreSameComponentTypesWithSameKeys(prevInst, nextInst)) return alt.hook;\r\n  if (detectIsComponent(nextInst)) return new Hook();\r\n\r\n  return null;\r\n}\r\n\r\ntype Batch = {\r\n  timer: TimerId;\r\n  changes: Array<Callback>;\r\n};\r\n\r\nexport type NativeElement = unknown;\r\nexport type HookValue<T = any> = { deps: Array<any>; value: T };\r\n\r\nexport { Fiber, Hook, getHook };\r\n","import { component, detectIsComponent } from '../component';\r\nimport type { KeyProps, SlotProps } from '../shared';\r\n\r\ntype FragmentProps = Required<SlotProps> & KeyProps;\r\n\r\nconst $$fragment = Symbol('fragment');\r\n\r\nconst Fragment = component<FragmentProps>(({ slot }) => slot || null, { token: $$fragment });\r\n\r\nconst detectIsFragment = (instance: unknown) => detectIsComponent(instance) && instance.token === $$fragment;\r\n\r\nexport { Fragment, detectIsFragment };\r\n","import { type ComponentFactory, component } from '../component';\r\nimport { detectIsUndefined, dummyFn } from '../utils';\r\nimport { detectIsServer } from '../platform';\r\nimport { useSuspense } from '../suspense';\r\nimport { useUpdate } from '../use-update';\r\nimport { useEffect } from '../use-effect';\r\nimport { forwardRef } from '../ref';\r\nimport { $$scope } from '../scope';\r\nimport { useId } from '../use-id';\r\n\r\nconst $$lazy = Symbol('lazy');\r\nconst factories = new Map<Function, ComponentFactory>();\r\n\r\nfunction lazy<P extends object, R = unknown>(module: ModuleFn<P>, done: () => void = dummyFn) {\r\n  return forwardRef(\r\n    component<P, R>(\r\n      function type(props, ref) {\r\n        const { isLoaded, fallback, register, unregister } = useSuspense();\r\n        const $scope = $$scope();\r\n        const update = useUpdate();\r\n        const id = useId();\r\n        const factory = factories.get(module);\r\n\r\n        if (detectIsUndefined(factory)) {\r\n          const isServer = detectIsServer();\r\n          const isHydrateZone = $scope.getIsHydrateZone();\r\n          const make = async () => {\r\n            factories.set(module, await load(module));\r\n            unregister(id);\r\n            done();\r\n          };\r\n\r\n          register(id);\r\n          factories.set(module, null);\r\n\r\n          if (isServer || isHydrateZone) {\r\n            $scope.defer(make);\r\n          } else {\r\n            make().then(() => update());\r\n          }\r\n        }\r\n\r\n        useEffect(() => () => unregister(id), []);\r\n\r\n        return factory ? factory(props, ref) : isLoaded ? fallback : null;\r\n      },\r\n      { token: $$lazy },\r\n    ),\r\n  );\r\n}\r\n\r\nfunction load<P extends object>(module: ModuleFn<P>) {\r\n  return new Promise<ComponentFactory<P>>(resolve => {\r\n    module().then(module => {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        if (!module.default) {\r\n          throw new Error('[Dark]: the lazy loaded component should be exported as default!');\r\n        }\r\n      }\r\n\r\n      resolve(module.default);\r\n    });\r\n  });\r\n}\r\n\r\ntype ModuleFn<P extends object> = () => Promise<Module<P>>;\r\n\r\nexport type Module<P extends object = {}> = { default: ComponentFactory<P> };\r\n\r\nexport { lazy };\r\n","import {\r\n  type ComponentFactory,\r\n  type StandardComponentProps,\r\n  type ShouldUpdate,\r\n  type ComponentInject,\r\n  $$inject,\r\n  detectIsComponent,\r\n} from '../component';\r\nimport type { SlotProps, RefProps } from '../shared';\r\n\r\nconst $$memo = Symbol('memo');\r\n\r\nconst defaultShouldUpdate = (props: {}, nextProps: {}): boolean => {\r\n  const keys = Object.keys(nextProps);\r\n\r\n  for (const key of keys) {\r\n    if (key !== 'slot' && nextProps[key] !== props[key]) return true;\r\n  }\r\n\r\n  return false;\r\n};\r\n\r\nfunction memo<P extends object, R = unknown>(\r\n  factory: ComponentFactory<P, R>,\r\n  shouldUpdate: ShouldUpdate<P & SlotProps> = defaultShouldUpdate,\r\n) {\r\n  type P1 = P & Omit<StandardComponentProps, 'ref'> & RefProps<R>;\r\n\r\n  factory[$$inject] = {\r\n    token: $$memo,\r\n    shouldUpdate,\r\n  } as ComponentInject<P1>;\r\n\r\n  return factory as ComponentFactory<P1, R>;\r\n}\r\n\r\nconst detectIsMemo = (instance: unknown) => detectIsComponent(instance) && instance.token === $$memo;\r\n\r\nexport { memo, detectIsMemo };\r\n","import { type Fiber } from '../fiber';\r\nimport { type VirtualNode } from '../view';\r\nimport { type Callback } from '../shared';\r\n\r\nexport type Platform = {\r\n  createElement: <N>(vNode: VirtualNode) => N;\r\n  insertElement: <N>(node: N, idx: number, parent: N) => void;\r\n  raf: typeof requestAnimationFrame;\r\n  caf: typeof cancelAnimationFrame;\r\n  spawn: (callback: Callback) => void;\r\n  commit: (fiber: Fiber) => void;\r\n  finishCommit: () => void;\r\n  detectIsDynamic: () => boolean;\r\n  detectIsPortal: (instance: unknown) => boolean;\r\n  unmountPortal: (fiber: Fiber) => void;\r\n  chunk: (fiber: Fiber) => void;\r\n};\r\n\r\nconst defaultRealisation = () => {\r\n  throw new Error('Function not installed by renderer!');\r\n};\r\n\r\nconst platform: Platform = {\r\n  createElement: defaultRealisation,\r\n  insertElement: defaultRealisation,\r\n  raf: defaultRealisation,\r\n  caf: defaultRealisation,\r\n  spawn: defaultRealisation,\r\n  commit: defaultRealisation,\r\n  finishCommit: defaultRealisation,\r\n  detectIsDynamic: defaultRealisation,\r\n  detectIsPortal: defaultRealisation,\r\n  unmountPortal: defaultRealisation,\r\n  chunk: defaultRealisation,\r\n};\r\n\r\nconst detectIsServer = () => !platform.detectIsDynamic();\r\n\r\nexport { platform, detectIsServer };\r\n","import { detectIsObject, detectIsNull, detectIsFunction } from '../utils';\r\nimport type { Component, ComponentFactory } from '../component';\r\nimport type { RefProps, KeyProps, FlagProps } from '../shared';\r\nimport { useMemo } from '../use-memo';\r\n\r\nfunction forwardRef<P extends object, R>(\r\n  component: ComponentFactory<P, R>,\r\n): ComponentFactory<P & RefProps<R> & KeyProps & FlagProps, R> {\r\n  type Props = P & RefProps<R>;\r\n\r\n  return (props: Props) => {\r\n    const { ref, ...rest } = (props || {}) as Props;\r\n\r\n    return component(rest as P, ref) as Component<P, R>;\r\n  };\r\n}\r\n\r\nfunction detectIsMutableRef(ref: unknown): ref is MutableRef {\r\n  if (!detectIsObject(ref) || detectIsNull(ref)) return false;\r\n  const mutableRef = ref as MutableRef;\r\n\r\n  for (const key in mutableRef) {\r\n    if (key === 'current' && mutableRef.hasOwnProperty(key)) {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\nfunction applyRef<T>(ref: Ref<T>, current: T) {\r\n  if (detectIsFunction(ref)) {\r\n    ref(current);\r\n  } else if (detectIsMutableRef(ref)) {\r\n    ref.current = current;\r\n  }\r\n}\r\n\r\nfunction useRef<T>(initialValue: T = null): MutableRef<T> {\r\n  const ref = useMemo(() => ({ current: initialValue }), []) as MutableRef<T>;\r\n\r\n  return ref;\r\n}\r\n\r\nexport type MutableRef<T = unknown> = {\r\n  current: T;\r\n};\r\n\r\nexport type FunctionRef<T = unknown> = (ref: T) => void;\r\n\r\nexport type Ref<T = unknown> = MutableRef<T> | FunctionRef<T>;\r\n\r\nexport { forwardRef, detectIsMutableRef, applyRef, useRef };\r\n","import { type WorkLoop, workLoop, detectIsBusy } from '../workloop';\r\nimport { type SetPendingStatus } from '../start-transition';\r\nimport { type Callback } from '../shared';\r\nimport { type Fiber } from '../fiber';\r\nimport { ROOT, HOOK_DELIMETER, YIELD_INTERVAL, TaskPriority } from '../constants';\r\nimport { getTime, detectIsFunction, nextTick } from '../utils';\r\nimport { EventEmitter } from '../emitter';\r\nimport { platform } from '../platform';\r\n\r\nclass MessageChannel extends EventEmitter<PortEvent> {\r\n  port1: MessagePort = null;\r\n  port2: MessagePort = null;\r\n\r\n  constructor() {\r\n    super();\r\n    this.port1 = new MessagePort(this);\r\n    this.port2 = new MessagePort(this);\r\n  }\r\n}\r\n\r\nclass MessagePort {\r\n  channel: MessageChannel;\r\n  offs: Array<Callback> = [];\r\n\r\n  constructor(channel: MessageChannel) {\r\n    this.channel = channel;\r\n  }\r\n\r\n  on(event: PortEvent, callback: PortListener) {\r\n    const off = this.channel.on(event, callback);\r\n\r\n    this.offs.push(off);\r\n  }\r\n\r\n  postMessage(value: unknown) {\r\n    platform.spawn(() => {\r\n      this.channel.emit('message', value);\r\n    });\r\n  }\r\n\r\n  unref() {\r\n    this.offs.forEach(x => x());\r\n  }\r\n}\r\n\r\nclass Scheduler {\r\n  private queue: Record<TaskPriority, Array<Task>> = {\r\n    [TaskPriority.HIGH]: [],\r\n    [TaskPriority.NORMAL]: [],\r\n    [TaskPriority.LOW]: [],\r\n  };\r\n  private deadline = 0;\r\n  private task: Task = null;\r\n  private scheduledCallback: WorkLoop = null;\r\n  private isMessageLoopRunning = false;\r\n  private channel: MessageChannel = null;\r\n  private port: MessagePort = null;\r\n\r\n  constructor() {\r\n    this.channel = new MessageChannel();\r\n    this.port = this.channel.port2;\r\n    this.channel.port1.on('message', this.performWorkUntilDeadline.bind(this));\r\n  }\r\n\r\n  reset() {\r\n    this.deadline = 0;\r\n    this.task = null;\r\n    this.scheduledCallback = null;\r\n    this.isMessageLoopRunning = false;\r\n  }\r\n\r\n  shouldYield() {\r\n    return getTime() >= this.deadline;\r\n  }\r\n\r\n  schedule(callback: Callback, options?: ScheduleCallbackOptions) {\r\n    const {\r\n      priority = TaskPriority.NORMAL,\r\n      forceAsync = false,\r\n      isTransition = false,\r\n      createLocation,\r\n      setPendingStatus,\r\n    } = options || {};\r\n    const task = new Task(callback, priority, forceAsync);\r\n\r\n    task.setIsTransition(isTransition);\r\n    task.setPendingSetter(setPendingStatus);\r\n    task.setLocationCreator(createLocation || createRootLocation);\r\n    this.put(task);\r\n    this.execute();\r\n  }\r\n\r\n  hasPrimaryTask() {\r\n    if (!this.task.getIsTransition()) return false;\r\n    const { high, normal, low } = this.getQueues();\r\n    const hasPrimary = high.length > 0 || normal.length > 0;\r\n    const hasLow = low.length > 0;\r\n\r\n    if (hasPrimary || hasLow) {\r\n      const loc = this.task.createLocation();\r\n\r\n      if (hasPrimary) {\r\n        const has = Task.detectHasRelatedUpdate(loc, high, true) || Task.detectHasRelatedUpdate(loc, normal, true);\r\n\r\n        if (has) {\r\n          this.task.markAsUnnecessary();\r\n        }\r\n\r\n        return true;\r\n      }\r\n\r\n      if (hasLow) {\r\n        const has = Task.detectHasRelatedUpdate(loc, low);\r\n\r\n        if (has) {\r\n          this.task.markAsUnnecessary();\r\n\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  cancelTask(fn: TaskRestorer) {\r\n    if (this.task.getIsUnnecessary()) return this.complete(this.task);\r\n    this.task.setTaskRestorer(fn);\r\n    this.defer(this.task);\r\n  }\r\n\r\n  private complete(task: Task) {\r\n    task.pending(false);\r\n  }\r\n\r\n  private put(task: Task) {\r\n    const queue = this.queue[task.getPriority()];\r\n\r\n    if (task.getIsTransition()) {\r\n      const loc = task.createLocation();\r\n      const tasks = queue.filter(x => x.createLocation() !== loc);\r\n\r\n      queue.splice(0, queue.length, ...tasks);\r\n    }\r\n\r\n    queue.push(task);\r\n  }\r\n\r\n  private pick(queue: Array<Task>) {\r\n    if (queue.length === 0) return false;\r\n    this.task = queue.shift();\r\n\r\n    if (this.task.getIsTransition() && this.task.canPending()) {\r\n      const task = this.task;\r\n\r\n      task.markAsPending();\r\n      this.defer(this.task);\r\n      this.task = null;\r\n\r\n      nextTick(() => task.pending(true));\r\n\r\n      return true;\r\n    }\r\n\r\n    this.task.run();\r\n    this.task.getForceAsync() ? this.requestCallbackAsync(workLoop) : this.requestCallback(workLoop);\r\n\r\n    return true;\r\n  }\r\n\r\n  private execute() {\r\n    const isBusy = detectIsBusy();\r\n    const { high, normal, low } = this.getQueues();\r\n\r\n    if (!isBusy && !this.isMessageLoopRunning) {\r\n      this.pick(high) || this.pick(normal) || this.pick(low);\r\n    }\r\n  }\r\n\r\n  private requestCallbackAsync(callback: WorkLoop) {\r\n    this.scheduledCallback = callback;\r\n\r\n    if (!this.isMessageLoopRunning) {\r\n      this.isMessageLoopRunning = true;\r\n      this.port.postMessage(null);\r\n    }\r\n  }\r\n\r\n  private requestCallback(callback: WorkLoop) {\r\n    callback(false);\r\n    this.task = null;\r\n    this.execute();\r\n  }\r\n\r\n  private performWorkUntilDeadline() {\r\n    if (this.scheduledCallback) {\r\n      this.deadline = getTime() + YIELD_INTERVAL;\r\n      const hasMoreWork = this.scheduledCallback(true);\r\n\r\n      if (hasMoreWork) {\r\n        this.port.postMessage(null);\r\n      } else {\r\n        if (hasMoreWork === null) {\r\n          setTimeout(() => this.port.postMessage(null)); // has promise\r\n        } else {\r\n          this.complete(this.task);\r\n          this.reset();\r\n          this.execute();\r\n        }\r\n      }\r\n    } else {\r\n      this.isMessageLoopRunning = false;\r\n    }\r\n  }\r\n\r\n  private defer(task: Task) {\r\n    const { low } = this.getQueues();\r\n\r\n    low.unshift(task);\r\n  }\r\n\r\n  private getQueues() {\r\n    const high = this.queue[TaskPriority.HIGH];\r\n    const normal = this.queue[TaskPriority.NORMAL];\r\n    const low = this.queue[TaskPriority.LOW];\r\n\r\n    return {\r\n      high,\r\n      normal,\r\n      low,\r\n    };\r\n  }\r\n}\r\n\r\ntype TaskCallback = (fn: TaskRestorer) => void;\r\ntype TaskRestorer = (options: RestoreOptions) => void;\r\ntype LocationCreator = () => string;\r\n\r\nclass Task {\r\n  private id: number;\r\n  private priority: TaskPriority;\r\n  private forceAsync: boolean;\r\n  private isTransition: boolean;\r\n  private isPending: boolean;\r\n  private isUnnecessary: boolean;\r\n  private callback: TaskCallback;\r\n  private taskRestorer?: TaskRestorer = null;\r\n  private locationCreator?: LocationCreator;\r\n  private pendingSetter?: SetPendingStatus = null;\r\n  private static nextTaskId = 0;\r\n\r\n  constructor(callback: TaskCallback, priority: TaskPriority, forceAsync: boolean) {\r\n    this.id = ++Task.nextTaskId;\r\n    this.callback = callback;\r\n    this.priority = priority;\r\n    this.forceAsync = forceAsync;\r\n  }\r\n\r\n  getPriority() {\r\n    return this.priority;\r\n  }\r\n\r\n  getForceAsync() {\r\n    return this.forceAsync;\r\n  }\r\n\r\n  setIsTransition(value: boolean) {\r\n    this.isTransition = value;\r\n  }\r\n\r\n  getIsTransition() {\r\n    return this.isTransition;\r\n  }\r\n\r\n  run() {\r\n    this.callback(this.taskRestorer);\r\n    this.taskRestorer = null;\r\n  }\r\n\r\n  pending(value: boolean) {\r\n    this.isTransition && this.pendingSetter && this.pendingSetter(value);\r\n  }\r\n\r\n  markAsPending() {\r\n    this.isPending = true;\r\n  }\r\n\r\n  canPending() {\r\n    return !this.isPending && detectIsFunction(this.pendingSetter);\r\n  }\r\n\r\n  markAsUnnecessary() {\r\n    this.isUnnecessary = true;\r\n  }\r\n\r\n  getIsUnnecessary() {\r\n    return this.isUnnecessary;\r\n  }\r\n\r\n  setTaskRestorer(fn: TaskRestorer) {\r\n    this.taskRestorer = fn;\r\n  }\r\n\r\n  setLocationCreator(fn: LocationCreator) {\r\n    this.locationCreator = fn;\r\n  }\r\n\r\n  createLocation() {\r\n    return this.locationCreator();\r\n  }\r\n\r\n  setPendingSetter(fn: SetPendingStatus) {\r\n    this.pendingSetter = fn;\r\n  }\r\n\r\n  static detectHasRelatedUpdate(loc: string, tasks: Array<Task>, deep = false) {\r\n    const [$loc] = loc.split(HOOK_DELIMETER);\r\n\r\n    return tasks.some(x => {\r\n      const $$loc = x.createLocation();\r\n      const has = $$loc === loc || (deep && $$loc.length > loc.length && $$loc.indexOf($loc) !== -1);\r\n\r\n      return has;\r\n    });\r\n  }\r\n}\r\n\r\nconst createRootLocation: LocationCreator = () => ROOT;\r\n\r\ntype PortEvent = 'message';\r\ntype PortListener = (value: unknown) => void;\r\n\r\nexport type RestoreOptions = {\r\n  fiber: Fiber;\r\n  setValue?: () => void;\r\n  resetValue?: () => void;\r\n};\r\n\r\nexport type ScheduleCallbackOptions = {\r\n  priority?: TaskPriority;\r\n  forceAsync?: boolean;\r\n  isTransition?: boolean;\r\n  createLocation?: () => string;\r\n  setPendingStatus?: SetPendingStatus;\r\n  onCompleted?: () => void;\r\n};\r\n\r\nconst scheduler = new Scheduler();\r\n\r\nexport { scheduler };\r\n","import type { Callback, ElementKey, AppResources, AppResource } from '../shared';\r\nimport { type SetPendingStatus } from '../start-transition';\r\nimport { platform, detectIsServer } from '../platform';\r\nimport { EventEmitter } from '../emitter';\r\nimport { type Fiber } from '../fiber';\r\n\r\nclass Scope {\r\n  private root: Fiber = null;\r\n  private wip: Fiber = null;\r\n  private cursor: Fiber = null;\r\n  private unit: Fiber = null;\r\n  private mountDeep = true;\r\n  private mountLevel = 0;\r\n  private mountNav: Record<number, number> = {};\r\n  private events = new Map<string, WeakMap<object, Function>>();\r\n  private unsubs = new Set<Callback>();\r\n  private actions: Actions = {};\r\n  private candidates = new Set<Fiber>();\r\n  private deletions = new Set<Fiber>();\r\n  private cancels: Array<Callback> = [];\r\n  private asyncEffects = new Set<Callback>();\r\n  private layoutEffects = new Set<Callback>();\r\n  private insertionEffects = new Set<Callback>();\r\n  private resourceId = 0;\r\n  private resources: AppResources = new Map();\r\n  private defers: Array<() => Promise<unknown>> = [];\r\n  private setPendingStatus: SetPendingStatus = null;\r\n  private isLayoutEffectsZone = false;\r\n  private isInsertionEffectsZone = false;\r\n  private isUpdateZone = false;\r\n  private isBatchZone = false;\r\n  private isHydrateZone = false;\r\n  private isStreamZone = false;\r\n  private isTransitionZone = false;\r\n  private isEventZone = false;\r\n  private isHot = false;\r\n  private isDynamic = platform.detectIsDynamic();\r\n  private isServer = detectIsServer();\r\n  private emitter = new EventEmitter();\r\n\r\n  private resetActions() {\r\n    this.actions = {};\r\n  }\r\n\r\n  getActionsById(id: number) {\r\n    return this.actions[id];\r\n  }\r\n\r\n  addActionMap(id: number, map: Record<ElementKey, Fiber>) {\r\n    this.actions[id] = {\r\n      map,\r\n      replace: null,\r\n      insert: null,\r\n      remove: null,\r\n      move: null,\r\n      stable: null,\r\n    };\r\n  }\r\n\r\n  addReplaceAction(id: number, nextKey: ElementKey) {\r\n    !this.actions[id].replace && (this.actions[id].replace = {});\r\n    this.actions[id].replace[nextKey] = true;\r\n  }\r\n\r\n  addInsertAction(id: number, nextKey: ElementKey) {\r\n    !this.actions[id].insert && (this.actions[id].insert = {});\r\n    this.actions[id].insert[nextKey] = true;\r\n  }\r\n\r\n  addRemoveAction(id: number, prevKey: ElementKey) {\r\n    !this.actions[id].remove && (this.actions[id].remove = {});\r\n    this.actions[id].remove[prevKey] = true;\r\n  }\r\n\r\n  addMoveAction(id: number, nextKey: ElementKey) {\r\n    !this.actions[id].move && (this.actions[id].move = {});\r\n    this.actions[id].move[nextKey] = true;\r\n  }\r\n\r\n  addStableAction(id: number, nextKey: ElementKey) {\r\n    !this.actions[id].stable && (this.actions[id].stable = {});\r\n    this.actions[id].stable[nextKey] = true;\r\n  }\r\n\r\n  copy() {\r\n    const scope = new Scope();\r\n\r\n    scope.root = null;\r\n    scope.wip = null;\r\n    scope.cursor = null;\r\n    scope.unit = this.unit;\r\n    scope.mountDeep = this.mountDeep;\r\n    scope.mountLevel = this.mountLevel;\r\n    scope.mountNav = { ...this.mountNav };\r\n    scope.events = this.events;\r\n    scope.unsubs = this.unsubs;\r\n    scope.actions = { ...this.actions };\r\n    scope.candidates = new Set([...this.candidates]);\r\n    scope.deletions = new Set([...this.deletions]);\r\n    scope.asyncEffects = new Set([...this.asyncEffects]);\r\n    scope.layoutEffects = new Set([...this.layoutEffects]);\r\n    scope.isUpdateZone = this.isUpdateZone;\r\n    scope.emitter = this.emitter;\r\n\r\n    return scope;\r\n  }\r\n\r\n  getRoot() {\r\n    return this.root;\r\n  }\r\n\r\n  setRoot(fiber: Fiber) {\r\n    this.root = fiber;\r\n  }\r\n\r\n  getWorkInProgress() {\r\n    return this.wip;\r\n  }\r\n\r\n  setWorkInProgress(fiber: Fiber) {\r\n    this.wip = fiber;\r\n  }\r\n\r\n  getNextUnitOfWork() {\r\n    return this.unit;\r\n  }\r\n\r\n  setNextUnitOfWork(fiber: Fiber) {\r\n    this.unit = fiber;\r\n  }\r\n\r\n  getCursorFiber() {\r\n    return this.cursor;\r\n  }\r\n\r\n  setCursorFiber(fiber: Fiber) {\r\n    this.cursor = fiber;\r\n  }\r\n\r\n  navToChild() {\r\n    this.mountLevel = this.mountLevel + 1;\r\n    this.mountNav[this.mountLevel] = 0;\r\n  }\r\n\r\n  navToSibling() {\r\n    this.mountNav[this.mountLevel] = this.mountNav[this.mountLevel] + 1;\r\n  }\r\n\r\n  navToParent() {\r\n    this.mountLevel = this.mountLevel - 1;\r\n  }\r\n\r\n  navToPrev() {\r\n    const idx = this.getMountIndex();\r\n\r\n    if (idx === 0) {\r\n      this.navToParent();\r\n      this.setMountDeep(true);\r\n    } else {\r\n      this.mountNav[this.mountLevel] = this.mountNav[this.mountLevel] - 1;\r\n      this.setMountDeep(false);\r\n    }\r\n  }\r\n\r\n  getMountIndex() {\r\n    return this.mountNav[this.mountLevel];\r\n  }\r\n\r\n  getMountDeep() {\r\n    return this.mountDeep;\r\n  }\r\n\r\n  setMountDeep(value: boolean) {\r\n    this.mountDeep = value;\r\n  }\r\n\r\n  resetMount() {\r\n    this.mountLevel = 0;\r\n    this.mountNav = {};\r\n    this.mountDeep = true;\r\n  }\r\n\r\n  getEvents() {\r\n    return this.events;\r\n  }\r\n\r\n  addEventUnsubscriber(fn: Callback) {\r\n    this.unsubs.add(fn);\r\n  }\r\n\r\n  unsubscribeEvents() {\r\n    this.unsubs.forEach(x => x());\r\n    this.unsubs = new Set();\r\n  }\r\n\r\n  getCandidates() {\r\n    return this.candidates;\r\n  }\r\n\r\n  addCandidate(fiber: Fiber) {\r\n    this.candidates.add(fiber);\r\n  }\r\n\r\n  resetCandidates() {\r\n    this.candidates = new Set();\r\n  }\r\n\r\n  getDeletions() {\r\n    return this.deletions;\r\n  }\r\n\r\n  hasDeletion(fiber: Fiber) {\r\n    let nextFiber = fiber;\r\n\r\n    while (nextFiber) {\r\n      if (this.deletions.has(nextFiber)) return true;\r\n      nextFiber = nextFiber.parent;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  addDeletion(fiber: Fiber) {\r\n    !this.hasDeletion(fiber) && this.deletions.add(fiber);\r\n  }\r\n\r\n  resetDeletions() {\r\n    this.deletions = new Set();\r\n  }\r\n\r\n  addAsyncEffect(fn: Callback) {\r\n    this.asyncEffects.add(fn);\r\n  }\r\n\r\n  resetAsyncEffects() {\r\n    this.asyncEffects = new Set();\r\n  }\r\n\r\n  runAsyncEffects() {\r\n    if (!this.isDynamic) return;\r\n    const effects = this.asyncEffects;\r\n    effects.size > 0 && setTimeout(() => effects.forEach(fn => fn()));\r\n  }\r\n\r\n  addLayoutEffect(fn: Callback) {\r\n    this.layoutEffects.add(fn);\r\n  }\r\n\r\n  resetLayoutEffects() {\r\n    this.layoutEffects = new Set();\r\n  }\r\n\r\n  runLayoutEffects() {\r\n    if (!this.isDynamic) return;\r\n    this.setIsLayoutEffectsZone(true);\r\n    this.layoutEffects.forEach(fn => fn());\r\n    this.setIsLayoutEffectsZone(false);\r\n  }\r\n\r\n  addInsertionEffect(fn: Callback) {\r\n    this.insertionEffects.add(fn);\r\n  }\r\n\r\n  resetInsertionEffects() {\r\n    this.insertionEffects = new Set();\r\n  }\r\n\r\n  runInsertionEffects() {\r\n    if (!this.isDynamic) return;\r\n    this.setIsInsertionEffectsZone(true);\r\n    this.insertionEffects.forEach(fn => fn());\r\n    this.setIsInsertionEffectsZone(false);\r\n  }\r\n\r\n  addCancel(fn: Callback) {\r\n    this.cancels.push(fn);\r\n  }\r\n\r\n  applyCancels() {\r\n    for (let i = this.cancels.length - 1; i >= 0; i--) {\r\n      this.cancels[i]();\r\n    }\r\n  }\r\n\r\n  resetCancels() {\r\n    this.cancels = [];\r\n  }\r\n\r\n  getIsLayoutEffectsZone() {\r\n    return this.isLayoutEffectsZone;\r\n  }\r\n\r\n  setIsLayoutEffectsZone(value: boolean) {\r\n    this.isLayoutEffectsZone = value;\r\n  }\r\n\r\n  getIsInsertionEffectsZone() {\r\n    return this.isInsertionEffectsZone;\r\n  }\r\n\r\n  setIsInsertionEffectsZone(value: boolean) {\r\n    this.isInsertionEffectsZone = value;\r\n  }\r\n\r\n  getIsUpdateZone() {\r\n    return this.isUpdateZone;\r\n  }\r\n\r\n  setIsUpdateZone(value: boolean) {\r\n    this.isUpdateZone = value;\r\n  }\r\n\r\n  getIsBatchZone() {\r\n    return this.isBatchZone;\r\n  }\r\n\r\n  setIsBatchZone(value: boolean) {\r\n    this.isBatchZone = value;\r\n  }\r\n\r\n  getIsHydrateZone() {\r\n    return this.isHydrateZone;\r\n  }\r\n\r\n  setIsHydrateZone(value: boolean) {\r\n    this.isHydrateZone = value;\r\n  }\r\n\r\n  getIsStreamZone() {\r\n    return this.isStreamZone;\r\n  }\r\n\r\n  setIsStreamZone(value: boolean) {\r\n    this.isStreamZone = value;\r\n  }\r\n\r\n  getIsTransitionZone() {\r\n    return this.isTransitionZone;\r\n  }\r\n\r\n  setIsTransitionZone(value: boolean) {\r\n    this.isTransitionZone = value;\r\n  }\r\n\r\n  getIsEventZone() {\r\n    return this.isEventZone;\r\n  }\r\n\r\n  setIsEventZone(value: boolean) {\r\n    this.isEventZone = value;\r\n  }\r\n\r\n  getIsHot() {\r\n    return this.isHot;\r\n  }\r\n\r\n  setIsHot(value: boolean) {\r\n    this.isHot = value;\r\n  }\r\n\r\n  getPendingStatusSetter() {\r\n    return this.setPendingStatus;\r\n  }\r\n\r\n  setPendingStatusSetter(fn: SetPendingStatus) {\r\n    this.setPendingStatus = fn;\r\n  }\r\n\r\n  flush() {\r\n    !this.isUpdateZone && this.setRoot(this.wip); // !\r\n    this.setWorkInProgress(null);\r\n    this.setNextUnitOfWork(null);\r\n    this.setCursorFiber(null);\r\n    this.resetMount();\r\n    this.resetCandidates();\r\n    this.resetDeletions();\r\n    this.resetCancels();\r\n    this.resetInsertionEffects();\r\n    this.resetLayoutEffects();\r\n    this.resetAsyncEffects();\r\n    this.setIsHydrateZone(false);\r\n    this.setIsUpdateZone(false);\r\n    this.resetActions();\r\n  }\r\n\r\n  getEmitter() {\r\n    return this.emitter;\r\n  }\r\n\r\n  defer(fn: () => Promise<unknown>) {\r\n    this.defers.push(fn);\r\n  }\r\n\r\n  getDefers() {\r\n    return this.defers;\r\n  }\r\n\r\n  resetDefers() {\r\n    this.defers = [];\r\n  }\r\n\r\n  getResource(id: number) {\r\n    return this.resources.get(id);\r\n  }\r\n\r\n  setResource(id: number, res: AppResource) {\r\n    this.resources.set(id, res);\r\n  }\r\n\r\n  getResources() {\r\n    return this.resources;\r\n  }\r\n\r\n  getResourceId() {\r\n    return this.resourceId;\r\n  }\r\n\r\n  setResourceId(id: number) {\r\n    this.resourceId = id;\r\n  }\r\n\r\n  getNextResourceId() {\r\n    return ++this.resourceId;\r\n  }\r\n\r\n  runAfterCommit() {\r\n    this.resources = new Map();\r\n    this.isServer && (this.resourceId = 0);\r\n  }\r\n}\r\n\r\ntype Actions = Record<\r\n  number,\r\n  {\r\n    map: Record<ElementKey, Fiber>;\r\n    replace: Record<ElementKey, true>;\r\n    insert: Record<ElementKey, true>;\r\n    remove: Record<ElementKey, true>;\r\n    move: Record<ElementKey, true>;\r\n    stable: Record<ElementKey, true>;\r\n  }\r\n>;\r\n\r\nlet rootId: number = null;\r\nconst scopes = new Map<number, Scope>();\r\n\r\nconst getRootId = () => rootId;\r\n\r\nconst setRootId = (id: number) => {\r\n  rootId = id;\r\n  !scopes.has(rootId) && scopes.set(rootId, new Scope());\r\n};\r\n\r\nconst removeScope = (id: number) => scopes.delete(id);\r\n\r\nconst replaceScope = (scope: Scope, id: number = rootId) => {\r\n  Object.assign(scopes.get(id), scope);\r\n};\r\n\r\nconst $$scope = (id: number = rootId) => scopes.get(id);\r\n\r\nexport { type Scope, getRootId, setRootId, removeScope, replaceScope, $$scope };\r\n","import type { DarkElement } from '../shared';\r\nimport { component } from '../component';\r\nimport { SHADOW_MASK } from '../constants';\r\nimport { useLayoutEffect } from '../use-layout-effect';\r\nimport { $$scope } from '../scope';\r\nimport { collectElements, getFiberWithElement } from '../walk';\r\nimport { platform, detectIsServer } from '../platform';\r\n\r\nconst $$shadow = Symbol('shadow');\r\n\r\ntype ShadowProps = {\r\n  isInserted: boolean;\r\n  slot: DarkElement;\r\n};\r\n\r\nconst Shadow = component<ShadowProps>(\r\n  ({ isInserted, slot }) => {\r\n    const isEnabled = !detectIsServer() && !$$scope().getIsHydrateZone();\r\n    const fiber = $$scope().getCursorFiber();\r\n\r\n    if (isEnabled) {\r\n      if (isInserted) {\r\n        fiber.mask &= ~SHADOW_MASK;\r\n      } else {\r\n        !(fiber.mask & SHADOW_MASK) && (fiber.mask |= SHADOW_MASK);\r\n      }\r\n    }\r\n\r\n    useLayoutEffect(() => {\r\n      if (!isEnabled || !isInserted) return;\r\n      const $fiber = getFiberWithElement(fiber);\r\n      const fibers = collectElements(fiber, x => x);\r\n\r\n      for (const fiber of fibers) {\r\n        platform.insertElement(fiber.element, fiber.eidx, $fiber.element);\r\n      }\r\n    }, [isInserted]);\r\n\r\n    return slot || null;\r\n  },\r\n  { token: $$shadow },\r\n);\r\n\r\nexport { Shadow };\r\n","import type { DarkElement, SlotProps, TextBased } from '../shared';\r\nimport { useLayoutEffect } from '../use-layout-effect';\r\nimport { detectIsServer } from '../platform';\r\nimport { createContext, useContext } from '../context';\r\nimport { component } from '../component';\r\nimport { useState } from '../use-state';\r\nimport { Fragment } from '../fragment';\r\nimport { useMemo } from '../use-memo';\r\nimport { $$scope } from '../scope';\r\nimport { Shadow } from '../shadow';\r\nimport { dummyFn } from '../utils';\r\n\r\ntype SuspenseProps = {\r\n  fallback: DarkElement;\r\n} & Required<SlotProps>;\r\n\r\ntype ContextValue = {\r\n  isLoaded: boolean;\r\n  fallback: DarkElement;\r\n  register: (id: TextBased) => void;\r\n  unregister: (id: TextBased) => void;\r\n};\r\n\r\nconst SuspenseContext = createContext<ContextValue>({\r\n  isLoaded: false,\r\n  fallback: null,\r\n  register: dummyFn,\r\n  unregister: dummyFn,\r\n});\r\n\r\nconst Suspense = component<SuspenseProps>(({ fallback, slot }) => {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    if (!fallback) {\r\n      throw new Error(`[Dark]: Suspense fallback not found!`);\r\n    }\r\n  }\r\n  const $scope = $$scope();\r\n  const emitter = $scope.getEmitter();\r\n  const [isLoaded, setIsLoaded] = useState(() => detectIsServer() || $scope.getIsHydrateZone());\r\n  const scope = useMemo<Scope>(() => ({ store: new Set(), isLoaded }), []);\r\n  const value = useMemo<ContextValue>(() => ({ isLoaded, fallback, register: null, unregister: null }), []);\r\n  const content = [\r\n    Shadow({ key: CONTENT, isInserted: isLoaded, slot }),\r\n    isLoaded ? null : Fragment({ key: FALLBACK, slot: fallback }),\r\n  ].filter(Boolean);\r\n\r\n  useLayoutEffect(() => {\r\n    const off = emitter.on('finish', () => {\r\n      const { store, isLoaded } = scope;\r\n\r\n      if (store.size === 0 && !isLoaded) {\r\n        setIsLoaded(true);\r\n        off();\r\n      }\r\n    });\r\n\r\n    return off;\r\n  }, []);\r\n\r\n  scope.isLoaded = isLoaded;\r\n  value.isLoaded = isLoaded;\r\n  value.fallback = fallback;\r\n  value.register = (id: TextBased) => scope.store.add(id);\r\n  value.unregister = (id: TextBased) => scope.store.delete(id);\r\n\r\n  return SuspenseContext.Provider({ value, slot: content });\r\n});\r\n\r\ntype Scope = {\r\n  store: Set<TextBased>;\r\n  isLoaded: boolean;\r\n};\r\n\r\nconst CONTENT = 1;\r\nconst FALLBACK = 2;\r\n\r\nconst useSuspense = () => useContext(SuspenseContext);\r\n\r\nexport { Suspense, useSuspense };\r\n","import { type Fiber } from '../fiber';\r\nimport { platform } from '../platform';\r\nimport { dropEffects } from '../use-effect';\r\nimport { dropLayoutEffects } from '../use-layout-effect';\r\nimport { dropInsertionEffects } from '../use-insertion-effect';\r\nimport { walk } from '../walk';\r\nimport { detectIsUndefined } from '../utils';\r\nimport { removeScope, $$scope } from '../scope';\r\nimport {\r\n  INSERTION_EFFECT_HOST_MASK,\r\n  LAYOUT_EFFECT_HOST_MASK,\r\n  ASYNC_EFFECT_HOST_MASK,\r\n  ATOM_HOST_MASK,\r\n  PORTAL_HOST_MASK,\r\n} from '../constants';\r\n\r\nconst combinedMask =\r\n  INSERTION_EFFECT_HOST_MASK | LAYOUT_EFFECT_HOST_MASK | ASYNC_EFFECT_HOST_MASK | ATOM_HOST_MASK | PORTAL_HOST_MASK;\r\n\r\nconst shouldUnmountFiber = (fiber: Fiber) => fiber.mask & combinedMask;\r\n\r\nfunction unmountFiber(fiber: Fiber) {\r\n  if (!shouldUnmountFiber(fiber)) return;\r\n  walk(fiber, (fiber, skip) => {\r\n    if (!shouldUnmountFiber(fiber)) return skip();\r\n\r\n    if (fiber.hook && fiber.hook.values.length > 0) {\r\n      fiber.mask & INSERTION_EFFECT_HOST_MASK && dropInsertionEffects(fiber.hook);\r\n      fiber.mask & LAYOUT_EFFECT_HOST_MASK && dropLayoutEffects(fiber.hook);\r\n      fiber.mask & ASYNC_EFFECT_HOST_MASK && dropEffects(fiber.hook);\r\n    }\r\n\r\n    if (fiber.atoms) {\r\n      for (const [_, cleanup] of fiber.atoms) {\r\n        cleanup();\r\n      }\r\n      fiber.atoms = null;\r\n    }\r\n\r\n    fiber.mask & PORTAL_HOST_MASK && platform.unmountPortal(fiber);\r\n  });\r\n}\r\n\r\nfunction unmountRoot(rootId: number, onCompleted: () => void) {\r\n  if (detectIsUndefined(rootId)) return;\r\n  const $scope = $$scope(rootId);\r\n\r\n  unmountFiber($scope.getRoot());\r\n  $scope.unsubscribeEvents();\r\n  removeScope(rootId);\r\n  onCompleted();\r\n}\r\n\r\nexport { unmountFiber, unmountRoot };\r\n","import { useMemo } from '../use-memo';\r\n\r\nfunction useCallback<T = Function>(callback: T, deps: Array<any>): T {\r\n  const value = useMemo(() => callback, deps);\r\n\r\n  return value;\r\n}\r\n\r\nexport { useCallback };\r\n","import { detectIsFunction } from '../utils';\r\nimport { INSERTION_EFFECT_HOST_MASK, LAYOUT_EFFECT_HOST_MASK, ASYNC_EFFECT_HOST_MASK } from '../constants';\r\nimport { $$scope } from '../scope';\r\nimport { useMemo } from '../use-memo';\r\nimport { type Hook, type HookValue } from '../fiber';\r\n\r\nconst $$useEffect = Symbol('use-effect');\r\n\r\ntype UseEffectValue = {\r\n  token: Symbol;\r\n  cleanup: DropEffect;\r\n};\r\n\r\nfunction createEffect(token: Symbol, type: EffectType) {\r\n  function useEffect(effect: Effect, deps: Array<any> = [{}]) {\r\n    const $scope = $$scope();\r\n    const fiber = $scope.getCursorFiber();\r\n    const scope = useMemo<UseEffectValue>(() => ({ token, cleanup: undefined }), []);\r\n    const isInsertionEffect = type === EffectType.INSERTION;\r\n    const isLayoutEffect = type === EffectType.LAYOUT;\r\n    const isAsyncEffect = type === EffectType.ASYNC;\r\n\r\n    isInsertionEffect && fiber.markHost(INSERTION_EFFECT_HOST_MASK);\r\n    isLayoutEffect && fiber.markHost(LAYOUT_EFFECT_HOST_MASK);\r\n    isAsyncEffect && fiber.markHost(ASYNC_EFFECT_HOST_MASK);\r\n\r\n    useMemo(() => {\r\n      const runEffect = () => (scope.cleanup = effect());\r\n\r\n      isInsertionEffect && $scope.addInsertionEffect(runEffect);\r\n      isLayoutEffect && $scope.addLayoutEffect(runEffect);\r\n      isAsyncEffect && $scope.addAsyncEffect(runEffect);\r\n\r\n      detectIsFunction(scope.cleanup) && scope.cleanup();\r\n\r\n      return null;\r\n    }, deps);\r\n  }\r\n\r\n  function dropEffects(hook: Hook<HookValue<UseEffectValue>>) {\r\n    for (const { value: effect } of hook.values) {\r\n      effect && effect.token === token && detectIsFunction(effect.cleanup) && effect.cleanup();\r\n    }\r\n  }\r\n\r\n  return {\r\n    useEffect,\r\n    dropEffects,\r\n  };\r\n}\r\n\r\nexport type DropEffect = void | (() => void);\r\n\r\nexport type Effect = () => DropEffect;\r\n\r\nexport enum EffectType {\r\n  ASYNC = 'ASYNC',\r\n  LAYOUT = 'LAYOUT',\r\n  INSERTION = 'INSERTION',\r\n}\r\n\r\nconst { useEffect, dropEffects } = createEffect($$useEffect, EffectType.ASYNC);\r\n\r\nexport { useEffect, dropEffects, createEffect };\r\n","import { useMemo } from '../use-memo';\r\nimport { useCallback } from '../use-callback';\r\n\r\nfunction useEvent<T extends (...args: Array<any>) => any>(fn: T) {\r\n  const scope = useMemo(() => ({ fn }), []);\r\n\r\n  scope.fn = fn;\r\n\r\n  const callback = useCallback((...args: Array<any>) => {\r\n    return scope.fn(...args);\r\n  }, []);\r\n\r\n  return callback as unknown as T;\r\n}\r\n\r\nexport { useEvent };\r\n","import { useMemo } from '../use-memo';\r\nimport { getRootId } from '../scope';\r\n\r\nfunction useId() {\r\n  const id = useMemo(() => getNextId(getRootId()), []);\r\n\r\n  return id;\r\n}\r\n\r\nlet nextId = 1000000;\r\n\r\nconst getNextId = (rootId: number) => `dark:${rootId}:${(++nextId).toString(36)}`;\r\n\r\nexport { useId };\r\n","import { useMemo } from '../use-memo';\r\nimport { type Ref, applyRef } from '../ref';\r\n\r\nfunction useImperativeHandle<T>(ref: Ref<T>, createHandle: () => T, deps?: Array<any>) {\r\n  const current = useMemo(() => createHandle(), deps || [{}]);\r\n\r\n  ref && applyRef(ref, current);\r\n}\r\n\r\nexport { useImperativeHandle };\r\n","import { createEffect, EffectType } from '../use-effect';\r\n\r\nconst $$useInsertionEffect = Symbol('use-insertion-effect');\r\nconst { useEffect: useInsertionEffect, dropEffects: dropInsertionEffects } = createEffect(\r\n  $$useInsertionEffect,\r\n  EffectType.INSERTION,\r\n);\r\n\r\nexport { useInsertionEffect, dropInsertionEffects };\r\n","import { createEffect, EffectType } from '../use-effect';\r\n\r\nconst $$useLayoutEffect = Symbol('use-layout-effect');\r\nconst { useEffect: useLayoutEffect, dropEffects: dropLayoutEffects } = createEffect(\r\n  $$useLayoutEffect,\r\n  EffectType.LAYOUT,\r\n);\r\n\r\nexport { useLayoutEffect, dropLayoutEffects };\r\n","import { type VirtualNodeFactory, detectIsVirtualNodeFactory } from '../view';\r\nimport { type Component, detectIsComponent, component } from '../component';\r\nimport { type Hook, type HookValue } from '../fiber';\r\nimport { detectAreDepsDifferent } from '../utils';\r\nimport { $$scope } from '../scope';\r\nimport { memo } from '../memo';\r\n\r\ntype GetMemoValue = () => Component | VirtualNodeFactory;\r\n\r\ntype MemoProps = {\r\n  deps: Array<any>;\r\n  getValue: GetMemoValue;\r\n};\r\n\r\nconst Memo = memo(\r\n  component<MemoProps>(({ getValue }) => getValue()),\r\n  (p, n) => detectAreDepsDifferent(p.deps, n.deps),\r\n);\r\n\r\nfunction detectIsElement<T>(value: T) {\r\n  return detectIsComponent(value) || detectIsVirtualNodeFactory(value);\r\n}\r\n\r\nfunction useMemo<T>(getValue: () => T, deps: Array<any>): T {\r\n  const fiber = $$scope().getCursorFiber();\r\n  const { hook } = fiber;\r\n  const { idx, values } = hook as Hook<HookValue<T>>;\r\n  const state =\r\n    values[idx] ||\r\n    (values[idx] = {\r\n      deps,\r\n      value: getValue(),\r\n    });\r\n  let value: T = null;\r\n  let $value: T = null;\r\n\r\n  if (detectIsElement(state.value)) {\r\n    value = state.value;\r\n    $value = Memo({ getValue: getValue as GetMemoValue, deps }) as unknown as T;\r\n  } else {\r\n    value = detectAreDepsDifferent(state.deps, deps) ? getValue() : state.value;\r\n    $value = value;\r\n  }\r\n\r\n  state.deps = deps;\r\n  state.value = value;\r\n  hook.idx++;\r\n\r\n  return $value;\r\n}\r\n\r\nexport { useMemo };\r\n","import { useCallback } from '../use-callback';\r\nimport { detectIsFunction } from '../utils';\r\nimport { useUpdate } from '../use-update';\r\nimport { type Tools } from '../workloop';\r\nimport { useMemo } from '../use-memo';\r\nimport { $$scope } from '../scope';\r\nimport { trueFn } from '../utils';\r\n\r\ntype CreateToolsOptions<T> = {\r\n  next: Value<T>;\r\n  get: () => T;\r\n  set: (x: T) => void;\r\n  reset: (x: T) => void;\r\n  shouldUpdate?: (p: T, n: T) => boolean;\r\n};\r\n\r\nfunction createTools<T>(options: CreateToolsOptions<T>) {\r\n  const { get, set, reset, next, shouldUpdate: $shouldUpdate = trueFn } = options;\r\n  const $scope = $$scope();\r\n  const isBatch = $scope.getIsBatchZone();\r\n  const tools = (): Tools => {\r\n    const prevValue = get();\r\n    const newValue = detectIsFunction(next) ? next(prevValue) : next;\r\n    const shouldUpdate = () => isBatch || $shouldUpdate(prevValue, newValue);\r\n    const setValue = () => set(newValue);\r\n    const resetValue = () => reset(prevValue);\r\n\r\n    return { shouldUpdate, setValue, resetValue };\r\n  };\r\n\r\n  return tools;\r\n}\r\n\r\ntype Value<T> = T | ((prevValue: T) => T);\r\n\r\nfunction useState<T = unknown>(initialValue: T | (() => T)): [T, (value: Value<T>) => void] {\r\n  const update = useUpdate();\r\n  const scope = useMemo(\r\n    () => ({\r\n      value: detectIsFunction(initialValue) ? initialValue() : initialValue,\r\n    }),\r\n    [],\r\n  );\r\n  const setState = useCallback((next: Value<T>) => {\r\n    const tools = createTools({\r\n      next,\r\n      get: () => scope.value,\r\n      set: (x: T) => (scope.value = x),\r\n      reset: (x: T) => (scope.value = x),\r\n      shouldUpdate: (p: T, n: T) => !Object.is(p, n),\r\n    });\r\n\r\n    update(tools);\r\n  }, []);\r\n\r\n  return [scope.value, setState];\r\n}\r\n\r\nexport { createTools, useState };\r\n","import { type ScheduleCallbackOptions, scheduler } from '../scheduler';\r\nimport { type Tools, createCallback } from '../workloop';\r\nimport { getRootId, $$scope } from '../scope';\r\nimport { createHookLocation } from '../walk';\r\nimport { detectIsFunction } from '../utils';\r\nimport { TaskPriority } from '../constants';\r\nimport { addBatch } from '../batch';\r\nimport { type Hook } from '../fiber';\r\n\r\nfunction createUpdate(rootId: number, hook: Hook) {\r\n  const { idx } = hook;\r\n  const update = (tools?: () => Tools) => {\r\n    const $scope = $$scope();\r\n    if ($scope.getIsInsertionEffectsZone()) return;\r\n    const { owner } = hook;\r\n    const hasTools = detectIsFunction(tools);\r\n    const isTransition = $scope.getIsTransitionZone();\r\n    const isBatch = $scope.getIsBatchZone();\r\n    const isEvent = $scope.getIsEventZone();\r\n    const priority = isTransition ? TaskPriority.LOW : isEvent ? TaskPriority.HIGH : TaskPriority.NORMAL; // !\r\n    const forceAsync = isTransition;\r\n    const setPendingStatus = $scope.getPendingStatusSetter();\r\n    const callback = createCallback({\r\n      rootId,\r\n      hook,\r\n      isTransition,\r\n      tools: hasTools ? tools : undefined,\r\n    });\r\n    const createLocation = () => createHookLocation(rootId, idx, owner);\r\n    const callbackOptions: ScheduleCallbackOptions = {\r\n      priority,\r\n      forceAsync,\r\n      isTransition,\r\n      createLocation,\r\n      setPendingStatus,\r\n    };\r\n\r\n    if (isBatch) {\r\n      addBatch(\r\n        owner,\r\n        () => scheduler.schedule(callback, callbackOptions),\r\n        () => hasTools && tools().setValue(),\r\n      );\r\n    } else {\r\n      scheduler.schedule(callback, callbackOptions);\r\n    }\r\n  };\r\n\r\n  return update;\r\n}\r\n\r\nfunction useUpdate() {\r\n  const rootId = getRootId();\r\n  const fiber = $$scope().getCursorFiber();\r\n\r\n  return createUpdate(rootId, fiber.hook);\r\n}\r\n\r\nexport { createUpdate, useUpdate };\r\n","import type { NestedArray } from '../shared';\r\nimport { INDEX_KEY } from '../constants';\r\n\r\nconst detectIsFunction = (o: any): o is Function => typeof o === 'function';\r\n\r\nconst detectIsUndefined = (o: any): o is undefined => typeof o === 'undefined';\r\n\r\nconst detectIsNumber = (o: any): o is number => typeof o === 'number';\r\n\r\nconst detectIsString = (o: any): o is string => typeof o === 'string';\r\n\r\nconst detectIsTextBased = (o: any): o is string | number => typeof o === 'string' || typeof o === 'number';\r\n\r\nconst detectIsObject = (o: any): o is object => typeof o === 'object';\r\n\r\nconst detectIsBoolean = (o: any): o is boolean => typeof o === 'boolean';\r\n\r\nconst detectIsArray = (o: any): o is Array<any> => Array.isArray(o);\r\n\r\nconst detectIsNull = (o: any): o is null => o === null;\r\n\r\nconst detectIsEmpty = (o: any) => detectIsNull(o) || detectIsUndefined(o);\r\n\r\nconst detectIsFalsy = (o: any) => detectIsEmpty(o) || o === false;\r\n\r\nconst getTime = () => Date.now();\r\n\r\nconst dummyFn = () => {};\r\n\r\nconst trueFn = () => true;\r\n\r\nconst falseFn = () => false;\r\n\r\nconst sameFn = <T = any>(x: T) => x;\r\n\r\nconst error = (...args: Array<any>) => !detectIsUndefined(console) && console.error(...args);\r\n\r\nfunction flatten<T = any>(source: Array<NestedArray<T>>, transform: (x: T) => any = sameFn): Array<T> {\r\n  if (detectIsArray(source)) {\r\n    if (source.length === 0) return [];\r\n  } else {\r\n    return [transform(source)];\r\n  }\r\n  const list: Array<T> = [];\r\n  const stack = [source[0]];\r\n  let idx = 0;\r\n\r\n  while (stack.length > 0) {\r\n    const x = stack.pop();\r\n\r\n    if (detectIsArray(x)) {\r\n      for (let i = x.length - 1; i >= 0; i--) {\r\n        stack.push(x[i]);\r\n      }\r\n    } else {\r\n      list.push(transform(x));\r\n\r\n      if (stack.length === 0 && idx < source.length - 1) {\r\n        idx++;\r\n        stack.push(source[idx]);\r\n      }\r\n    }\r\n  }\r\n\r\n  return list;\r\n}\r\n\r\nfunction keyBy<T = any>(\r\n  list: Array<T>,\r\n  fn: (o: T) => string | number,\r\n  value = false,\r\n): Record<string | number, T | boolean> {\r\n  return list.reduce((acc, x) => ((acc[fn(x)] = value ? x : true), acc), {});\r\n}\r\n\r\nfunction detectAreDepsDifferent(prevDeps: Array<unknown>, nextDeps: Array<unknown>): boolean {\r\n  if (prevDeps === nextDeps) return false;\r\n  const max = Math.max(prevDeps.length, nextDeps.length);\r\n\r\n  for (let i = 0; i < max; i++) {\r\n    if (!Object.is(prevDeps[i], nextDeps[i])) return true;\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\nfunction nextTick(callback: () => void) {\r\n  Promise.resolve().then(callback);\r\n}\r\n\r\nconst createIndexKey = (idx: number) => `${INDEX_KEY}:${idx}`;\r\n\r\nconst mapRecord = <T extends object>(record: T) => Object.keys(record).map(x => record[x]);\r\n\r\nexport {\r\n  detectIsFunction,\r\n  detectIsUndefined,\r\n  detectIsNumber,\r\n  detectIsString,\r\n  detectIsTextBased,\r\n  detectIsObject,\r\n  detectIsBoolean,\r\n  detectIsArray,\r\n  detectIsNull,\r\n  detectIsEmpty,\r\n  detectIsFalsy,\r\n  getTime,\r\n  dummyFn,\r\n  trueFn,\r\n  falseFn,\r\n  error,\r\n  flatten,\r\n  keyBy,\r\n  detectAreDepsDifferent,\r\n  nextTick,\r\n  createIndexKey,\r\n  mapRecord,\r\n};\r\n","import type { ElementKey, DarkElement, Instance, SlotProps, RefProps, KeyProps, FlagProps } from '../shared';\r\nimport { type Component, detectIsComponent, getComponentKey, hasComponentFlag } from '../component';\r\nimport { detectIsArray, detectIsFunction } from '../utils';\r\nimport { REPLACER, KEY_ATTR } from '../constants';\r\nimport { $$scope } from '../scope';\r\n\r\nconst $$vNode = Symbol('vNode');\r\nconst ATTR_TYPE = 'type';\r\n\r\nclass VirtualNode {\r\n  type: NodeType = null;\r\n\r\n  constructor(type: NodeType) {\r\n    this.type = type;\r\n  }\r\n}\r\n\r\nclass TagVirtualNode extends VirtualNode {\r\n  name: string;\r\n  attrs: Record<string, any>;\r\n  children: Array<TextVirtualNode | CommentVirtualNode | TagVirtualNode | VirtualNodeFactory | Component>;\r\n\r\n  constructor(name: string, attrs: TagVirtualNode['attrs'], children: TagVirtualNode['children']) {\r\n    super(NodeType.TAG);\r\n    this.name = name;\r\n    this.attrs = attrs;\r\n    this.children = children;\r\n  }\r\n}\r\n\r\nclass TextVirtualNode extends VirtualNode {\r\n  value: string;\r\n\r\n  constructor(source: TextSource) {\r\n    super(NodeType.TEXT);\r\n    this.value = String(source);\r\n  }\r\n}\r\n\r\nclass CommentVirtualNode extends VirtualNode {\r\n  value = '';\r\n\r\n  constructor(text: string) {\r\n    super(NodeType.COMMENT);\r\n    this.value = text;\r\n  }\r\n}\r\n\r\nfunction View(options: ViewOptions) {\r\n  const factory: TagVirtualNodeFactory = () => {\r\n    const { as: name, slot, _void = false, ...attrs } = options;\r\n    const children = (_void ? [] : detectIsArray(slot) ? slot : slot ? [slot] : []) as TagVirtualNode['children'];\r\n\r\n    return new TagVirtualNode(name, attrs, children);\r\n  };\r\n\r\n  factory[$$vNode] = true;\r\n  factory[ATTR_TYPE] = options.as;\r\n  factory[KEY_ATTR] = options.key;\r\n\r\n  return factory;\r\n}\r\n\r\nconst Text = (source: TextSource) => new TextVirtualNode(source);\r\n\r\nText.from = (source: DarkElement) => (detectIsTextVirtualNode(source) ? source.value : String(source));\r\n\r\nconst Comment = (text: string) => new CommentVirtualNode(text);\r\n\r\nconst detectIsVirtualNode = (vNode: unknown): vNode is VirtualNode => vNode instanceof VirtualNode;\r\n\r\nconst detectIsTagVirtualNode = (vNode: unknown): vNode is TagVirtualNode => vNode instanceof TagVirtualNode;\r\n\r\nconst detectIsCommentVirtualNode = (vNode: unknown): vNode is CommentVirtualNode => vNode instanceof CommentVirtualNode;\r\n\r\nconst detectIsTextVirtualNode = (vNode: unknown): vNode is TextVirtualNode => vNode instanceof TextVirtualNode;\r\n\r\nconst detectIsVirtualNodeFactory = (factory: unknown): factory is VirtualNodeFactory =>\r\n  detectIsFunction(factory) && factory[$$vNode] === true;\r\n\r\nconst getTagVirtualNodeKey = (vNode: TagVirtualNode): ElementKey | null =>\r\n  vNode.attrs ? vNode.attrs[KEY_ATTR] ?? null : null;\r\n\r\nconst hasTagVirtualNodeFlag = (vNode: TagVirtualNode, flag: string) => Boolean(vNode.attrs && vNode.attrs[flag]);\r\n\r\nconst getVirtualNodeFactoryKey = (factory: VirtualNodeFactory): ElementKey | null => factory[KEY_ATTR] ?? null;\r\n\r\nconst hasVirtualNodeFactoryFlag = (factory: VirtualNodeFactory, flag: string) => Boolean(factory[flag]);\r\n\r\nconst detectIsPlainVirtualNode = (vNode: unknown): vNode is PlainVirtualNode =>\r\n  detectIsTextVirtualNode(vNode) || detectIsCommentVirtualNode(vNode);\r\n\r\nconst createReplacer = () => new CommentVirtualNode(REPLACER);\r\n\r\nconst detectIsReplacer = (vNode: unknown) => detectIsCommentVirtualNode(vNode) && vNode.value === REPLACER;\r\n\r\nfunction getElementKey(inst: Instance): ElementKey | null {\r\n  return detectIsComponent(inst)\r\n    ? getComponentKey(inst)\r\n    : detectIsVirtualNodeFactory(inst)\r\n    ? getVirtualNodeFactoryKey(inst)\r\n    : detectIsTagVirtualNode(inst)\r\n    ? getTagVirtualNodeKey(inst)\r\n    : null;\r\n}\r\n\r\nfunction hasElementFlag(inst: Instance, flag: string) {\r\n  return detectIsComponent(inst)\r\n    ? hasComponentFlag(inst, flag)\r\n    : detectIsVirtualNodeFactory(inst)\r\n    ? hasVirtualNodeFactoryFlag(inst, flag)\r\n    : detectIsTagVirtualNode(inst)\r\n    ? hasTagVirtualNodeFlag(inst, flag)\r\n    : false;\r\n}\r\n\r\nfunction getElementType(inst: Instance): string | Function {\r\n  return detectIsComponent(inst)\r\n    ? inst.type\r\n    : detectIsVirtualNodeFactory(inst)\r\n    ? inst[ATTR_TYPE]\r\n    : detectIsTagVirtualNode(inst)\r\n    ? inst.name\r\n    : detectIsVirtualNode(inst)\r\n    ? inst.type\r\n    : null;\r\n}\r\n\r\nfunction hasChildrenProp(inst: Instance): inst is TagVirtualNode | Component {\r\n  return detectIsTagVirtualNode(inst) || detectIsComponent(inst);\r\n}\r\n\r\nfunction detectAreSameInstanceTypes(prevInst: Instance, nextInst: Instance, isComponentFactories = false) {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    if (process.env.NODE_ENV === 'development' && $$scope().getIsHot()) {\r\n      if (detectIsComponent(prevInst) && detectIsComponent(nextInst)) {\r\n        return prevInst.displayName === nextInst.displayName;\r\n      }\r\n    }\r\n  }\r\n\r\n  if (isComponentFactories) {\r\n    const pc = prevInst as Component;\r\n    const nc = nextInst as Component;\r\n\r\n    return pc.type === nc.type;\r\n  }\r\n\r\n  return getElementType(prevInst) === getElementType(nextInst);\r\n}\r\n\r\nfunction detectAreSameComponentTypesWithSameKeys(prevInst: Instance | null, nextInst: Instance | null) {\r\n  if (\r\n    prevInst &&\r\n    nextInst &&\r\n    detectIsComponent(prevInst) &&\r\n    detectIsComponent(nextInst) &&\r\n    detectAreSameInstanceTypes(prevInst, nextInst, true)\r\n  ) {\r\n    return getElementKey(prevInst) === getElementKey(nextInst);\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\ntype TextSource = string | number;\r\n\r\nexport type VirtualNodeFactory = () => VirtualNode;\r\n\r\nexport type TagVirtualNodeFactory = () => TagVirtualNode;\r\n\r\nexport type PlainVirtualNode = TextVirtualNode | CommentVirtualNode;\r\n\r\nexport type ViewOptions = {\r\n  as: string;\r\n  _void?: boolean;\r\n  [prop: string]: any;\r\n} & Partial<SlotProps> &\r\n  RefProps &\r\n  KeyProps &\r\n  FlagProps;\r\n\r\nexport enum NodeType {\r\n  TAG = 'TAG',\r\n  TEXT = 'TEXT',\r\n  COMMENT = 'COMMENT',\r\n}\r\n\r\nexport {\r\n  View,\r\n  Text,\r\n  Comment,\r\n  VirtualNode,\r\n  TagVirtualNode,\r\n  TextVirtualNode,\r\n  CommentVirtualNode,\r\n  createReplacer,\r\n  detectIsReplacer,\r\n  getElementKey,\r\n  hasElementFlag,\r\n  getElementType,\r\n  hasChildrenProp,\r\n  detectIsVirtualNode,\r\n  detectIsTagVirtualNode,\r\n  detectIsCommentVirtualNode,\r\n  detectIsTextVirtualNode,\r\n  detectIsPlainVirtualNode,\r\n  detectIsVirtualNodeFactory,\r\n  detectAreSameInstanceTypes,\r\n  detectAreSameComponentTypesWithSameKeys,\r\n};\r\n","import {\r\n  DELETE_EFFECT_TAG,\r\n  UPDATE_EFFECT_TAG,\r\n  SKIP_EFFECT_TAG,\r\n  INSERTION_EFFECT_HOST_MASK,\r\n  LAYOUT_EFFECT_HOST_MASK,\r\n  ASYNC_EFFECT_HOST_MASK,\r\n  ATOM_HOST_MASK,\r\n  PORTAL_HOST_MASK,\r\n  MOVE_MASK,\r\n  HOOK_DELIMETER,\r\n} from '../constants';\r\nimport { Fiber } from '../fiber';\r\nimport { platform } from '../platform';\r\nimport { type TagVirtualNode, getElementKey, hasChildrenProp } from '../view';\r\nimport { type Scope } from '../scope';\r\nimport { type Component } from '../component';\r\nimport { detectIsMemo } from '../memo';\r\nimport { type Instance, type ElementKey } from '../shared';\r\nimport { createIndexKey } from '../utils';\r\n\r\nfunction walk<T = unknown>(fiber: Fiber<T>, onWalk: (fiber: Fiber<T>, skip: () => void, stop: () => void) => void) {\r\n  let shouldDeep = true;\r\n  let shouldStop = false;\r\n  const skip = () => (shouldDeep = false);\r\n  const stop = () => (shouldStop = true);\r\n  const stack: Array<Fiber<T>> = [fiber];\r\n\r\n  while (stack.length !== 0) {\r\n    const unit = stack.pop();\r\n\r\n    onWalk(unit, skip, stop);\r\n    if (shouldStop) break;\r\n    unit !== fiber && unit.next && stack.push(unit.next);\r\n    shouldDeep && unit.child && stack.push(unit.child);\r\n    shouldDeep = true;\r\n  }\r\n}\r\n\r\nfunction collectElements<T, P = T>(fiber: Fiber<T>, transform: (fiber: Fiber<T>) => P): Array<P> {\r\n  const elements: Array<P> = [];\r\n\r\n  walk<T>(fiber, (fiber, skip) => {\r\n    if (fiber.element) {\r\n      !platform.detectIsPortal(fiber.inst) && elements.push(transform(fiber));\r\n      return skip();\r\n    }\r\n  });\r\n\r\n  return elements;\r\n}\r\n\r\nfunction getFiberWithElement<T1, T2 = T1>(fiber: Fiber<T1>): Fiber<T2> {\r\n  let $fiber = fiber as unknown as Fiber<T2>;\r\n\r\n  while ($fiber) {\r\n    if ($fiber.element) return $fiber;\r\n    $fiber = $fiber.parent;\r\n  }\r\n\r\n  return $fiber;\r\n}\r\n\r\nfunction detectIsFiberAlive(fiber: Fiber) {\r\n  let $fiber = fiber;\r\n\r\n  while ($fiber) {\r\n    if ($fiber.tag === DELETE_EFFECT_TAG) return false;\r\n    $fiber = $fiber.parent;\r\n  }\r\n\r\n  return Boolean(fiber);\r\n}\r\n\r\nfunction createHookLocation(rootId: number, idx: number, fiber: Fiber) {\r\n  let $fiber = fiber;\r\n  let loc = `${fiber.idx}${HOOK_DELIMETER}${idx}`;\r\n\r\n  while ($fiber) {\r\n    $fiber = $fiber.parent;\r\n    $fiber && (loc = `${$fiber.idx}.${loc}`);\r\n  }\r\n\r\n  loc = `[${rootId}]${loc}`;\r\n\r\n  return loc;\r\n}\r\n\r\nfunction detectIsStableMemoTree(fiber: Fiber, $scope: Scope) {\r\n  if (!hasChildrenProp(fiber.inst)) return;\r\n  const actions = $scope.getActionsById(fiber.id);\r\n  const children = fiber.inst.children;\r\n\r\n  for (let i = 0; i < children.length; i++) {\r\n    const inst = children[i];\r\n    const key = getElementKey(inst);\r\n    if (key === null) return false;\r\n    const alt = actions.map[key];\r\n    if (!alt) return false;\r\n    const pc = alt.inst as Component;\r\n    const nc = inst as Component;\r\n    const isStable =\r\n      detectIsMemo(nc) && detectIsMemo(pc) && nc.type === pc.type && !nc.shouldUpdate(pc.props, nc.props);\r\n\r\n    if (!isStable) return false;\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nfunction tryOptStaticSlot(fiber: Fiber, alt: Fiber, $scope: Scope) {\r\n  const actions = $scope.getActionsById(fiber.id);\r\n  const inst = fiber.inst as Component | TagVirtualNode;\r\n\r\n  alt.element && (fiber.element = alt.element); //!\r\n\r\n  for (let i = 0; i < inst.children.length; i++) {\r\n    buildChildNode(inst.children, fiber, actions.map, i, fiber.eidx);\r\n  }\r\n\r\n  fiber.cc = inst.children.length;\r\n  $scope.setMountDeep(false);\r\n}\r\n\r\nfunction tryOptMemoSlot(fiber: Fiber, alt: Fiber, $scope: Scope) {\r\n  const actions = $scope.getActionsById(fiber.id);\r\n  const hasMove = Boolean(actions.move);\r\n  const hasRemove = Boolean(actions.remove);\r\n  const hasInsert = Boolean(actions.insert);\r\n  const hasReplace = Boolean(actions.insert);\r\n  const canOptimize = ((hasMove && !hasRemove) || (hasRemove && !hasMove)) && !hasInsert && !hasReplace;\r\n\r\n  if (!canOptimize || !detectIsStableMemoTree(fiber, $scope)) return;\r\n\r\n  hasMove && tryOptMov(fiber, alt, $scope);\r\n  hasRemove && tryOptRem(fiber, alt, $scope);\r\n}\r\n\r\nfunction tryOptMov(fiber: Fiber, alt: Fiber, $scope: Scope) {\r\n  const actions = $scope.getActionsById(fiber.id);\r\n\r\n  buildChildNodes(fiber, alt, $scope, (fiber, key) => {\r\n    if (!actions.move[key]) return;\r\n    fiber.alt = new Fiber().mutate(fiber);\r\n    fiber.tag = UPDATE_EFFECT_TAG;\r\n    fiber.mask |= MOVE_MASK;\r\n    $scope.addCandidate(fiber);\r\n  });\r\n}\r\n\r\nfunction tryOptRem(fiber: Fiber, alt: Fiber, $scope: Scope) {\r\n  buildChildNodes(fiber, alt, $scope);\r\n}\r\n\r\nfunction buildChildNodes(fiber: Fiber, alt: Fiber, $scope: Scope, onNode?: (fiber: Fiber, key: ElementKey) => void) {\r\n  const actions = $scope.getActionsById(fiber.id);\r\n  const inst = fiber.inst as Component | TagVirtualNode;\r\n  const children = inst.children;\r\n\r\n  alt.element && (fiber.element = alt.element); //!\r\n\r\n  for (let i = 0; i < children.length; i++) {\r\n    const key = getKey(children[i], i);\r\n    const $fiber = actions.map[key];\r\n\r\n    buildChildNode(children, fiber, actions.map, i, fiber.eidx);\r\n    onNode && onNode($fiber, key);\r\n  }\r\n\r\n  fiber.cc = children.length;\r\n  $scope.setMountDeep(false);\r\n}\r\n\r\nfunction buildChildNode(\r\n  children: Array<Instance>,\r\n  parent: Fiber,\r\n  altMap: Record<string, Fiber>,\r\n  idx: number,\r\n  startEidx: number,\r\n) {\r\n  const prevIdx = idx - 1;\r\n  const nextIdx = idx + 1;\r\n  const key = getKey(children[idx], idx);\r\n  const prevKey = getKey(children[prevIdx], prevIdx);\r\n  const nextKey = getKey(children[nextIdx], nextIdx);\r\n  const fiber = altMap[key];\r\n  const left = altMap[prevKey];\r\n  const right = altMap[nextKey];\r\n  const isFirst = idx === 0;\r\n  const isLast = idx === children.length - 1;\r\n\r\n  isFirst && (parent.child = fiber);\r\n  fiber.alt = null;\r\n  fiber.parent = parent;\r\n  fiber.tag = SKIP_EFFECT_TAG;\r\n  fiber.idx = idx;\r\n  left ? (fiber.eidx = left.eidx + (left.element ? 1 : left.cec)) : (fiber.eidx = startEidx);\r\n  right && (fiber.next = right);\r\n  isLast && (fiber.next = null);\r\n  notifyParents(fiber);\r\n}\r\n\r\nfunction getKey(inst: Instance, idx: number) {\r\n  const key = getElementKey(inst);\r\n  return key !== null ? key : createIndexKey(idx);\r\n}\r\n\r\nfunction notifyParents(fiber: Fiber, alt: Fiber = fiber) {\r\n  fiber.increment(alt.element ? 1 : alt.cec);\r\n  alt.mask & INSERTION_EFFECT_HOST_MASK && fiber.markHost(INSERTION_EFFECT_HOST_MASK);\r\n  alt.mask & LAYOUT_EFFECT_HOST_MASK && fiber.markHost(LAYOUT_EFFECT_HOST_MASK);\r\n  alt.mask & ASYNC_EFFECT_HOST_MASK && fiber.markHost(ASYNC_EFFECT_HOST_MASK);\r\n  alt.mask & ATOM_HOST_MASK && fiber.markHost(ATOM_HOST_MASK);\r\n  alt.mask & PORTAL_HOST_MASK && fiber.markHost(PORTAL_HOST_MASK);\r\n}\r\n\r\nexport {\r\n  walk,\r\n  collectElements,\r\n  getFiberWithElement,\r\n  detectIsFiberAlive,\r\n  createHookLocation,\r\n  tryOptStaticSlot,\r\n  tryOptMemoSlot,\r\n  notifyParents,\r\n};\r\n","import { platform } from '../platform';\r\nimport {\r\n  CREATE_EFFECT_TAG,\r\n  UPDATE_EFFECT_TAG,\r\n  DELETE_EFFECT_TAG,\r\n  SKIP_EFFECT_TAG,\r\n  INSERTION_EFFECT_HOST_MASK,\r\n  LAYOUT_EFFECT_HOST_MASK,\r\n  ASYNC_EFFECT_HOST_MASK,\r\n  ATOM_HOST_MASK,\r\n  PORTAL_HOST_MASK,\r\n  MOVE_MASK,\r\n  FLUSH_MASK,\r\n  SHADOW_MASK,\r\n  Flag,\r\n} from '../constants';\r\nimport {\r\n  flatten,\r\n  error,\r\n  detectIsEmpty,\r\n  detectIsFalsy,\r\n  detectIsArray,\r\n  detectIsFunction,\r\n  detectIsTextBased,\r\n  createIndexKey,\r\n  trueFn,\r\n} from '../utils';\r\nimport { type Scope, setRootId, $$scope, replaceScope } from '../scope';\r\nimport { type Component, detectIsComponent } from '../component';\r\nimport { type ElementKey, type Instance } from '../shared';\r\nimport { Fiber, getHook, Hook } from '../fiber';\r\nimport {\r\n  Text,\r\n  detectIsVirtualNode,\r\n  detectIsVirtualNodeFactory,\r\n  getElementKey,\r\n  hasElementFlag,\r\n  hasChildrenProp,\r\n  detectIsReplacer,\r\n  createReplacer,\r\n  detectAreSameInstanceTypes,\r\n} from '../view';\r\nimport { detectIsMemo } from '../memo';\r\nimport {\r\n  walk,\r\n  getFiberWithElement,\r\n  detectIsFiberAlive,\r\n  notifyParents,\r\n  tryOptStaticSlot,\r\n  tryOptMemoSlot,\r\n} from '../walk';\r\nimport { type RestoreOptions, scheduler } from '../scheduler';\r\nimport { Fragment, detectIsFragment } from '../fragment';\r\nimport { unmountFiber } from '../unmount';\r\n\r\nlet hasPendingPromise = false;\r\nlet hasRenderError = false;\r\n\r\nexport type WorkLoop = (isAsync: boolean) => boolean;\r\n\r\nfunction workLoop(isAsync: boolean): boolean | null {\r\n  if (hasPendingPromise) return null;\r\n  if (hasRenderError) return false;\r\n  const $scope = $$scope();\r\n  const wipFiber = $scope.getWorkInProgress();\r\n  let unit = $scope.getNextUnitOfWork();\r\n  let shouldYield = false;\r\n  let hasMoreWork = Boolean(unit);\r\n\r\n  try {\r\n    while (unit && !shouldYield) {\r\n      unit = performUnitOfWork(unit, $scope);\r\n      $scope.setNextUnitOfWork(unit);\r\n      hasMoreWork = Boolean(unit);\r\n      shouldYield = isAsync && scheduler.shouldYield();\r\n      if (shouldYield && scheduler.hasPrimaryTask()) return fork($scope);\r\n    }\r\n\r\n    if (!unit && wipFiber) {\r\n      commit($scope);\r\n    }\r\n  } catch (err) {\r\n    if (err instanceof Promise) {\r\n      hasPendingPromise = true;\r\n      err.finally(() => {\r\n        hasPendingPromise = false;\r\n        !isAsync && workLoop(false);\r\n      });\r\n    } else {\r\n      hasRenderError = true;\r\n      throw err;\r\n    }\r\n  }\r\n\r\n  return hasMoreWork;\r\n}\r\n\r\nfunction performUnitOfWork(fiber: Fiber, $scope: Scope): Fiber | null {\r\n  const wipFiber = $scope.getWorkInProgress();\r\n  const isDeepWalking = $scope.getMountDeep();\r\n  const isStream = $scope.getIsStreamZone();\r\n  const hasChildren = isDeepWalking && hasChildrenProp(fiber.inst) && fiber.inst.children.length > 0;\r\n\r\n  fiber.hook && (fiber.hook.idx = 0);\r\n\r\n  if (hasChildren) {\r\n    const child = mountChild(fiber, $scope);\r\n\r\n    isStream && platform.chunk(child);\r\n\r\n    return child;\r\n  } else {\r\n    while (fiber.parent && fiber !== wipFiber) {\r\n      const next = mountSibling(fiber, $scope);\r\n\r\n      isStream && platform.chunk(fiber);\r\n\r\n      if (next) {\r\n        isStream && platform.chunk(next);\r\n        return next;\r\n      }\r\n\r\n      fiber = fiber.parent;\r\n    }\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nfunction mountChild(parent: Fiber, $scope: Scope) {\r\n  $scope.navToChild();\r\n  const $inst = parent.inst;\r\n  const idx = 0;\r\n  const inst = hasChildrenProp($inst) ? $inst.children[idx] : null;\r\n  const alt = getAlternate(parent, inst, true, $scope);\r\n  const fiber = createFiber(alt, inst, idx);\r\n\r\n  fiber.parent = parent;\r\n  parent.child = fiber;\r\n  fiber.eidx = parent.element ? 0 : parent.eidx;\r\n\r\n  share(fiber, parent, inst, $scope);\r\n\r\n  return fiber;\r\n}\r\n\r\nfunction mountSibling(left: Fiber, $scope: Scope) {\r\n  $scope.navToSibling();\r\n  const $inst = left.parent.inst;\r\n  const idx = $scope.getMountIndex();\r\n  const inst = hasChildrenProp($inst) && $inst.children ? $inst.children[idx] : null;\r\n  const hasSibling = Boolean(inst);\r\n\r\n  if (!hasSibling) {\r\n    $scope.navToParent();\r\n    $scope.setMountDeep(false);\r\n\r\n    return null;\r\n  }\r\n\r\n  $scope.setMountDeep(true);\r\n  const alt = getAlternate(left, inst, false, $scope);\r\n  const fiber = createFiber(alt, inst, idx);\r\n\r\n  fiber.parent = left.parent;\r\n  left.next = fiber;\r\n  fiber.eidx = left.eidx + (left.element ? 1 : left.cec);\r\n\r\n  share(fiber, left, inst, $scope);\r\n\r\n  return fiber;\r\n}\r\n\r\nfunction share(fiber: Fiber, prev: Fiber, inst: Instance, $scope: Scope) {\r\n  const { alt } = fiber;\r\n  const shouldMount = alt && detectIsMemo(inst) ? shouldUpdate(fiber, inst, $scope) : true;\r\n\r\n  $scope.setCursorFiber(fiber);\r\n  fiber.inst = inst;\r\n\r\n  if (alt && alt.mask & MOVE_MASK) {\r\n    fiber.mask |= MOVE_MASK;\r\n    alt.mask &= ~MOVE_MASK;\r\n  }\r\n\r\n  fiber.hook && (fiber.hook.owner = fiber); // !\r\n\r\n  if (shouldMount) {\r\n    fiber.inst = mount(fiber, prev, $scope);\r\n    alt && reconcile(fiber, alt, $scope);\r\n    setup(fiber, alt);\r\n  } else if (fiber.mask & MOVE_MASK) {\r\n    fiber.tag = UPDATE_EFFECT_TAG;\r\n  }\r\n\r\n  $scope.addCandidate(fiber); // !\r\n}\r\n\r\nfunction createFiber(alt: Fiber, inst: Instance, idx: number) {\r\n  const fiber = new Fiber(getHook(alt, alt ? alt.inst : null, inst), alt ? alt.provider : null, idx);\r\n\r\n  fiber.alt = alt || null;\r\n\r\n  return fiber;\r\n}\r\n\r\nfunction getAlternate(fiber: Fiber, inst: Instance, fromChild: boolean, $scope: Scope) {\r\n  const key = getElementKey(inst);\r\n\r\n  if (key !== null) {\r\n    const parentId = fromChild ? fiber.id : fiber.parent.id;\r\n    const actions = $scope.getActionsById(parentId);\r\n\r\n    if (actions) {\r\n      const isMove = actions.move && Boolean(actions.move[key]);\r\n      const isStable = actions.stable && Boolean(actions.stable[key]);\r\n\r\n      if (isMove || isStable) {\r\n        const alt = actions.map[key];\r\n\r\n        isMove && (alt.mask |= MOVE_MASK);\r\n\r\n        return alt;\r\n      }\r\n\r\n      return null;\r\n    }\r\n  }\r\n\r\n  const alt = fiber.alt ? (fromChild ? fiber.alt.child || null : fiber.alt.next || null) : null;\r\n\r\n  return alt;\r\n}\r\n\r\nfunction reconcile(fiber: Fiber, alt: Fiber, $scope: Scope) {\r\n  const { id, inst } = fiber;\r\n  const areSameTypes = detectAreSameInstanceTypes(alt.inst, inst);\r\n\r\n  if (!areSameTypes) {\r\n    $scope.addDeletion(alt);\r\n  } else if (hasChildrenProp(alt.inst) && hasChildrenProp(inst) && alt.cc !== 0) {\r\n    const hasSameCount = alt.cc === inst.children.length;\r\n    const check = hasElementFlag(inst, Flag.SKIP_SCAN_OPT) ? !hasSameCount : true;\r\n\r\n    if (check) {\r\n      const { prevKeys, nextKeys, prevKeysMap, nextKeysMap, keyedFibersMap } = extractKeys(alt.child, inst.children);\r\n      const flush = nextKeys.length === 0;\r\n      let size = Math.max(prevKeys.length, nextKeys.length);\r\n      let p = 0;\r\n      let n = 0;\r\n\r\n      $scope.addActionMap(id, keyedFibersMap);\r\n\r\n      for (let i = 0; i < size; i++) {\r\n        const nextKey = nextKeys[i - n] ?? null;\r\n        const prevKey = prevKeys[i - p] ?? null;\r\n        const prevKeyFiber = keyedFibersMap[prevKey] || null;\r\n\r\n        if (nextKey !== prevKey) {\r\n          if (nextKey !== null && !prevKeysMap[nextKey]) {\r\n            if (prevKey !== null && !nextKeysMap[prevKey]) {\r\n              $scope.addReplaceAction(id, nextKey);\r\n              $scope.addDeletion(prevKeyFiber);\r\n            } else {\r\n              $scope.addInsertAction(id, nextKey);\r\n              p++;\r\n              size++;\r\n            }\r\n          } else if (!nextKeysMap[prevKey]) {\r\n            $scope.addRemoveAction(id, prevKey);\r\n            $scope.addDeletion(prevKeyFiber);\r\n            flush && (prevKeyFiber.mask |= FLUSH_MASK);\r\n            n++;\r\n            size++;\r\n          } else if (nextKeysMap[prevKey] && nextKeysMap[nextKey]) {\r\n            $scope.addMoveAction(id, nextKey);\r\n          }\r\n        } else if (nextKey !== null) {\r\n          $scope.addStableAction(id, nextKey);\r\n        }\r\n      }\r\n\r\n      hasElementFlag(inst, Flag.STATIC_SLOT_OPT) && tryOptStaticSlot(fiber, alt, $scope);\r\n      hasElementFlag(inst, Flag.MEMO_SLOT_OPT) && tryOptMemoSlot(fiber, alt, $scope);\r\n    }\r\n  }\r\n}\r\n\r\nfunction setup(fiber: Fiber, alt: Fiber) {\r\n  const inst = fiber.inst;\r\n  let isUpdate = false;\r\n\r\n  fiber.parent.tag === CREATE_EFFECT_TAG && (fiber.tag = fiber.parent.tag);\r\n  fiber.parent.mask & SHADOW_MASK && !fiber.parent.element && !detectIsReplacer(inst) && (fiber.mask |= SHADOW_MASK);\r\n  isUpdate =\r\n    alt &&\r\n    fiber.tag !== CREATE_EFFECT_TAG &&\r\n    detectAreSameInstanceTypes(alt.inst, inst) &&\r\n    getElementKey(alt.inst) === getElementKey(inst);\r\n  isUpdate && !fiber.element && alt.element && (fiber.element = alt.element);\r\n  fiber.tag = isUpdate ? UPDATE_EFFECT_TAG : CREATE_EFFECT_TAG;\r\n  hasChildrenProp(fiber.inst) && (fiber.cc = fiber.inst.children.length);\r\n  !fiber.element && detectIsVirtualNode(fiber.inst) && (fiber.element = platform.createElement(fiber.inst));\r\n  fiber.element && fiber.increment();\r\n}\r\n\r\nfunction shouldUpdate(fiber: Fiber, inst: Instance, $scope: Scope) {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    if ($scope.getIsHot()) return true;\r\n  }\r\n\r\n  const alt = fiber.alt;\r\n  const pc = alt.inst as Component;\r\n  const nc = inst as Component;\r\n\r\n  if (nc.type !== pc.type || nc.shouldUpdate(pc.props, nc.props)) return true;\r\n\r\n  $scope.setMountDeep(false);\r\n  fiber.tag = SKIP_EFFECT_TAG;\r\n  fiber.child = alt.child;\r\n  fiber.child.parent = fiber;\r\n  fiber.hook = alt.hook;\r\n  fiber.cc = alt.cc;\r\n  fiber.cec = alt.cec;\r\n  alt.element && (fiber.element = alt.element);\r\n  alt.provider && (fiber.provider = alt.provider);\r\n  alt.catch && (fiber.catch = alt.catch);\r\n  alt.atoms && (fiber.atoms = alt.atoms);\r\n\r\n  const diff = fiber.eidx - alt.eidx;\r\n  const deep = diff !== 0;\r\n\r\n  if (deep) {\r\n    walk(fiber.child, ($fiber, skip) => {\r\n      $fiber.eidx += diff;\r\n      if ($fiber.element) return skip();\r\n    });\r\n  }\r\n\r\n  notifyParents(fiber, alt);\r\n\r\n  return false;\r\n}\r\n\r\nfunction mount(fiber: Fiber, prev: Fiber, $scope: Scope) {\r\n  let inst = fiber.inst;\r\n  const isComponent = detectIsComponent(inst);\r\n  const component = inst as Component;\r\n\r\n  if (isComponent) {\r\n    try {\r\n      const id = $scope.getResourceId();\r\n      let result = component.type(component.props, component.ref);\r\n      const defers = $scope.getDefers();\r\n\r\n      if (defers.length > 0) {\r\n        const promise = Promise.all(defers.map(x => x()));\r\n\r\n        $scope.setResourceId(id);\r\n        $scope.resetDefers();\r\n        $scope.navToPrev();\r\n        $scope.setNextUnitOfWork(prev);\r\n        Fiber.setNextId(prev.id);\r\n\r\n        throw promise;\r\n      }\r\n\r\n      if (detectIsArray(result)) {\r\n        !detectIsFragment(component) && (result = Fragment({ slot: result }));\r\n      } else if (detectIsTextBased(result)) {\r\n        result = Text(result);\r\n      }\r\n\r\n      component.children = result as Array<Instance>;\r\n      platform.detectIsPortal(inst) && fiber.markHost(PORTAL_HOST_MASK);\r\n    } catch (err) {\r\n      if (err instanceof Promise) throw err;\r\n      component.children = [];\r\n      fiber.setError(err);\r\n      error(err);\r\n    }\r\n  } else if (detectIsVirtualNodeFactory(inst)) {\r\n    inst = inst();\r\n  }\r\n\r\n  if (hasChildrenProp(inst)) {\r\n    inst.children = flatten(inst.children, x => (detectIsTextBased(x) ? Text(x) : x || supportConditional(x)));\r\n    isComponent && component.children.length === 0 && component.children.push(createReplacer());\r\n  }\r\n\r\n  return inst;\r\n}\r\n\r\nfunction extractKeys(alt: Fiber, children: Array<Instance>) {\r\n  let nextFiber = alt;\r\n  let idx = 0;\r\n  const prevKeys: Array<ElementKey> = [];\r\n  const nextKeys: Array<ElementKey> = [];\r\n  const prevKeysMap: Record<ElementKey, boolean> = {};\r\n  const nextKeysMap: Record<ElementKey, boolean> = {};\r\n  const keyedFibersMap: Record<ElementKey, Fiber> = {};\r\n  const usedKeysMap: Record<ElementKey, boolean> = {};\r\n\r\n  while (nextFiber || idx < children.length) {\r\n    if (nextFiber) {\r\n      const key = getElementKey(nextFiber.inst);\r\n      const prevKey = detectIsEmpty(key) ? createIndexKey(idx) : key;\r\n\r\n      if (!prevKeysMap[prevKey]) {\r\n        prevKeysMap[prevKey] = true; // !\r\n        prevKeys.push(prevKey);\r\n      }\r\n\r\n      keyedFibersMap[prevKey] = nextFiber;\r\n    }\r\n\r\n    if (children[idx]) {\r\n      const inst = children[idx];\r\n      const key = getElementKey(inst);\r\n      const nextKey = detectIsEmpty(key) ? createIndexKey(idx) : key;\r\n\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        if (usedKeysMap[nextKey]) {\r\n          error(`[Dark]: the key of node [${nextKey}] already has been used!`, [inst]);\r\n        }\r\n      }\r\n\r\n      if (!nextKeysMap[nextKey]) {\r\n        nextKeysMap[nextKey] = true; // !\r\n        nextKeys.push(nextKey);\r\n      }\r\n\r\n      usedKeysMap[nextKey] = true;\r\n    }\r\n\r\n    nextFiber = nextFiber ? nextFiber.next : null;\r\n    idx++;\r\n  }\r\n\r\n  return {\r\n    prevKeys,\r\n    nextKeys,\r\n    prevKeysMap,\r\n    nextKeysMap,\r\n    keyedFibersMap,\r\n  };\r\n}\r\n\r\nfunction supportConditional(inst: Instance) {\r\n  return detectIsFalsy(inst) ? createReplacer() : inst;\r\n}\r\n\r\nfunction commit($scope: Scope) {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    process.env.NODE_ENV === 'development' && $scope.setIsHot(false);\r\n  }\r\n\r\n  const wipFiber = $scope.getWorkInProgress();\r\n  const deletions = $scope.getDeletions();\r\n  const candidates = $scope.getCandidates();\r\n  const isUpdateZone = $scope.getIsUpdateZone();\r\n  const unmounts: Array<Fiber> = [];\r\n  const combinedMask = INSERTION_EFFECT_HOST_MASK | LAYOUT_EFFECT_HOST_MASK | ASYNC_EFFECT_HOST_MASK | PORTAL_HOST_MASK;\r\n\r\n  // !\r\n  for (const fiber of deletions) {\r\n    const withNextTick = fiber.mask & ATOM_HOST_MASK && !(fiber.mask & combinedMask);\r\n\r\n    withNextTick ? unmounts.push(fiber) : unmountFiber(fiber);\r\n    fiber.tag = DELETE_EFFECT_TAG;\r\n    platform.commit(fiber);\r\n  }\r\n\r\n  isUpdateZone && sync(wipFiber);\r\n  $scope.runInsertionEffects();\r\n\r\n  for (const fiber of candidates) {\r\n    fiber.tag !== SKIP_EFFECT_TAG && platform.commit(fiber);\r\n    fiber.alt = null;\r\n    hasChildrenProp(fiber.inst) && (fiber.inst.children = null);\r\n  }\r\n\r\n  wipFiber.alt = null;\r\n  platform.finishCommit(); // !\r\n  $scope.runLayoutEffects();\r\n  $scope.runAsyncEffects();\r\n  unmounts.length > 0 && setTimeout(() => unmounts.forEach(x => unmountFiber(x)));\r\n  flush($scope);\r\n}\r\n\r\nfunction flush($scope: Scope, cancel = false) {\r\n  $scope.flush();\r\n  !cancel && $scope.getEmitter().emit('finish');\r\n  $scope.runAfterCommit(); // !\r\n}\r\n\r\nfunction sync(fiber: Fiber) {\r\n  const diff = fiber.cec - fiber.alt.cec;\r\n  if (diff === 0) return;\r\n  const parentFiber = getFiberWithElement(fiber.parent);\r\n  let isRight = false;\r\n\r\n  fiber.increment(diff, true);\r\n\r\n  walk(parentFiber.child, ($fiber, skip) => {\r\n    if ($fiber === fiber) {\r\n      isRight = true;\r\n      return skip();\r\n    }\r\n\r\n    $fiber.element && skip();\r\n    isRight && ($fiber.eidx += diff);\r\n  });\r\n}\r\n\r\nfunction fork($scope: Scope): false {\r\n  const $$scope$ = $scope.copy();\r\n  const wipFiber = $scope.getWorkInProgress();\r\n  const child = wipFiber.child;\r\n  child && (child.parent = null);\r\n  const restore = (options: RestoreOptions) => {\r\n    const { fiber: wipFiber, setValue, resetValue } = options;\r\n    const $scope = $$scope();\r\n\r\n    detectIsFunction(setValue) && setValue();\r\n    detectIsFunction(resetValue) && $$scope$.addCancel(resetValue);\r\n\r\n    wipFiber.alt = new Fiber().mutate(wipFiber);\r\n    wipFiber.tag = UPDATE_EFFECT_TAG;\r\n    wipFiber.child = child;\r\n    child && (child.parent = wipFiber);\r\n\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      wipFiber.marker = '';\r\n    }\r\n\r\n    $$scope$.setRoot($scope.getRoot());\r\n    $$scope$.setWorkInProgress(wipFiber);\r\n    replaceScope($$scope$);\r\n  };\r\n\r\n  wipFiber.child = wipFiber.alt.child;\r\n  wipFiber.alt = null;\r\n  $scope.runInsertionEffects(); // !\r\n  $scope.applyCancels();\r\n  flush($scope, true);\r\n  scheduler.cancelTask(restore);\r\n\r\n  return false;\r\n}\r\n\r\nexport type CreateCallbackOptions = {\r\n  rootId: number;\r\n  isTransition?: boolean;\r\n  hook: Hook;\r\n  tools?: () => Tools;\r\n};\r\n\r\nfunction createCallback(options: CreateCallbackOptions) {\r\n  const { rootId, hook, isTransition, tools = $tools } = options;\r\n  const callback = (restore?: (options: RestoreOptions) => void) => {\r\n    setRootId(rootId); // !\r\n    const fromRestore = detectIsFunction(restore);\r\n    const { shouldUpdate, setValue, resetValue } = tools();\r\n    const $scope = $$scope();\r\n    const owner = hook.owner;\r\n    const fiber = owner.alt || owner;\r\n\r\n    if (!shouldUpdate() || !detectIsFiberAlive(fiber) || fromRestore) {\r\n      fromRestore && restore({ fiber, setValue, resetValue });\r\n      return;\r\n    }\r\n\r\n    detectIsFunction(setValue) && setValue();\r\n    detectIsFunction(resetValue) && isTransition && $scope.addCancel(resetValue);\r\n\r\n    fiber.alt = new Fiber().mutate(fiber);\r\n    fiber.tag = UPDATE_EFFECT_TAG;\r\n    fiber.cc = 0;\r\n    fiber.cec = 0;\r\n    fiber.child = null;\r\n\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      fiber.marker = '';\r\n    }\r\n\r\n    $scope.setIsUpdateZone(true);\r\n    $scope.resetMount();\r\n    $scope.setWorkInProgress(fiber);\r\n    $scope.setCursorFiber(fiber);\r\n    fiber.inst = mount(fiber, null, $scope);\r\n    $scope.setNextUnitOfWork(fiber);\r\n  };\r\n\r\n  return callback;\r\n}\r\n\r\nexport type Tools = {\r\n  shouldUpdate: () => boolean;\r\n} & Pick<RestoreOptions, 'setValue' | 'resetValue'>;\r\n\r\nconst $tools = (): Tools => ({\r\n  shouldUpdate: trueFn,\r\n  setValue: null,\r\n  resetValue: null,\r\n});\r\n\r\nconst detectIsBusy = () => Boolean($$scope()?.getWorkInProgress());\r\n\r\nexport { Fiber, workLoop, createCallback, detectIsBusy };\r\n","export const VERSION = '0.25.1';\r\nexport const INPUT_TAG = 'input';\r\nexport const TEXTAREA_TAG = 'textarea';\r\nexport const CLASS_NAME_ATTR = 'className';\r\nexport const CLASS_ATTR = 'class';\r\nexport const STYLE_ATTR = 'style';\r\nexport const VALUE_ATTR = 'value';\r\nexport const EXCLUDE_ATTR_MARK = '$';\r\n","import { type DarkElement, unmountRoot } from '@dark-engine/core';\r\n\r\nimport { render, roots } from '../render';\r\nimport type { TagNativeElement } from '../native-element';\r\n\r\nfunction createRoot(container: TagNativeElement) {\r\n  return {\r\n    render: (element: DarkElement) => render(element, container),\r\n    unmount: () => unmount(container),\r\n  };\r\n}\r\n\r\nfunction unmount(container: TagNativeElement) {\r\n  const rootId = roots.get(container);\r\n\r\n  unmountRoot(rootId, () => {\r\n    roots.delete(container);\r\n    container.innerHTML = '';\r\n  });\r\n}\r\n\r\nexport { createRoot, unmount };\r\n","import {\r\n  type Fiber,\r\n  type VirtualNode,\r\n  type TagVirtualNode,\r\n  type TextVirtualNode,\r\n  type CommentVirtualNode,\r\n  type PlainVirtualNode,\r\n  type Callback,\r\n  REF_ATTR,\r\n  ATTR_BLACK_LIST,\r\n  CREATE_EFFECT_TAG,\r\n  UPDATE_EFFECT_TAG,\r\n  DELETE_EFFECT_TAG,\r\n  SKIP_EFFECT_TAG,\r\n  MOVE_MASK,\r\n  FLUSH_MASK,\r\n  SHADOW_MASK,\r\n  detectIsUndefined,\r\n  detectIsBoolean,\r\n  detectIsObject,\r\n  NodeType,\r\n  detectIsTagVirtualNode,\r\n  detectIsTextVirtualNode,\r\n  detectIsPlainVirtualNode,\r\n  getFiberWithElement,\r\n  collectElements,\r\n  walk,\r\n  dummyFn,\r\n  $$scope,\r\n  applyRef,\r\n} from '@dark-engine/core';\r\n\r\nimport { detectIsPortal } from '../portal';\r\nimport { delegateEvent, detectIsEvent, getEventName } from '../events';\r\nimport {\r\n  INPUT_TAG,\r\n  TEXTAREA_TAG,\r\n  STYLE_ATTR,\r\n  CLASS_ATTR,\r\n  CLASS_NAME_ATTR,\r\n  VALUE_ATTR,\r\n  EXCLUDE_ATTR_MARK,\r\n} from '../constants';\r\nimport type {\r\n  NativeElement,\r\n  TagNativeElement,\r\n  TextNativeElement,\r\n  CommentNativeElement,\r\n  NativeNode,\r\n  AttributeValue,\r\n} from '../native-element';\r\n\r\nexport type CSSProperties = Record<string, string | number>;\r\n\r\nlet moves: Array<Callback> = [];\r\nlet patches: Array<Callback> = [];\r\nlet trackUpdate: (nativeElement: NativeElement) => void = null;\r\nconst svgTagNames = new Set([\r\n  'svg',\r\n  'animate',\r\n  'animateMotion',\r\n  'animateTransform',\r\n  'circle',\r\n  'clipPath',\r\n  'defs',\r\n  'desc',\r\n  'ellipse',\r\n  'feBlend',\r\n  'feColorMatrix',\r\n  'feComponentTransfer',\r\n  'feComposite',\r\n  'feConvolveMatrix',\r\n  'feDiffuseLighting',\r\n  'feDisplacementMap',\r\n  'feDistantLight',\r\n  'feDropShadow',\r\n  'feFlood',\r\n  'feFuncA',\r\n  'feFuncB',\r\n  'feFuncG',\r\n  'feFuncR',\r\n  'feGaussianBlur',\r\n  'feImage',\r\n  'feMerge',\r\n  'feMergeNode',\r\n  'feMorphology',\r\n  'feOffset',\r\n  'fePointLight',\r\n  'feSpecularLighting',\r\n  'feSpotLight',\r\n  'feTile',\r\n  'feTurbulence',\r\n  'filter',\r\n  'foreignObject',\r\n  'g',\r\n  'image',\r\n  'line',\r\n  'linearGradient',\r\n  'marker',\r\n  'mask',\r\n  'metadata',\r\n  'mpath',\r\n  'path',\r\n  'pattern',\r\n  'polygon',\r\n  'polyline',\r\n  'radialGradient',\r\n  'rect',\r\n  'stop',\r\n  'switch',\r\n  'symbol',\r\n  'text',\r\n  'textPath',\r\n  'tspan',\r\n  'use',\r\n  'view',\r\n]);\r\nconst voidTagNames = new Set([\r\n  'area',\r\n  'base',\r\n  'br',\r\n  'col',\r\n  'embed',\r\n  'hr',\r\n  'img',\r\n  'input',\r\n  'link',\r\n  'meta',\r\n  'param',\r\n  'source',\r\n  'track',\r\n  'wbr',\r\n]);\r\n\r\nconst createNativeElementMap = {\r\n  [NodeType.TAG]: (vNode: VirtualNode): TagNativeElement => {\r\n    const tagNode = vNode as TagVirtualNode;\r\n    const name = tagNode.name;\r\n\r\n    return detectIsSvgElement(name)\r\n      ? document.createElementNS('http://www.w3.org/2000/svg', name)\r\n      : document.createElement(name);\r\n  },\r\n  [NodeType.TEXT]: (vNode: VirtualNode): TextNativeElement => {\r\n    return document.createTextNode((vNode as TextVirtualNode).value);\r\n  },\r\n  [NodeType.COMMENT]: (vNode: VirtualNode): CommentNativeElement => {\r\n    return document.createComment((vNode as CommentVirtualNode).value);\r\n  },\r\n};\r\n\r\nfunction createNativeElement(node: VirtualNode): NativeElement {\r\n  return createNativeElementMap[node.type](node);\r\n}\r\n\r\nfunction detectIsSvgElement(name: string) {\r\n  return svgTagNames.has(name);\r\n}\r\n\r\nfunction detectIsVoidElement(name: string) {\r\n  return voidTagNames.has(name);\r\n}\r\n\r\nfunction setObjectStyle(element: TagNativeElement, style: CSSProperties) {\r\n  const keys = Object.keys(style);\r\n\r\n  for (const key of keys) {\r\n    element.style.setProperty(key, String(style[key]));\r\n  }\r\n}\r\n\r\nfunction addAttributes(element: NativeElement, node: TagVirtualNode, isHydrateZone: boolean) {\r\n  const attrNames = Object.keys(node.attrs);\r\n  const tagElement = element as TagNativeElement;\r\n\r\n  for (const attrName of attrNames) {\r\n    const attrValue = node.attrs[attrName];\r\n\r\n    if (attrName[0] === EXCLUDE_ATTR_MARK) continue;\r\n\r\n    if (attrName === REF_ATTR) {\r\n      applyRef(attrValue, element);\r\n      continue;\r\n    }\r\n\r\n    if (attrName === CLASS_ATTR || attrName === CLASS_NAME_ATTR) {\r\n      toggleAttribute(tagElement, CLASS_ATTR, attrValue);\r\n      continue;\r\n    }\r\n\r\n    if (attrName === STYLE_ATTR && attrValue && detectIsObject(attrValue)) {\r\n      setObjectStyle(tagElement, attrValue as CSSProperties);\r\n      continue;\r\n    }\r\n\r\n    if (detectIsEvent(attrName)) {\r\n      delegateEvent(tagElement, getEventName(attrName), attrValue);\r\n    } else if (!isHydrateZone && !detectIsUndefined(attrValue) && !ATTR_BLACK_LIST[attrName]) {\r\n      const stop = patchProperties({\r\n        tagName: node.name,\r\n        element: tagElement,\r\n        attrValue,\r\n        attrName,\r\n      });\r\n\r\n      !stop && tagElement.setAttribute(attrName, attrValue);\r\n    }\r\n  }\r\n}\r\n\r\nfunction updateAttributes(element: NativeElement, prevNode: TagVirtualNode, nextNode: TagVirtualNode) {\r\n  const attrNames = getAttributeNames(prevNode, nextNode);\r\n  const tagElement = element as TagNativeElement;\r\n\r\n  for (const attrName of attrNames) {\r\n    const prevAttrValue = prevNode.attrs[attrName];\r\n    const nextAttrValue = nextNode.attrs[attrName];\r\n\r\n    if (attrName[0] === EXCLUDE_ATTR_MARK) continue;\r\n\r\n    if (attrName === REF_ATTR) {\r\n      applyRef(prevAttrValue, element);\r\n      continue;\r\n    }\r\n\r\n    if ((attrName === CLASS_ATTR || attrName === CLASS_NAME_ATTR) && prevAttrValue !== nextAttrValue) {\r\n      toggleAttribute(tagElement, CLASS_ATTR, nextAttrValue);\r\n      continue;\r\n    }\r\n\r\n    if (attrName === STYLE_ATTR && nextAttrValue && prevAttrValue !== nextAttrValue && detectIsObject(nextAttrValue)) {\r\n      setObjectStyle(tagElement, nextAttrValue as CSSProperties);\r\n      continue;\r\n    }\r\n\r\n    if (!detectIsUndefined(nextAttrValue)) {\r\n      if (detectIsEvent(attrName)) {\r\n        prevAttrValue !== nextAttrValue && delegateEvent(tagElement, getEventName(attrName), nextAttrValue);\r\n      } else if (!ATTR_BLACK_LIST[attrName] && prevAttrValue !== nextAttrValue) {\r\n        const stop = patchProperties({\r\n          tagName: nextNode.name,\r\n          element: tagElement,\r\n          attrValue: nextAttrValue,\r\n          attrName,\r\n        });\r\n\r\n        !stop && tagElement.setAttribute(attrName, nextAttrValue);\r\n      }\r\n    } else {\r\n      tagElement.removeAttribute(attrName);\r\n    }\r\n  }\r\n}\r\n\r\nfunction toggleAttribute(element: TagNativeElement, name: string, value: string) {\r\n  value ? element.setAttribute(name, value) : element.removeAttribute(name);\r\n}\r\n\r\nfunction getAttributeNames(prevNode: TagVirtualNode, nextNode: TagVirtualNode) {\r\n  const attrNames = new Set<string>();\r\n  const prevAttrs = Object.keys(prevNode.attrs);\r\n  const nextAttrs = Object.keys(nextNode.attrs);\r\n  const size = Math.max(prevAttrs.length, nextAttrs.length);\r\n\r\n  for (let i = 0; i < size; i++) {\r\n    attrNames.add(prevAttrs[i] || nextAttrs[i]);\r\n  }\r\n\r\n  return attrNames;\r\n}\r\n\r\ntype PatchPropertiesOptions = {\r\n  tagName: string;\r\n  element: TagNativeElement;\r\n  attrName: string;\r\n  attrValue: AttributeValue;\r\n};\r\n\r\nfunction patchProperties(options: PatchPropertiesOptions): boolean {\r\n  const { tagName, element, attrName, attrValue } = options;\r\n  const fn = specialCasesMap[tagName];\r\n  let stop = fn ? fn(element, attrName, attrValue) : false;\r\n\r\n  if (canSetProperty(element, attrName)) {\r\n    element[attrName] = attrValue;\r\n  }\r\n\r\n  if (!stop && detectIsBoolean(attrValue)) {\r\n    stop = !attrName.includes('-');\r\n  }\r\n\r\n  return stop;\r\n}\r\n\r\nfunction canSetProperty(element: TagNativeElement, key: string) {\r\n  const prototype = Object.getPrototypeOf(element);\r\n  const descriptor = Object.getOwnPropertyDescriptor(prototype, key);\r\n\r\n  return Boolean(descriptor?.set);\r\n}\r\n\r\nconst specialCasesMap: Record<\r\n  string,\r\n  (element: NativeElement, attrName: string, attrValue: AttributeValue) => boolean\r\n> = {\r\n  [INPUT_TAG]: (element: HTMLInputElement, attrName: string, attrValue: AttributeValue) => {\r\n    if (attrName === VALUE_ATTR) {\r\n      patches.push(() => {\r\n        detectIsBoolean(attrValue) ? (element.checked = attrValue) : (element.value = String(attrValue));\r\n      });\r\n    }\r\n\r\n    return false;\r\n  },\r\n  [TEXTAREA_TAG]: (element: HTMLTextAreaElement, attrName: string, attrValue: AttributeValue) => {\r\n    if (attrName === VALUE_ATTR) {\r\n      element.innerText = String(attrValue);\r\n\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  },\r\n};\r\n\r\nfunction commitCreation(fiber: Fiber<NativeElement>) {\r\n  const parentFiber = getFiberWithElement<NativeElement, TagNativeElement>(fiber.parent);\r\n  const parentElement = parentFiber.element;\r\n  const childNodes = parentElement.childNodes;\r\n  const isHydrateZone = $$scope().getIsHydrateZone();\r\n\r\n  if (isHydrateZone) {\r\n    const nativeElement = childNodes[fiber.eidx] as NativeElement;\r\n\r\n    if (\r\n      detectIsTextVirtualNode(fiber.inst) &&\r\n      nativeElement instanceof Text &&\r\n      fiber.inst.value.length !== nativeElement.length\r\n    ) {\r\n      nativeElement.splitText(fiber.inst.value.length);\r\n    }\r\n\r\n    fiber.element = nativeElement;\r\n  } else {\r\n    if (!(fiber.mask & SHADOW_MASK)) {\r\n      if (childNodes.length === 0 || fiber.eidx > childNodes.length - 1) {\r\n        !detectIsVoidElement((parentFiber.inst as TagVirtualNode).name) &&\r\n          appendNativeElement(fiber.element, parentElement);\r\n      } else {\r\n        insertNativeElement(fiber.element, parentElement.childNodes[fiber.eidx], parentElement);\r\n      }\r\n    }\r\n  }\r\n\r\n  detectIsTagVirtualNode(fiber.inst) && addAttributes(fiber.element, fiber.inst, isHydrateZone);\r\n}\r\n\r\nfunction commitUpdate(fiber: Fiber<NativeElement>) {\r\n  const element = fiber.element;\r\n  const prevInstance = fiber.alt.inst as VirtualNode;\r\n  const nextInstance = fiber.inst as VirtualNode;\r\n\r\n  detectIsPlainVirtualNode(nextInstance)\r\n    ? (prevInstance as PlainVirtualNode).value !== nextInstance.value && (element.textContent = nextInstance.value)\r\n    : updateAttributes(element, prevInstance as TagVirtualNode, nextInstance as TagVirtualNode);\r\n}\r\n\r\nfunction commitDeletion(fiber: Fiber<NativeElement>) {\r\n  const parentFiber = getFiberWithElement<NativeElement, TagNativeElement>(fiber.parent);\r\n\r\n  if (fiber.mask & FLUSH_MASK) {\r\n    parentFiber.element.innerHTML && (parentFiber.element.innerHTML = '');\r\n    return;\r\n  }\r\n\r\n  walk<NativeElement>(fiber, (fiber, skip) => {\r\n    if (fiber.element) {\r\n      !detectIsPortal(fiber.inst) &&\r\n        canRemoveNativeElement(fiber.element, parentFiber.element) &&\r\n        removeNativeElement(fiber.element, parentFiber.element);\r\n      return skip();\r\n    }\r\n  });\r\n}\r\n\r\nfunction move(fiber: Fiber<NativeElement>) {\r\n  const sourceNodes = collectElements(fiber, x => x.element);\r\n  const sourceNode = sourceNodes[0];\r\n  const parentElement = sourceNode.parentElement;\r\n  const sourceFragment = new DocumentFragment();\r\n  const elementIdx = fiber.eidx;\r\n  let idx = 0;\r\n  const move = () => {\r\n    for (let i = 1; i < sourceNodes.length; i++) {\r\n      removeNativeElement(parentElement.childNodes[elementIdx + 1], parentElement);\r\n    }\r\n\r\n    replaceNativeElement(sourceFragment, parentElement.childNodes[elementIdx], parentElement);\r\n  };\r\n\r\n  for (const node of sourceNodes) {\r\n    insertNativeElement(document.createComment(`${elementIdx}:${idx}`), node, parentElement);\r\n    appendNativeElement(node, sourceFragment);\r\n    idx++;\r\n  }\r\n\r\n  moves.push(move);\r\n}\r\n\r\nconst commitMap: Record<string, (fiber: Fiber<NativeElement>) => void> = {\r\n  [CREATE_EFFECT_TAG]: (fiber: Fiber<NativeElement>) => {\r\n    if (!fiber.element || detectIsPortal(fiber.inst)) return;\r\n    trackUpdate && trackUpdate(fiber.element);\r\n    commitCreation(fiber);\r\n  },\r\n  [UPDATE_EFFECT_TAG]: (fiber: Fiber<NativeElement>) => {\r\n    fiber.mask & MOVE_MASK && (move(fiber), (fiber.mask &= ~MOVE_MASK));\r\n    if (!fiber.element || detectIsPortal(fiber.inst)) return;\r\n    trackUpdate && trackUpdate(fiber.element);\r\n    commitUpdate(fiber);\r\n  },\r\n  [DELETE_EFFECT_TAG]: commitDeletion,\r\n  [SKIP_EFFECT_TAG]: dummyFn,\r\n};\r\n\r\nfunction finishCommit() {\r\n  moves.forEach(x => x());\r\n  patches.forEach(x => x());\r\n  moves = [];\r\n  patches = [];\r\n}\r\n\r\nconst commit = (fiber: Fiber<NativeElement>) => commitMap[fiber.tag](fiber);\r\n\r\nconst setTrackUpdate = (fn: typeof trackUpdate) => (trackUpdate = fn);\r\n\r\nconst appendNativeElement = (element: NativeNode, parent: NativeNode) => parent.appendChild(element);\r\n\r\nconst insertNativeElement = (element: NativeNode, sibling: NativeNode, parent: TagNativeElement) =>\r\n  parent.insertBefore(element, sibling);\r\n\r\nconst insertNativeElementByIndex = (element: NativeNode, idx: number, parent: TagNativeElement) =>\r\n  parent.insertBefore(element, parent.childNodes[idx]);\r\n\r\nconst replaceNativeElement = (element: NativeNode, candidate: NativeNode, parent: TagNativeElement) =>\r\n  parent.replaceChild(element, candidate);\r\n\r\nconst canRemoveNativeElement = (element: NativeNode, parent: NativeNode) => element.parentElement === parent;\r\n\r\nconst removeNativeElement = (element: NativeNode, parent: TagNativeElement) => parent.removeChild(element);\r\n\r\nexport { createNativeElement, commit, finishCommit, setTrackUpdate, insertNativeElementByIndex };\r\n","import { detectIsFunction, $$scope, detectIsArray } from '@dark-engine/core';\r\n\r\nimport type { TagNativeElement } from '../native-element';\r\n\r\nexport type EventHandler<E extends Event = Event, T = unknown> =\r\n  | ((e: SyntheticEvent<E, T>) => void)\r\n  | [(...args: Array<any>) => void, ...args: Array<any>];\r\n\r\ntype BrowserEventConstructor = (type: string, event: Event) => void;\r\n\r\nclass SyntheticEvent<E extends Event, T = TagNativeElement> {\r\n  type = '';\r\n  sourceEvent: E = null;\r\n  target: T = null;\r\n  propagation = true; // should be private but typescript has a bug\r\n\r\n  constructor(options: Pick<SyntheticEvent<E, T>, 'sourceEvent' | 'target'>) {\r\n    this.type = options.sourceEvent.type;\r\n    this.sourceEvent = options.sourceEvent;\r\n    this.target = options.target;\r\n  }\r\n\r\n  stopPropagation() {\r\n    this.propagation = false;\r\n    this.sourceEvent.stopPropagation();\r\n  }\r\n\r\n  preventDefault() {\r\n    this.sourceEvent.preventDefault();\r\n  }\r\n\r\n  getPropagation() {\r\n    return this.propagation;\r\n  }\r\n}\r\n\r\nfunction delegateEvent(target: Element, eventName: string, handler: EventHandler) {\r\n  const $scope = $$scope();\r\n  const eventsMap = $scope.getEvents();\r\n  const handlersMap = eventsMap.get(eventName);\r\n  const $handler = detectIsArray(handler) ? (e: Event) => handler[0](...handler.slice(1), e) : handler;\r\n\r\n  if (!handlersMap) {\r\n    const rootHandler = (event: Event) => {\r\n      const handler = eventsMap.get(eventName).get(event.target);\r\n      const target = event.target as TagNativeElement;\r\n      let $event: SyntheticEvent<Event> = null;\r\n\r\n      if (detectIsFunction(handler)) {\r\n        $event = new SyntheticEvent({ sourceEvent: event, target });\r\n\r\n        $scope.setIsEventZone(true);\r\n        handler($event);\r\n        $scope.setIsEventZone(false);\r\n      }\r\n\r\n      if (target.parentElement) {\r\n        const shouldPropagate = $event ? $event.getPropagation() : true;\r\n\r\n        if (shouldPropagate) {\r\n          const constructor = event.constructor as BrowserEventConstructor;\r\n\r\n          target.parentElement.dispatchEvent(new constructor(event.type, event));\r\n        }\r\n      }\r\n    };\r\n\r\n    eventsMap.set(eventName, new WeakMap([[target, $handler]]));\r\n    document.addEventListener(eventName, rootHandler, true);\r\n    $scope.addEventUnsubscriber(() => document.removeEventListener(eventName, rootHandler, true));\r\n  } else {\r\n    handlersMap.set(target, $handler);\r\n  }\r\n}\r\n\r\nconst detectIsEvent = (attrName: string) => attrName.startsWith('on');\r\n\r\nconst getEventName = (attrName: string) => attrName.slice(2, attrName.length).toLowerCase();\r\n\r\nexport { SyntheticEvent, delegateEvent, detectIsEvent, getEventName };\r\n","import { type DarkElement, type AppResource, APP_STATE_ATTR, $$scope } from '@dark-engine/core';\r\n\r\nimport { render } from '../render';\r\nimport { unmount } from '../create-root';\r\nimport type { TagNativeElement } from '../native-element';\r\n\r\nfunction hydrateRoot(container: TagNativeElement, element: DarkElement) {\r\n  render(element, container, hydrate);\r\n\r\n  return {\r\n    unmount: () => unmount(container),\r\n  };\r\n}\r\n\r\nfunction hydrate() {\r\n  const element = document.querySelector(`[${APP_STATE_ATTR}]`);\r\n\r\n  if (!element) return;\r\n  try {\r\n    const resources = parse(element.textContent) as Record<string, AppResource>;\r\n    const $scope = $$scope();\r\n\r\n    for (const key of Object.keys(resources)) {\r\n      $scope.setResource(Number(key), resources[key]);\r\n    }\r\n\r\n    element.remove();\r\n  } catch (error) {\r\n    throw Error('[Dark]: can not hydrate app state from the server!');\r\n  }\r\n}\r\n\r\nconst parse = (x: string) => JSON.parse(window.atob(x.replaceAll('\"', '')));\r\n\r\nexport { hydrateRoot };\r\n","import { type DarkElement, type Fiber, component, useMemo, $$scope, detectIsComponent } from '@dark-engine/core';\r\n\r\nimport type { TagNativeElement } from '../native-element';\r\n\r\nconst $$portal = Symbol('portal');\r\n\r\nfunction createPortal(slot: DarkElement, container: TagNativeElement) {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    if (!(container instanceof Element)) {\r\n      throw new Error(`[Dark]: createPortal only gets an Element as container!`);\r\n    }\r\n  }\r\n\r\n  return Portal({ container, slot });\r\n}\r\n\r\ntype PortalProps = {\r\n  container: TagNativeElement;\r\n  slot: DarkElement;\r\n};\r\n\r\nconst Portal = component<PortalProps>(\r\n  props => {\r\n    const element = props.container;\r\n    const fiber = $$scope().getCursorFiber();\r\n\r\n    useMemo(() => (element.innerHTML = ''), []);\r\n\r\n    fiber.element = element;\r\n    props.container = null;\r\n\r\n    return props.slot;\r\n  },\r\n  { token: $$portal },\r\n);\r\n\r\nconst detectIsPortal = (instance: unknown) => detectIsComponent(instance) && instance.token === $$portal;\r\n\r\nconst getPortalContainer = (fiber: Fiber<TagNativeElement>): TagNativeElement | null =>\r\n  detectIsPortal(fiber.inst) ? fiber.element : null;\r\n\r\nfunction unmountPortal(fiber: Fiber<TagNativeElement>) {\r\n  const element = getPortalContainer(fiber);\r\n\r\n  element && (element.innerHTML = '');\r\n}\r\n\r\nexport { createPortal, unmountPortal, detectIsPortal };\r\n","import {\r\n  type DarkElement,\r\n  type Callback,\r\n  ROOT,\r\n  Fiber,\r\n  CREATE_EFFECT_TAG,\r\n  UPDATE_EFFECT_TAG,\r\n  platform,\r\n  flatten,\r\n  detectIsUndefined,\r\n  detectIsFunction,\r\n  trueFn,\r\n  TagVirtualNode,\r\n  TaskPriority,\r\n  createReplacer,\r\n  setRootId,\r\n  $$scope,\r\n  dummyFn,\r\n  scheduler,\r\n} from '@dark-engine/core';\r\n\r\nimport { createNativeElement, insertNativeElementByIndex, commit, finishCommit } from '../dom';\r\nimport { detectIsPortal, unmountPortal } from '../portal';\r\nimport type { TagNativeElement } from '../native-element';\r\n\r\nconst roots = new Map<Element, number>();\r\nconst raf = requestAnimationFrame.bind(this);\r\nconst caf = cancelAnimationFrame.bind(this);\r\nconst spawn = raf;\r\nlet isInjected = false;\r\n\r\nfunction inject() {\r\n  platform.createElement = createNativeElement as typeof platform.createElement;\r\n  platform.insertElement = insertNativeElementByIndex as typeof platform.insertElement;\r\n  platform.raf = raf;\r\n  platform.caf = caf;\r\n  platform.spawn = spawn;\r\n  platform.commit = commit;\r\n  platform.finishCommit = finishCommit;\r\n  platform.detectIsDynamic = trueFn;\r\n  platform.detectIsPortal = detectIsPortal;\r\n  platform.unmountPortal = unmountPortal;\r\n  platform.chunk = dummyFn;\r\n  isInjected = true;\r\n}\r\n\r\nfunction render(element: DarkElement, container: TagNativeElement, hydrate?: Callback) {\r\n  !isInjected && inject();\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    if (!(container instanceof Element)) {\r\n      throw new Error(`[Dark]: render receives only Element as container!`);\r\n    }\r\n  }\r\n\r\n  const isMounted = !detectIsUndefined(roots.get(container));\r\n  const isHydrate = detectIsFunction(hydrate);\r\n  let rootId: number = null;\r\n\r\n  if (!isMounted) {\r\n    rootId = roots.size;\r\n    roots.set(container, rootId);\r\n    !isHydrate && (container.innerHTML = '');\r\n  } else {\r\n    rootId = roots.get(container);\r\n  }\r\n\r\n  const $scope = $$scope(rootId);\r\n\r\n  // insertion effect can't schedule renders\r\n  if ($scope?.getIsInsertionEffectsZone()) return;\r\n\r\n  const callback = () => {\r\n    setRootId(rootId); // !\r\n    const $scope = $$scope();\r\n    const rootFiber = $scope.getRoot();\r\n    const isUpdate = Boolean(rootFiber);\r\n    const fiber = new Fiber().mutate({\r\n      element: container,\r\n      inst: new TagVirtualNode(ROOT, {}, flatten([element || createReplacer()]) as TagVirtualNode['children']),\r\n      alt: rootFiber,\r\n      tag: isUpdate ? UPDATE_EFFECT_TAG : CREATE_EFFECT_TAG,\r\n    });\r\n\r\n    $scope.resetMount();\r\n    $scope.setWorkInProgress(fiber);\r\n    $scope.setIsHydrateZone(isHydrate);\r\n    $scope.setNextUnitOfWork(fiber);\r\n    isHydrate && hydrate();\r\n  };\r\n\r\n  scheduler.schedule(callback, { priority: TaskPriority.NORMAL });\r\n}\r\n\r\nexport { render, roots, inject };\r\n","export const VERSION = '0.25.1';\r\nexport const STYLE_TAG = 'style';\r\nexport const STYLED_ATTR = 'dark-styled';\r\nexport const GLOBAL_ATTR_VALUE = 'global';\r\nexport const COMPONENTS_ATTR_VALUE = 'components';\r\nexport const INTERLEAVE_GLOBAL_ATTR_VALUE = 'interleave-global';\r\nexport const INTERLEAVE_COMPONENTS_ATTR_VALUE = 'interleave-components';\r\nexport const CLASS_NAME_PREFIX = 'dk';\r\nexport const ANIMATION_NAME_PREFIX = 'dka';\r\nexport const OPENING_CURLY_BRACE_MARK = '{';\r\nexport const CLOSING_CURLY_BRACE_MARK = '}';\r\nexport const OPENING_PARENTHESIS_MARK = '(';\r\nexport const CLOSING_PARENTHESIS_MARK = ')';\r\nexport const COLON_MARK = ':';\r\nexport const SEMICOLON_MARK = ';';\r\nexport const DOT_MARK = '.';\r\nexport const BLANK_SPACE = ' ';\r\nexport const MEDIA_QUERY_MARK = '@media';\r\nexport const CONTAINER_QUERY_MARK = '@container';\r\nexport const KEYFRAMES_MARK = '@keyframes';\r\nexport const NESTING_MARK = '>';\r\nexport const SELF_MARK = '&';\r\nexport const FUNCTION_MARK = '[$]';\r\nexport const SINGLE_LINE_COMMENT_START_MARK = '//';\r\nexport const SINGLE_LINE_COMMENT_END_MARK = '\\n';\r\nexport const MULTI_LINE_COMMENT_START_MARK = '/*';\r\nexport const MULTI_LINE_COMMENT_END_MARK = '*/';\r\nexport const URL_FN_MARK = 'url';\r\n","import {\r\n  component,\r\n  forwardRef,\r\n  useInsertionEffect,\r\n  useMemo,\r\n  useId,\r\n  detectIsServer,\r\n  mapRecord,\r\n} from '@dark-engine/core';\r\n\r\nimport { detectIsBrowser, getElement, insertBefore, getElements, createStyleElement, setAttr, append } from '../utils';\r\nimport { STYLED_ATTR, GLOBAL_ATTR_VALUE, INTERLEAVE_GLOBAL_ATTR_VALUE } from '../constants';\r\nimport { css, inject, reuse, getTag as getStyleTag, filterArgs } from '../styled';\r\nimport { type ThemeProps, useTheme } from '../theme';\r\nimport { useManager } from '../server/manager';\r\nimport { type Args } from '../styled';\r\n\r\nlet cache: Map<string, string> = null;\r\nlet tag: HTMLStyleElement = null;\r\nlet isLoaded = false;\r\n\r\nsetupGlobal();\r\n\r\nfunction createGlobalStyle<P extends object = {}>(source: TemplateStringsArray, ...args: Args<P & ThemeProps>) {\r\n  if (!isLoaded && detectIsBrowser()) {\r\n    reuse(getInterleavedElements(), createTag);\r\n    isLoaded = true;\r\n  }\r\n  const fns = filterArgs<P>(args);\r\n  const sheet = css<P>(source, ...args);\r\n  const factory = forwardRef<P, unknown>(\r\n    component(props => {\r\n      const theme = useTheme();\r\n      const id = useId();\r\n      const css = useMemo(() => sheet.generate({ props: { ...props, theme }, fns }), [...mapRecord(props), theme]);\r\n\r\n      useInsertionEffect(() => {\r\n        if (!tag) {\r\n          tag = getTag() || createTag(); // after hydration\r\n        }\r\n\r\n        cache.set(id, css);\r\n        reinject(tag, cache);\r\n      }, [css]);\r\n\r\n      useInsertionEffect(() => {\r\n        return () => {\r\n          cache.delete(id);\r\n          reinject(tag, cache);\r\n        };\r\n      }, []);\r\n\r\n      if (detectIsServer()) {\r\n        const manager = useManager(); // special case of hook using, should be last in order\r\n\r\n        manager.collectGlobalStyle(css);\r\n        manager.reset(setupGlobal);\r\n      }\r\n\r\n      return null;\r\n    }),\r\n  );\r\n\r\n  return factory;\r\n}\r\n\r\nfunction setupGlobal() {\r\n  cache = new Map();\r\n  tag = null;\r\n  isLoaded = false;\r\n}\r\n\r\nfunction createTag() {\r\n  const tag1 = createStyleElement();\r\n  const tag2 = getStyleTag();\r\n\r\n  setAttr(tag1, STYLED_ATTR, GLOBAL_ATTR_VALUE);\r\n\r\n  if (tag2) {\r\n    insertBefore(document.head, tag1, tag2);\r\n  } else {\r\n    append(document.head, tag1);\r\n  }\r\n\r\n  return tag1;\r\n}\r\n\r\nfunction getInterleavedElements() {\r\n  return getElements(`[${STYLED_ATTR}=\"${INTERLEAVE_GLOBAL_ATTR_VALUE}\"]`) as Array<HTMLStyleElement>;\r\n}\r\n\r\nconst getTag = () => getElement(`[${STYLED_ATTR}=\"${GLOBAL_ATTR_VALUE}\"]`) as HTMLStyleElement;\r\n\r\nconst reinject = (tag: HTMLStyleElement, stylesMap: Map<string, string>) => {\r\n  tag.textContent = '';\r\n  stylesMap.forEach(css => inject(css, tag));\r\n};\r\n\r\nexport { setupGlobal, createGlobalStyle };\r\n","const SEED = 5381;\r\nconst SIZE = 6;\r\nconst map = { 0: 'a', 1: 'b', 2: 'c', 3: 'd', 4: 'e', 5: 'f', 6: 'g', 7: 'h', 8: 'i', 9: 'j' };\r\n\r\nfunction phash(h: number, x: string) {\r\n  let i = x.length;\r\n\r\n  while (i) {\r\n    h = (h * 33) ^ x.charCodeAt(--i);\r\n  }\r\n\r\n  return h;\r\n}\r\n\r\nfunction hash(x: string) {\r\n  const source = phash(SEED, x);\r\n  const hash = String(Math.abs(source))\r\n    .slice(0, SIZE)\r\n    .split('')\r\n    .map(x => map[x])\r\n    .join('');\r\n\r\n  return hash;\r\n}\r\n\r\nexport { hash };\r\n","import { type TextBased, detectIsTextBased } from '@dark-engine/core';\r\n\r\nimport { hash } from '../hash';\r\nimport { parse } from '../parse';\r\nimport {\r\n  KEYFRAMES_MARK,\r\n  FUNCTION_MARK,\r\n  OPENING_CURLY_BRACE_MARK,\r\n  CLOSING_CURLY_BRACE_MARK,\r\n  ANIMATION_NAME_PREFIX,\r\n} from '../constants';\r\nimport { type KeyframesRule } from '../tokens';\r\n\r\nclass Keyframes {\r\n  constructor(private name: string, private token: KeyframesRule) {}\r\n\r\n  getName() {\r\n    return this.name;\r\n  }\r\n\r\n  getToken() {\r\n    return this.token;\r\n  }\r\n}\r\n\r\nfunction keyframes(source: TemplateStringsArray, ...args: Array<TextBased>) {\r\n  const joined = join(pad(source), args);\r\n  const name = genAnimationName(joined);\r\n  const [token] = parse(joined.replace(FUNCTION_MARK, name)).children;\r\n  const keyframes = new Keyframes(name, token as KeyframesRule);\r\n\r\n  return keyframes;\r\n}\r\n\r\nfunction pad(source: TemplateStringsArray) {\r\n  const start = `${KEYFRAMES_MARK} ${FUNCTION_MARK} ${OPENING_CURLY_BRACE_MARK}`;\r\n  const end = CLOSING_CURLY_BRACE_MARK;\r\n  const strings: Array<string> = [];\r\n\r\n  for (let i = 0; i < source.length; i++) {\r\n    const isStart = i === 0;\r\n    const isEnd = i === source.length - 1;\r\n\r\n    if (isStart) {\r\n      strings.push(start + source[i]);\r\n    } else if (isEnd) {\r\n      strings.push(source[i] + end);\r\n    } else {\r\n      strings.push(source[i]);\r\n    }\r\n  }\r\n\r\n  return strings;\r\n}\r\n\r\nfunction join(source: Array<string>, args: Array<TextBased>) {\r\n  let joined = '';\r\n\r\n  for (let i = 0; i < source.length; i++) {\r\n    joined += source[i];\r\n\r\n    if (detectIsTextBased(args[i])) {\r\n      joined += args[i];\r\n    }\r\n  }\r\n\r\n  return joined;\r\n}\r\n\r\nconst genAnimationName = (key: string) => `${ANIMATION_NAME_PREFIX}-${hash(key)}`;\r\n\r\nconst detectIsKeyframes = (x: unknown): x is Keyframes => x instanceof Keyframes;\r\n\r\nexport { Keyframes, keyframes, detectIsKeyframes };\r\n","import {\r\n  OPENING_CURLY_BRACE_MARK,\r\n  CLOSING_CURLY_BRACE_MARK,\r\n  COLON_MARK,\r\n  SEMICOLON_MARK,\r\n  MEDIA_QUERY_MARK,\r\n  CONTAINER_QUERY_MARK,\r\n  KEYFRAMES_MARK,\r\n  FUNCTION_MARK,\r\n  SINGLE_LINE_COMMENT_START_MARK,\r\n  SINGLE_LINE_COMMENT_END_MARK,\r\n  MULTI_LINE_COMMENT_START_MARK,\r\n  MULTI_LINE_COMMENT_END_MARK,\r\n  OPENING_PARENTHESIS_MARK,\r\n  CLOSING_PARENTHESIS_MARK,\r\n  URL_FN_MARK,\r\n} from '../constants';\r\nimport {\r\n  type Children,\r\n  StyleSheet,\r\n  StyleRule,\r\n  MediaQueryRule,\r\n  ContainerQueryRule,\r\n  KeyframesRule,\r\n  NestingRule,\r\n  FunctionRule,\r\n  detectIsStyleSheet,\r\n  detectIsStyleRule,\r\n  detectIsMediaQueryRule,\r\n  detectIsContainerQueryRule,\r\n  detectIsKeyframesRule,\r\n  detectIsNestingRule,\r\n  detectIsFunctionRule,\r\n} from '../tokens';\r\n\r\nfunction parse<P extends object>(css: string) {\r\n  const stylesheet = new StyleSheet<P>();\r\n  const stack: Array<NestingRule | MediaQueryRule> = [];\r\n  let buffer = '';\r\n  let end = '';\r\n  let fnIdx = -1;\r\n  let isSingleLineComment = false;\r\n  let isMultiLineComment = false;\r\n  let isPropValue = false;\r\n  let isUrl = false;\r\n\r\n  for (let i = 0; i < css.length; i++) {\r\n    const char = css[i];\r\n    const parent = stack[stack.length - 1] || stylesheet;\r\n    const last = parent.children[parent.children.length - 1];\r\n\r\n    buffer += char;\r\n\r\n    if (!isSingleLineComment && detectHasSingleLineCommentStartMark(buffer)) {\r\n      isSingleLineComment = !isUrl;\r\n    } else if (isSingleLineComment && detectHasSingleLineCommentEndMark(buffer)) {\r\n      isSingleLineComment = false;\r\n      buffer = '';\r\n    }\r\n\r\n    if (!isMultiLineComment && detectHasMultiLineCommentStartMark(buffer)) {\r\n      isMultiLineComment = true;\r\n      end = detectIsStyleRule(last) ? createEnd(buffer) : '';\r\n    } else if (isMultiLineComment && detectHasMultiLineCommentEndMark(buffer)) {\r\n      isMultiLineComment = false;\r\n      buffer = '';\r\n    }\r\n\r\n    if (isSingleLineComment || isMultiLineComment) continue;\r\n\r\n    if (detectHasFunctionMark(buffer)) {\r\n      const token = new FunctionRule();\r\n\r\n      if (detectIsFunctionRule(last) && !last.getIsSealed() && last.style) {\r\n        last.add(++fnIdx);\r\n        buffer = '';\r\n        continue;\r\n      }\r\n\r\n      token.add(++fnIdx);\r\n      token.parent = parent;\r\n      token.markAsDynamic();\r\n\r\n      if (detectIsStyleRule(last) && !last.value) {\r\n        token.style = last;\r\n        token.name = buffer.trim();\r\n        last.normalize();\r\n        last.isDynamic = true;\r\n        parent.children[parent.children.length - 1] = token;\r\n      } else {\r\n        parent.children.push(token);\r\n      }\r\n\r\n      buffer = '';\r\n      continue;\r\n    }\r\n\r\n    switch (char) {\r\n      case OPENING_CURLY_BRACE_MARK:\r\n        {\r\n          const token = detectHasMediaQueryMark(buffer)\r\n            ? new MediaQueryRule()\r\n            : detectHasContainerQueryMark(buffer)\r\n            ? new ContainerQueryRule()\r\n            : detectHasKeyframesMark(buffer)\r\n            ? new KeyframesRule()\r\n            : new NestingRule();\r\n          const canNest =\r\n            detectIsMediaQueryRule(token) || detectIsContainerQueryRule(token) || detectIsKeyframesRule(token)\r\n              ? detectIsStyleSheet(parent)\r\n              : detectIsNestingRule(token)\r\n              ? detectIsStyleSheet(parent) ||\r\n                detectIsMediaQueryRule(parent) ||\r\n                detectIsContainerQueryRule(parent) ||\r\n                detectIsKeyframesRule(parent)\r\n              : false;\r\n\r\n          if (!canNest) {\r\n            throw new Error('Illegal style nesting!');\r\n          }\r\n\r\n          token.value = sub(buffer);\r\n          token.normalize();\r\n          token.parent = parent;\r\n\r\n          if (!token.value) {\r\n            throw new Error('Empty style nesting!');\r\n          }\r\n\r\n          parent.children.push(token);\r\n          stack.push(token);\r\n          buffer = '';\r\n        }\r\n        break;\r\n      case CLOSING_CURLY_BRACE_MARK:\r\n        stack.pop();\r\n        buffer = '';\r\n        break;\r\n      case COLON_MARK:\r\n        {\r\n          if (!detectIsPropName(buffer, i, css, parent.children)) continue;\r\n          const token = new StyleRule();\r\n\r\n          token.name = sub(buffer);\r\n          token.parent = parent;\r\n          parent.children.push(token);\r\n        }\r\n        buffer = '';\r\n        isPropValue = true;\r\n        break;\r\n      case SEMICOLON_MARK:\r\n        if (!last) {\r\n          throw new Error('Incorrect style!');\r\n        }\r\n\r\n        if (detectIsFunctionRule(last)) {\r\n          last.seal(sub(buffer));\r\n          buffer = '';\r\n          continue;\r\n        }\r\n\r\n        last.value = end || sub(buffer);\r\n        last.normalize();\r\n\r\n        buffer = '';\r\n        end = '';\r\n        isPropValue = false;\r\n        break;\r\n      case OPENING_PARENTHESIS_MARK:\r\n        if (isPropValue && detectHasUrlFnMark(buffer)) {\r\n          isUrl = true;\r\n        }\r\n        break;\r\n      case CLOSING_PARENTHESIS_MARK:\r\n        isUrl = false;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  return stylesheet;\r\n}\r\n\r\nfunction detectIsPropName(name: string, idx: number, css: string, children: Children) {\r\n  const last = children[children.length - 1];\r\n  if (detectHasMediaQueryMark(name) || detectHasContainerQueryMark(name)) return false;\r\n  if (detectIsStyleRule(last) && !last.value) return false;\r\n\r\n  for (let i = idx; i < css.length; i++) {\r\n    const char = css[i];\r\n\r\n    if (char === OPENING_CURLY_BRACE_MARK) return false;\r\n    if (char === SEMICOLON_MARK) return true;\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nconst detectHasSingleLineCommentStartMark = (x: string) => x.endsWith(SINGLE_LINE_COMMENT_START_MARK);\r\n\r\nconst detectHasSingleLineCommentEndMark = (x: string) => x.endsWith(SINGLE_LINE_COMMENT_END_MARK);\r\n\r\nconst detectHasMultiLineCommentStartMark = (x: string) => x.endsWith(MULTI_LINE_COMMENT_START_MARK);\r\n\r\nconst detectHasMultiLineCommentEndMark = (x: string) => x.endsWith(MULTI_LINE_COMMENT_END_MARK);\r\n\r\nconst detectHasFunctionMark = (x: string) => x.endsWith(FUNCTION_MARK);\r\n\r\nconst detectHasUrlFnMark = (x: string) => x.endsWith(URL_FN_MARK + OPENING_PARENTHESIS_MARK);\r\n\r\nconst detectHasMediaQueryMark = (x: string) => x.trim().startsWith(MEDIA_QUERY_MARK);\r\n\r\nconst detectHasContainerQueryMark = (x: string) => x.trim().startsWith(CONTAINER_QUERY_MARK);\r\n\r\nconst detectHasKeyframesMark = (x: string) => x.trim().startsWith(KEYFRAMES_MARK);\r\n\r\nconst sub = (x: string) => x.substring(0, x.length - 1);\r\n\r\nconst createEnd = (x: string) => x.replace(MULTI_LINE_COMMENT_START_MARK, '').trim();\r\n\r\nexport { parse };\r\n","import { type DarkElement, type Callback, createContext, useContext, component } from '@dark-engine/core';\r\n\r\nexport enum STYLE_LEVEL {\r\n  GLOBAL,\r\n  COMPONENT,\r\n}\r\n\r\nclass Manager {\r\n  private styles = createStyles();\r\n  private resets = new Set<Callback>();\r\n\r\n  collectGlobalStyle(css: string) {\r\n    this.styles[STYLE_LEVEL.GLOBAL].add(css);\r\n  }\r\n\r\n  collectComponentStyle(css: string) {\r\n    this.styles[STYLE_LEVEL.COMPONENT].add(css);\r\n  }\r\n\r\n  getStyles() {\r\n    return this.styles;\r\n  }\r\n\r\n  reset(fn: Callback) {\r\n    this.resets.add(fn);\r\n  }\r\n\r\n  seal() {\r\n    this.styles = createStyles();\r\n    this.resets.forEach(x => x());\r\n    this.resets = new Set();\r\n  }\r\n}\r\n\r\nconst createStyles = () => ({\r\n  [STYLE_LEVEL.GLOBAL]: new Set<string>(),\r\n  [STYLE_LEVEL.COMPONENT]: new Set<string>(),\r\n});\r\n\r\nconst ManagerContext = createContext<Manager>(null, { displayName: 'Manager' });\r\n\r\nfunction useManager() {\r\n  return useContext(ManagerContext);\r\n}\r\n\r\ntype ThemeProviderProps = {\r\n  manager: Manager;\r\n  slot: DarkElement;\r\n};\r\n\r\nconst ManagerProvider = component<ThemeProviderProps>(({ manager, slot }) => {\r\n  return ManagerContext.Provider({ value: manager, slot });\r\n});\r\n\r\nexport { Manager, useManager, ManagerProvider };\r\n","import {\r\n  type ComponentFactory,\r\n  type TagVirtualNodeFactory,\r\n  type StandardComponentProps,\r\n  type TextBased,\r\n  type DarkElement,\r\n  View,\r\n  component,\r\n  forwardRef,\r\n  useMemo,\r\n  detectIsString,\r\n  detectIsFunction,\r\n  detectIsTextBased,\r\n  detectIsServer,\r\n  useInsertionEffect,\r\n  mapRecord,\r\n} from '@dark-engine/core';\r\nimport { type DarkJSX } from '@dark-engine/platform-browser';\r\n\r\nimport {\r\n  CLASS_NAME_PREFIX,\r\n  FUNCTION_MARK,\r\n  DOT_MARK,\r\n  STYLED_ATTR,\r\n  COMPONENTS_ATTR_VALUE,\r\n  INTERLEAVE_COMPONENTS_ATTR_VALUE,\r\n  BLANK_SPACE,\r\n} from '../constants';\r\nimport {\r\n  detectIsBrowser,\r\n  mergeClassNames,\r\n  getElement,\r\n  getElements,\r\n  createStyleElement,\r\n  setAttr,\r\n  append,\r\n  mergeTemplates,\r\n} from '../utils';\r\nimport { type KeyframesRule, StyleSheet, detectIsStyleSheet, detectIsKeyframesRule } from '../tokens';\r\nimport { type Keyframes, detectIsKeyframes } from '../keyframes';\r\nimport { type ThemeProps, useTheme } from '../theme';\r\nimport { useManager } from '../server/manager';\r\nimport { parse } from '../parse';\r\nimport { hash } from '../hash';\r\n\r\nlet cache: Map<string, [string, string]> = null;\r\nlet injections: Set<string> = null;\r\nlet tag: HTMLStyleElement = null;\r\nlet isLoaded = false;\r\nconst $$styled = Symbol('styled');\r\n\r\nsetupGlobal();\r\nfunction styled<P extends object, T extends object = {}>(tagName: string | ComponentFactory<P>) {\r\n  const factory = detectIsString(tagName) ? (props: P) => View({ as: tagName, ...props }) : tagName;\r\n\r\n  if (!isLoaded && detectIsBrowser()) {\r\n    reuse(getInterleavedElements(), createTag);\r\n    isLoaded = true;\r\n  }\r\n\r\n  return createStyledComponent<P & T>(factory as Factory<P & T>);\r\n}\r\n\r\nfunction createStyledComponent<P extends StyledProps>(factory: Factory<P>) {\r\n  let transform: TransformFn<P> = x => x;\r\n  const isExtending = detectIsStyled(factory);\r\n  const config = isExtending ? getExtendingConfig(factory as StyledComponentFactory<P>) : null;\r\n  const fn = <T extends P>(source: TemplateStringsArray, ...args: Args<T & ThemeProps>) => {\r\n    const $source = isExtending ? mergeTemplates(config.source, source) : source;\r\n    const $args = isExtending ? [...config.args, ...args] : args;\r\n    const $transform = isExtending ? (p: T) => transform(config.transform(p)) : transform;\r\n    const fns = filterArgs<T>($args);\r\n    const [sheet, sheets] = slice<T>(css($source, ...$args));\r\n    const [baseName, baseStyle, baseKeyframes] = generate({ sheet, cache });\r\n    const styled = forwardRef<T, unknown>(\r\n      component((props, ref) => {\r\n        const { as: component, ...rest } = props;\r\n        const theme = useTheme();\r\n        const isSwap = detectIsFunction(component);\r\n        const $props = (isSwap ? rest : props) as unknown as T;\r\n        const $factory = isSwap ? component : isExtending ? config.factory : factory;\r\n        const [className, styles, keyframes] = useMemo(() => {\r\n          const [names, styles, keyframes] = sheets.reduce(\r\n            (acc, sheet) => {\r\n              const [className, style, keyframes] = generate({ sheet, cache, props: { ...props, theme }, fns });\r\n              const [names, styles, keyframesList] = acc;\r\n\r\n              names.push(className);\r\n              styles.push(style);\r\n              keyframesList.push(keyframes);\r\n\r\n              return acc;\r\n            },\r\n            [[], [baseStyle], [baseKeyframes]] as [Array<string>, Array<string>, Array<string>],\r\n          );\r\n          const className = mergeClassNames([...getClassNamesFrom(props), baseName, ...names]);\r\n\r\n          return [className, filter(styles, injections), filter(keyframes, injections)] as [\r\n            string,\r\n            Array<string>,\r\n            Array<string>,\r\n          ];\r\n        }, [...mapRecord(props), theme]);\r\n\r\n        useInsertionEffect(() => {\r\n          if (!tag) {\r\n            const $tag = getTag();\r\n\r\n            if ($tag) {\r\n              tag = $tag; // after hydration\r\n              return;\r\n            } else {\r\n              tag = createTag();\r\n            }\r\n          }\r\n\r\n          styles.forEach(css => inject(css, tag));\r\n          keyframes.forEach(css => inject(css, tag));\r\n        }, [...styles, ...keyframes]);\r\n\r\n        if (detectIsServer()) {\r\n          const manager = useManager(); // special case of hook using, should be last in order\r\n\r\n          styles.forEach(css => manager.collectComponentStyle(css));\r\n          keyframes.forEach(css => manager.collectComponentStyle(css));\r\n          manager.reset(setupGlobal);\r\n        }\r\n\r\n        if (detectIsFunction($props.slot)) {\r\n          $props.slot = $props.slot((x: string) => `${className}_${x}`);\r\n        }\r\n\r\n        return $factory({ ...$transform($props), ref, className });\r\n      }),\r\n    ) as StyledComponentFactory<T>;\r\n\r\n    styled[$$styled] = {\r\n      className: baseName,\r\n      source: $source,\r\n      args: $args,\r\n      factory: (config?.factory || factory) as Factory<T>,\r\n      transform: config ? p => transform(config.transform(p)) : transform,\r\n    };\r\n\r\n    return styled;\r\n  };\r\n\r\n  fn.attrs = (t: TransformFn<P>) => {\r\n    transform = detectIsFunction(t) ? t : transform;\r\n\r\n    return fn;\r\n  };\r\n\r\n  return fn;\r\n}\r\n\r\nfunction filter(styles: Array<string>, injections: Set<string>) {\r\n  const $styles: Array<string> = [];\r\n\r\n  for (const css of styles) {\r\n    if (!injections.has(css)) {\r\n      $styles.push(css);\r\n      injections.add(css);\r\n    }\r\n  }\r\n\r\n  return $styles;\r\n}\r\n\r\nfunction setupGlobal() {\r\n  cache = new Map();\r\n  injections = new Set();\r\n  tag = null;\r\n  isLoaded = false;\r\n}\r\n\r\nfunction getExtendingConfig<P extends object>(factory: StyledComponentFactory<P>) {\r\n  const { className, ...rest } = factory[$$styled];\r\n  const config: ExtendingConfig<P> = rest;\r\n\r\n  return config;\r\n}\r\n\r\ntype GenerateOptions<P extends object> = {\r\n  sheet: StyleSheet<P>;\r\n  cache: Map<string, [string, string]>;\r\n  props?: P;\r\n  fns?: Array<Function>;\r\n};\r\n\r\nfunction generate<P extends object>(options: GenerateOptions<P>): [string, string, string] {\r\n  const { sheet: $sheet, cache, props, fns } = options;\r\n  const [sheet, rules] = split($sheet);\r\n  const key = sheet.generate({ className: FUNCTION_MARK, props, fns });\r\n  const item = cache.get(key);\r\n  const className = item ? item[0] : genClassName(key);\r\n  const css = item ? item[1] : key.replaceAll(FUNCTION_MARK, className);\r\n  let style = '';\r\n  let keyframes = '';\r\n\r\n  style += css;\r\n  cache.set(key, [className, css]);\r\n\r\n  for (const rule of rules) {\r\n    keyframes += rule.generate();\r\n  }\r\n\r\n  return [className, style, keyframes];\r\n}\r\n\r\nfunction split<P extends object>(source: StyleSheet<P>): [StyleSheet<P>, Array<KeyframesRule<P>>] {\r\n  const sheet = new StyleSheet<P>();\r\n  const rules: Array<KeyframesRule<P>> = [];\r\n\r\n  for (const token of source.children) {\r\n    if (detectIsKeyframesRule(token)) {\r\n      rules.push(token);\r\n    } else {\r\n      sheet.children.push(token);\r\n    }\r\n  }\r\n\r\n  return [sheet, rules];\r\n}\r\n\r\nfunction slice<P extends object>(source: StyleSheet<P>): [StyleSheet<P>, Array<StyleSheet<P>>] {\r\n  const sheet = new StyleSheet<P>();\r\n  const sheets: Array<StyleSheet> = [];\r\n\r\n  for (const token of source.children) {\r\n    if (token.isDynamic) {\r\n      const style = new StyleSheet<P>();\r\n\r\n      style.children.push(token);\r\n      sheets.push(style);\r\n    } else {\r\n      sheet.children.push(token);\r\n    }\r\n  }\r\n\r\n  return [sheet, sheets];\r\n}\r\n\r\nfunction join<P>(strings: TemplateStringsArray, args: Args<P>) {\r\n  let joined = '';\r\n  let keyframes = '';\r\n\r\n  for (let i = 0; i < strings.length; i++) {\r\n    const arg = args[i];\r\n\r\n    joined += strings[i];\r\n\r\n    if (detectIsStyled(arg)) {\r\n      joined += `${DOT_MARK}${arg[$$styled].className}`;\r\n    } else if (detectIsStyleSheet(arg)) {\r\n      joined += arg.generate();\r\n    } else if (detectIsKeyframes(arg)) {\r\n      joined += arg.getName();\r\n      keyframes += arg.getToken().generate();\r\n    } else if (detectIsFunction(arg)) {\r\n      joined += FUNCTION_MARK;\r\n    } else if (detectIsTextBased(arg)) {\r\n      joined += arg;\r\n    }\r\n  }\r\n\r\n  joined += keyframes;\r\n\r\n  return joined;\r\n}\r\n\r\nfunction createTag() {\r\n  const tag = createStyleElement();\r\n\r\n  setAttr(tag, STYLED_ATTR, COMPONENTS_ATTR_VALUE);\r\n  append(document.head, tag);\r\n\r\n  return tag;\r\n}\r\n\r\nfunction inject(css: string, tag: HTMLStyleElement) {\r\n  tag.textContent = `${tag.textContent}${css}`;\r\n}\r\n\r\nfunction reuse(elements: Array<HTMLStyleElement>, createTag: () => HTMLStyleElement) {\r\n  if (elements.length === 0) return;\r\n  const tag = createTag();\r\n  let content = '';\r\n\r\n  for (const element of elements) {\r\n    content += element.textContent;\r\n    element.remove();\r\n  }\r\n\r\n  tag.textContent = content;\r\n}\r\n\r\nfunction getInterleavedElements() {\r\n  return getElements(`[${STYLED_ATTR}=\"${INTERLEAVE_COMPONENTS_ATTR_VALUE}\"]`) as Array<HTMLStyleElement>;\r\n}\r\n\r\nconst getTag = () => getElement(`[${STYLED_ATTR}=\"${COMPONENTS_ATTR_VALUE}\"]`) as HTMLStyleElement;\r\n\r\nconst css = <P extends object>(strings: TemplateStringsArray, ...args: Args<P>) => parse<P>(join(strings, args));\r\n\r\nconst getClassNamesFrom = (props: StyledProps) => (props.class || props.className || '').split(BLANK_SPACE);\r\n\r\nconst genClassName = (key: string) => `${CLASS_NAME_PREFIX}-${hash(key)}`;\r\n\r\nconst detectIsStyled = (x: unknown): x is StyledComponentFactory => detectIsFunction(x) && Boolean(x[$$styled]);\r\n\r\nconst filterArgs = <P>(args: Args<unknown>) =>\r\n  args.filter(x => detectIsFunction(x) && !detectIsStyled(x)) as DynamicArgs<P>;\r\n\r\ntype Factory<P extends object> = ComponentFactory<P> | ((props: P) => TagVirtualNodeFactory);\r\n\r\ntype ClassNameFn = (className: string) => string;\r\n\r\ntype StyledProps = {\r\n  as?: string | ComponentFactory;\r\n  class?: string;\r\n  className?: string;\r\n  style?: string | Record<string, string>;\r\n  slot?: ((fn: ClassNameFn) => DarkElement) | DarkElement;\r\n};\r\n\r\ntype ExtendingConfig<P extends object = {}> = {\r\n  source: TemplateStringsArray;\r\n  args: Args<P>;\r\n  factory: Factory<P>;\r\n  transform: (x: P) => P;\r\n};\r\n\r\ntype TransformFn<P> = (p: P) => any;\r\n\r\ntype DynamicArgs<P> = Array<ArgFn<P>>;\r\n\r\ntype ArgFn<P> = Function | ((p: P) => TextBased | false);\r\n\r\nexport type Args<P> = Array<TextBased | ArgFn<P> | StyleSheet | Keyframes>;\r\n\r\nexport type StyledComponentFactory<P extends object = {}> = {\r\n  [$$styled]: {\r\n    className: string;\r\n  } & ExtendingConfig<P>;\r\n} & ComponentFactory<P & StandardComponentProps & StyledProps>;\r\n\r\ntype FactoryFn<P extends object> = {\r\n  <T extends P>(source: TemplateStringsArray, ...args: Args<T & ThemeProps>): StyledComponentFactory<T>;\r\n  attrs: (t: TransformFn<P>) => FactoryFn<P>;\r\n};\r\n\r\nstyled.a = styled('a') as FactoryFn<DarkJSX.HTMLTags['a']>;\r\nstyled.abbr = styled('abbr') as FactoryFn<DarkJSX.HTMLTags['abbr']>;\r\nstyled.address = styled('address') as FactoryFn<DarkJSX.HTMLTags['address']>;\r\nstyled.area = styled('area') as FactoryFn<DarkJSX.HTMLTags['area']>;\r\nstyled.article = styled('article') as FactoryFn<DarkJSX.HTMLTags['article']>;\r\nstyled.aside = styled('aside') as FactoryFn<DarkJSX.HTMLTags['aside']>;\r\nstyled.audio = styled('audio') as FactoryFn<DarkJSX.HTMLTags['audio']>;\r\nstyled.b = styled('b') as FactoryFn<DarkJSX.HTMLTags['b']>;\r\nstyled.base = styled('base') as FactoryFn<DarkJSX.HTMLTags['base']>;\r\nstyled.bdi = styled('bdi') as FactoryFn<DarkJSX.HTMLTags['bdi']>;\r\nstyled.bdo = styled('bdo') as FactoryFn<DarkJSX.HTMLTags['bdo']>;\r\nstyled.blockquote = styled('blockquote') as FactoryFn<DarkJSX.HTMLTags['blockquote']>;\r\nstyled.body = styled('body') as FactoryFn<DarkJSX.HTMLTags['body']>;\r\nstyled.br = styled('br') as FactoryFn<DarkJSX.HTMLTags['br']>;\r\nstyled.button = styled('button') as FactoryFn<DarkJSX.HTMLTags['button']>;\r\nstyled.canvas = styled('canvas') as FactoryFn<DarkJSX.HTMLTags['canvas']>;\r\nstyled.caption = styled('caption') as FactoryFn<DarkJSX.HTMLTags['caption']>;\r\nstyled.cite = styled('cite') as FactoryFn<DarkJSX.HTMLTags['cite']>;\r\nstyled.code = styled('code') as FactoryFn<DarkJSX.HTMLTags['code']>;\r\nstyled.col = styled('col') as FactoryFn<DarkJSX.HTMLTags['col']>;\r\nstyled.colgroup = styled('colgroup') as FactoryFn<DarkJSX.HTMLTags['colgroup']>;\r\nstyled.data = styled('data') as FactoryFn<DarkJSX.HTMLTags['data']>;\r\nstyled.datalist = styled('datalist') as FactoryFn<DarkJSX.HTMLTags['datalist']>;\r\nstyled.dd = styled('dd') as FactoryFn<DarkJSX.HTMLTags['dd']>;\r\nstyled.del = styled('del') as FactoryFn<DarkJSX.HTMLTags['del']>;\r\nstyled.details = styled('details') as FactoryFn<DarkJSX.HTMLTags['details']>;\r\nstyled.dfn = styled('dfn') as FactoryFn<DarkJSX.HTMLTags['dfn']>;\r\nstyled.dialog = styled('dialog') as FactoryFn<DarkJSX.HTMLTags['dialog']>;\r\nstyled.div = styled('div') as FactoryFn<DarkJSX.HTMLTags['div']>;\r\nstyled.dl = styled('dl') as FactoryFn<DarkJSX.HTMLTags['dl']>;\r\nstyled.dt = styled('dt') as FactoryFn<DarkJSX.HTMLTags['dt']>;\r\nstyled.em = styled('em') as FactoryFn<DarkJSX.HTMLTags['em']>;\r\nstyled.embed = styled('embed') as FactoryFn<DarkJSX.HTMLTags['embed']>;\r\nstyled.fieldset = styled('fieldset') as FactoryFn<DarkJSX.HTMLTags['fieldset']>;\r\nstyled.figcaption = styled('figcaption') as FactoryFn<DarkJSX.HTMLTags['figcaption']>;\r\nstyled.figure = styled('figure') as FactoryFn<DarkJSX.HTMLTags['figure']>;\r\nstyled.footer = styled('footer') as FactoryFn<DarkJSX.HTMLTags['footer']>;\r\nstyled.form = styled('form') as FactoryFn<DarkJSX.HTMLTags['form']>;\r\nstyled.h1 = styled('h1') as FactoryFn<DarkJSX.HTMLTags['h1']>;\r\nstyled.h2 = styled('h2') as FactoryFn<DarkJSX.HTMLTags['h2']>;\r\nstyled.h3 = styled('h3') as FactoryFn<DarkJSX.HTMLTags['h3']>;\r\nstyled.h4 = styled('h4') as FactoryFn<DarkJSX.HTMLTags['h4']>;\r\nstyled.h5 = styled('h5') as FactoryFn<DarkJSX.HTMLTags['h5']>;\r\nstyled.h6 = styled('h6') as FactoryFn<DarkJSX.HTMLTags['h6']>;\r\nstyled.head = styled('head') as FactoryFn<DarkJSX.HTMLTags['head']>;\r\nstyled.header = styled('header') as FactoryFn<DarkJSX.HTMLTags['header']>;\r\nstyled.hgroup = styled('hgroup') as FactoryFn<DarkJSX.HTMLTags['hgroup']>;\r\nstyled.hr = styled('hr') as FactoryFn<DarkJSX.HTMLTags['hr']>;\r\nstyled.html = styled('html') as FactoryFn<DarkJSX.HTMLTags['html']>;\r\nstyled.i = styled('i') as FactoryFn<DarkJSX.HTMLTags['i']>;\r\nstyled.iframe = styled('iframe') as FactoryFn<DarkJSX.HTMLTags['iframe']>;\r\nstyled.img = styled('img') as FactoryFn<DarkJSX.HTMLTags['img']>;\r\nstyled.input = styled('input') as FactoryFn<DarkJSX.HTMLTags['input']>;\r\nstyled.ins = styled('ins') as FactoryFn<DarkJSX.HTMLTags['ins']>;\r\nstyled.kbd = styled('kbd') as FactoryFn<DarkJSX.HTMLTags['kbd']>;\r\nstyled.label = styled('label') as FactoryFn<DarkJSX.HTMLTags['label']>;\r\nstyled.legend = styled('legend') as FactoryFn<DarkJSX.HTMLTags['legend']>;\r\nstyled.li = styled('li') as FactoryFn<DarkJSX.HTMLTags['li']>;\r\nstyled.link = styled('link') as FactoryFn<DarkJSX.HTMLTags['link']>;\r\nstyled.main = styled('main') as FactoryFn<DarkJSX.HTMLTags['main']>;\r\nstyled.map = styled('map') as FactoryFn<DarkJSX.HTMLTags['map']>;\r\nstyled.mark = styled('mark') as FactoryFn<DarkJSX.HTMLTags['mark']>;\r\nstyled.menu = styled('menu') as FactoryFn<DarkJSX.HTMLTags['menu']>;\r\nstyled.meta = styled('meta') as FactoryFn<DarkJSX.HTMLTags['meta']>;\r\nstyled.meter = styled('meter') as FactoryFn<DarkJSX.HTMLTags['meter']>;\r\nstyled.nav = styled('nav') as FactoryFn<DarkJSX.HTMLTags['nav']>;\r\nstyled.noscript = styled('noscript') as FactoryFn<DarkJSX.HTMLTags['noscript']>;\r\nstyled.object = styled('object') as FactoryFn<DarkJSX.HTMLTags['object']>;\r\nstyled.ol = styled('ol') as FactoryFn<DarkJSX.HTMLTags['ol']>;\r\nstyled.optgroup = styled('optgroup') as FactoryFn<DarkJSX.HTMLTags['optgroup']>;\r\nstyled.option = styled('option') as FactoryFn<DarkJSX.HTMLTags['option']>;\r\nstyled.output = styled('output') as FactoryFn<DarkJSX.HTMLTags['output']>;\r\nstyled.p = styled('p') as FactoryFn<DarkJSX.HTMLTags['p']>;\r\nstyled.param = styled('param') as FactoryFn<DarkJSX.HTMLTags['param']>;\r\nstyled.picture = styled('picture') as FactoryFn<DarkJSX.HTMLTags['picture']>;\r\nstyled.pre = styled('pre') as FactoryFn<DarkJSX.HTMLTags['pre']>;\r\nstyled.progress = styled('progress') as FactoryFn<DarkJSX.HTMLTags['progress']>;\r\nstyled.q = styled('q') as FactoryFn<DarkJSX.HTMLTags['q']>;\r\nstyled.rp = styled('rp') as FactoryFn<DarkJSX.HTMLTags['rp']>;\r\nstyled.rt = styled('rt') as FactoryFn<DarkJSX.HTMLTags['rt']>;\r\nstyled.ruby = styled('ruby') as FactoryFn<DarkJSX.HTMLTags['ruby']>;\r\nstyled.s = styled('s') as FactoryFn<DarkJSX.HTMLTags['s']>;\r\nstyled.samp = styled('samp') as FactoryFn<DarkJSX.HTMLTags['samp']>;\r\nstyled.script = styled('script') as FactoryFn<DarkJSX.HTMLTags['script']>;\r\nstyled.section = styled('section') as FactoryFn<DarkJSX.HTMLTags['section']>;\r\nstyled.select = styled('select') as FactoryFn<DarkJSX.HTMLTags['select']>;\r\nstyled.small = styled('small') as FactoryFn<DarkJSX.HTMLTags['small']>;\r\nstyled.source = styled('source') as FactoryFn<DarkJSX.HTMLTags['source']>;\r\nstyled.span = styled('span') as FactoryFn<DarkJSX.HTMLTags['span']>;\r\nstyled.strong = styled('strong') as FactoryFn<DarkJSX.HTMLTags['strong']>;\r\nstyled.style = styled('style') as FactoryFn<DarkJSX.HTMLTags['style']>;\r\nstyled.sub = styled('sub') as FactoryFn<DarkJSX.HTMLTags['sub']>;\r\nstyled.summary = styled('summary') as FactoryFn<DarkJSX.HTMLTags['summary']>;\r\nstyled.sup = styled('sup') as FactoryFn<DarkJSX.HTMLTags['sup']>;\r\nstyled.table = styled('table') as FactoryFn<DarkJSX.HTMLTags['table']>;\r\nstyled.tbody = styled('tbody') as FactoryFn<DarkJSX.HTMLTags['tbody']>;\r\nstyled.td = styled('td') as FactoryFn<DarkJSX.HTMLTags['td']>;\r\nstyled.template = styled('template') as FactoryFn<DarkJSX.HTMLTags['template']>;\r\nstyled.textarea = styled('textarea') as FactoryFn<DarkJSX.HTMLTags['textarea']>;\r\nstyled.tfoot = styled('tfoot') as FactoryFn<DarkJSX.HTMLTags['tfoot']>;\r\nstyled.th = styled('th') as FactoryFn<DarkJSX.HTMLTags['th']>;\r\nstyled.thead = styled('thead') as FactoryFn<DarkJSX.HTMLTags['thead']>;\r\nstyled.time = styled('time') as FactoryFn<DarkJSX.HTMLTags['time']>;\r\nstyled.title = styled('title') as FactoryFn<DarkJSX.HTMLTags['title']>;\r\nstyled.tr = styled('tr') as FactoryFn<DarkJSX.HTMLTags['tr']>;\r\nstyled.track = styled('track') as FactoryFn<DarkJSX.HTMLTags['track']>;\r\nstyled.u = styled('u') as FactoryFn<DarkJSX.HTMLTags['u']>;\r\nstyled.ul = styled('ul') as FactoryFn<DarkJSX.HTMLTags['ul']>;\r\nstyled.var = styled('var') as FactoryFn<DarkJSX.HTMLTags['var']>;\r\nstyled.video = styled('video') as FactoryFn<DarkJSX.HTMLTags['video']>;\r\nstyled.wbr = styled('wbr') as FactoryFn<DarkJSX.HTMLTags['wbr']>;\r\nstyled.circle = styled('circle') as FactoryFn<DarkJSX.SVGTags['circle']>;\r\nstyled.clipPath = styled('clipPath') as FactoryFn<DarkJSX.SVGTags['clipPath']>;\r\nstyled.defs = styled('defs') as FactoryFn<DarkJSX.SVGTags['defs']>;\r\nstyled.desc = styled('desc') as FactoryFn<DarkJSX.SVGTags['desc']>;\r\nstyled.ellipse = styled('ellipse') as FactoryFn<DarkJSX.SVGTags['ellipse']>;\r\nstyled.feBlend = styled('feBlend') as FactoryFn<DarkJSX.SVGTags['feBlend']>;\r\nstyled.feColorMatrix = styled('feColorMatrix') as FactoryFn<DarkJSX.SVGTags['feColorMatrix']>;\r\nstyled.feComponentTransfer = styled('feComponentTransfer') as FactoryFn<DarkJSX.SVGTags['feComponentTransfer']>;\r\nstyled.feComposite = styled('feComposite') as FactoryFn<DarkJSX.SVGTags['feComposite']>;\r\nstyled.feConvolveMatrix = styled('feConvolveMatrix') as FactoryFn<DarkJSX.SVGTags['feConvolveMatrix']>;\r\nstyled.feDiffuseLighting = styled('feDiffuseLighting') as FactoryFn<DarkJSX.SVGTags['feDiffuseLighting']>;\r\nstyled.feDisplacementMap = styled('feDisplacementMap') as FactoryFn<DarkJSX.SVGTags['feDisplacementMap']>;\r\nstyled.feDistantLight = styled('feDistantLight') as FactoryFn<DarkJSX.SVGTags['feDistantLight']>;\r\nstyled.feFlood = styled('feFlood') as FactoryFn<DarkJSX.SVGTags['feFlood']>;\r\nstyled.feFuncA = styled('feFuncA') as FactoryFn<DarkJSX.SVGTags['feFuncA']>;\r\nstyled.feFuncB = styled('feFuncB') as FactoryFn<DarkJSX.SVGTags['feFuncB']>;\r\nstyled.feFuncG = styled('feFuncG') as FactoryFn<DarkJSX.SVGTags['feFuncG']>;\r\nstyled.feFuncR = styled('feFuncR') as FactoryFn<DarkJSX.SVGTags['feFuncR']>;\r\nstyled.feGaussianBlur = styled('feGaussianBlur') as FactoryFn<DarkJSX.SVGTags['feGaussianBlur']>;\r\nstyled.feImage = styled('feImage') as FactoryFn<DarkJSX.SVGTags['feImage']>;\r\nstyled.feMerge = styled('feMerge') as FactoryFn<DarkJSX.SVGTags['feMerge']>;\r\nstyled.feMergeNode = styled('feMergeNode') as FactoryFn<DarkJSX.SVGTags['feMergeNode']>;\r\nstyled.feMorphology = styled('feMorphology') as FactoryFn<DarkJSX.SVGTags['feMorphology']>;\r\nstyled.feOffset = styled('feOffset') as FactoryFn<DarkJSX.SVGTags['feOffset']>;\r\nstyled.fePointLight = styled('fePointLight') as FactoryFn<DarkJSX.SVGTags['fePointLight']>;\r\nstyled.feSpecularLighting = styled('feSpecularLighting') as FactoryFn<DarkJSX.SVGTags['feSpecularLighting']>;\r\nstyled.feSpotLight = styled('feSpotLight') as FactoryFn<DarkJSX.SVGTags['feSpotLight']>;\r\nstyled.feTile = styled('feTile') as FactoryFn<DarkJSX.SVGTags['feTile']>;\r\nstyled.feTurbulence = styled('feTurbulence') as FactoryFn<DarkJSX.SVGTags['feTurbulence']>;\r\nstyled.filter = styled('filter') as FactoryFn<DarkJSX.SVGTags['filter']>;\r\nstyled.g = styled('g') as FactoryFn<DarkJSX.SVGTags['g']>;\r\nstyled.image = styled('image') as FactoryFn<DarkJSX.SVGTags['image']>;\r\nstyled.line = styled('line') as FactoryFn<DarkJSX.SVGTags['line']>;\r\nstyled.linearGradient = styled('linearGradient') as FactoryFn<DarkJSX.SVGTags['linearGradient']>;\r\nstyled.marker = styled('marker') as FactoryFn<DarkJSX.SVGTags['marker']>;\r\nstyled.mask = styled('mask') as FactoryFn<DarkJSX.SVGTags['mask']>;\r\nstyled.path = styled('path') as FactoryFn<DarkJSX.SVGTags['path']>;\r\nstyled.pattern = styled('pattern') as FactoryFn<DarkJSX.SVGTags['pattern']>;\r\nstyled.polygon = styled('polygon') as FactoryFn<DarkJSX.SVGTags['polygon']>;\r\nstyled.polyline = styled('polyline') as FactoryFn<DarkJSX.SVGTags['polyline']>;\r\nstyled.radialGradient = styled('radialGradient') as FactoryFn<DarkJSX.SVGTags['radialGradient']>;\r\nstyled.rect = styled('rect') as FactoryFn<DarkJSX.SVGTags['rect']>;\r\nstyled.stop = styled('stop') as FactoryFn<DarkJSX.SVGTags['stop']>;\r\nstyled.svg = styled('svg') as FactoryFn<DarkJSX.SVGTags['svg']>;\r\nstyled.switch = styled('switch') as FactoryFn<DarkJSX.SVGTags['switch']>;\r\nstyled.symbol = styled('symbol') as FactoryFn<DarkJSX.SVGTags['symbol']>;\r\nstyled.text = styled('text') as FactoryFn<DarkJSX.SVGTags['text']>;\r\nstyled.textPath = styled('textPath') as FactoryFn<DarkJSX.SVGTags['textPath']>;\r\nstyled.tspan = styled('tspan') as FactoryFn<DarkJSX.SVGTags['tspan']>;\r\nstyled.use = styled('use') as FactoryFn<DarkJSX.SVGTags['use']>;\r\nstyled.view = styled('view') as FactoryFn<DarkJSX.SVGTags['view']>;\r\n\r\nexport { setupGlobal, styled, css, inject, reuse, getTag, filterArgs, detectIsStyled };\r\n","import { type DarkElement, createContext, useContext, component } from '@dark-engine/core';\r\n\r\nimport { type DefaultTheme } from '../';\r\n\r\n// // styled.d.ts\r\n// type Theme = {\r\n//   color1: string;\r\n//   color2: string;\r\n//   color3: string;\r\n// };\r\n// declare module '@dark-engine/styled' {\r\n//   export interface DefaultTheme extends Theme {}\r\n// }\r\n\r\nexport type ThemeProps = { theme: DefaultTheme };\r\n\r\nexport type ThemeContextValue = DefaultTheme;\r\n\r\nconst ThemeContext = createContext<ThemeContextValue>(null, { displayName: 'Theme' });\r\n\r\nconst useTheme = () => useContext(ThemeContext);\r\n\r\ntype ThemeProviderProps = {\r\n  theme: DefaultTheme;\r\n  slot: DarkElement;\r\n};\r\n\r\nconst ThemeProvider = component<ThemeProviderProps>(({ theme, slot }) => {\r\n  return ThemeContext.Provider({ value: theme, slot });\r\n});\r\n\r\nexport { ThemeProvider, useTheme };\r\n","import {\r\n  OPENING_CURLY_BRACE_MARK,\r\n  CLOSING_CURLY_BRACE_MARK,\r\n  COLON_MARK,\r\n  SEMICOLON_MARK,\r\n  MEDIA_QUERY_MARK,\r\n  CONTAINER_QUERY_MARK,\r\n  KEYFRAMES_MARK,\r\n  NESTING_MARK,\r\n  SELF_MARK,\r\n  DOT_MARK,\r\n  FUNCTION_MARK,\r\n  BLANK_SPACE,\r\n} from '../constants';\r\n\r\nimport { detectIsKeyframes } from '../keyframes';\r\n\r\nabstract class Token {\r\n  name = '';\r\n  value = '';\r\n  parent: Parent;\r\n  isDynamic = false;\r\n\r\n  normalize() {\r\n    this.name = this.name.trim();\r\n    this.value = this.value.trim();\r\n  }\r\n\r\n  markAsDynamic() {\r\n    this.isDynamic = true;\r\n    detectIsToken(this.parent) && !this.parent.isDynamic && this.parent.markAsDynamic();\r\n  }\r\n\r\n  abstract generate(): string | Tuple;\r\n  abstract generate(props: object, args: Array<Function>): string | Tuple;\r\n  abstract generate(className: string | null, props: object, args: Array<Function>): string | Tuple;\r\n}\r\n\r\nclass StyleRule extends Token {\r\n  override generate(): string {\r\n    return `${this.name}${COLON_MARK}${this.value}${SEMICOLON_MARK}`;\r\n  }\r\n}\r\n\r\nclass NestingRule<P extends object = {}> extends Token {\r\n  name = NESTING_MARK;\r\n  children: Children = [];\r\n\r\n  override generate(...args: Array<unknown>): string {\r\n    const className = args[0] as string | null;\r\n    const props = args[1] as P;\r\n    const fns = args[2] as Array<Function>;\r\n    let styles = `${this.value.replaceAll(SELF_MARK, `${DOT_MARK}${className}`)}${OPENING_CURLY_BRACE_MARK}`;\r\n    let keyframes = '';\r\n\r\n    for (const token of this.children) {\r\n      const [$styles, _, __, ___, $keyframes] = generate({ token, className, props, fns });\r\n\r\n      styles += $styles;\r\n      keyframes += $keyframes;\r\n    }\r\n\r\n    styles += `${CLOSING_CURLY_BRACE_MARK}${keyframes}`;\r\n\r\n    return styles;\r\n  }\r\n}\r\n\r\nclass MediaQueryRule<P extends object = {}> extends Token {\r\n  name = MEDIA_QUERY_MARK;\r\n  children: Children = [];\r\n\r\n  override generate(...args: Array<unknown>): string {\r\n    const className = args[0] as string | null;\r\n    const props = args[1] as P;\r\n    const fns = args[2] as Array<Function>;\r\n    let styles = className\r\n      ? `${this.value}${OPENING_CURLY_BRACE_MARK}${DOT_MARK}${className}${OPENING_CURLY_BRACE_MARK}`\r\n      : `${this.value}${OPENING_CURLY_BRACE_MARK}`;\r\n    let nesting = '';\r\n\r\n    for (const token of this.children) {\r\n      const [$styles, $nesting] = generate({ token, className, props, fns });\r\n\r\n      styles += $styles;\r\n      nesting += $nesting;\r\n    }\r\n\r\n    if (className) {\r\n      styles += `${CLOSING_CURLY_BRACE_MARK}${nesting}${CLOSING_CURLY_BRACE_MARK}`;\r\n    } else {\r\n      styles += `${nesting}${CLOSING_CURLY_BRACE_MARK}`;\r\n    }\r\n\r\n    return styles;\r\n  }\r\n}\r\n\r\nclass ContainerQueryRule<P extends object = {}> extends Token {\r\n  name = CONTAINER_QUERY_MARK;\r\n  children: Children = [];\r\n\r\n  override generate(...args: Array<unknown>): string {\r\n    const className = args[0] as string | null;\r\n    const props = args[1] as P;\r\n    const fns = args[2] as Array<Function>;\r\n    let styles = className\r\n      ? `${this.value}${OPENING_CURLY_BRACE_MARK}${DOT_MARK}${className}${OPENING_CURLY_BRACE_MARK}`\r\n      : `${this.value}${OPENING_CURLY_BRACE_MARK}`;\r\n    let nesting = '';\r\n\r\n    for (const token of this.children) {\r\n      const [$styles, $nesting] = generate({ token, className, props, fns });\r\n\r\n      styles += $styles;\r\n      nesting += $nesting;\r\n    }\r\n\r\n    if (className) {\r\n      styles += `${CLOSING_CURLY_BRACE_MARK}${nesting}${CLOSING_CURLY_BRACE_MARK}`;\r\n    } else {\r\n      styles += `${nesting}${CLOSING_CURLY_BRACE_MARK}`;\r\n    }\r\n\r\n    return styles;\r\n  }\r\n}\r\n\r\nclass KeyframesRule<P extends object = {}> extends Token {\r\n  name = KEYFRAMES_MARK;\r\n  children: Children = [];\r\n\r\n  override generate(...args: Array<unknown>): string {\r\n    const props = args[0] as P;\r\n    const fns = args[1] as Array<Function>;\r\n    let keyframes = `${this.value}${OPENING_CURLY_BRACE_MARK}`;\r\n\r\n    for (const token of this.children) {\r\n      const [$styles, $nesting] = generate({ token, props, fns });\r\n\r\n      keyframes += $styles;\r\n      keyframes += $nesting;\r\n    }\r\n\r\n    keyframes += `${CLOSING_CURLY_BRACE_MARK}`;\r\n\r\n    return keyframes;\r\n  }\r\n}\r\n\r\nclass FunctionRule<P extends object = {}> extends Token {\r\n  name = FUNCTION_MARK;\r\n  args: Array<number> = [];\r\n  style: StyleRule = null;\r\n  private end = '';\r\n  private isSealed = false;\r\n\r\n  add(idx: number) {\r\n    this.args.push(idx);\r\n  }\r\n\r\n  seal(end: string) {\r\n    this.isSealed = true;\r\n    this.end = end;\r\n  }\r\n\r\n  getIsSealed() {\r\n    return this.isSealed;\r\n  }\r\n\r\n  getEnd() {\r\n    return this.end;\r\n  }\r\n\r\n  generate(...args: Array<unknown>): Tuple {\r\n    const className = args[0] as string | null;\r\n    const props = args[1] as P;\r\n    const fns = args[2] as Array<Function>;\r\n    const styleExp = this.style;\r\n    const [idx, ...rest] = this.args;\r\n    const value = fns[idx](props);\r\n    let styles = '';\r\n    let nesting = '';\r\n    let media = '';\r\n    let container = '';\r\n    let keyframes = '';\r\n\r\n    if (detectIsStyleSheet(value)) {\r\n      for (const token of value.children) {\r\n        const [$styles, $nesting, $media, $container, $keyframes] = generate({ token, className, props, fns });\r\n\r\n        styles += $styles;\r\n        nesting += $nesting;\r\n        media += $media;\r\n        container += $container;\r\n        keyframes += $keyframes;\r\n      }\r\n    } else if (styleExp) {\r\n      const end = rest.reduce((acc, x) => (acc += BLANK_SPACE + fns[x](props)), '') + this.end;\r\n\r\n      if (detectIsKeyframes(value)) {\r\n        styleExp.value = replace(this.name, value.getName()) + end;\r\n        styles += styleExp.generate();\r\n        keyframes += value.getToken().generate(props, fns);\r\n      } else {\r\n        styleExp.value = replace(this.name, value) + end;\r\n        styles += styleExp.generate();\r\n      }\r\n    }\r\n\r\n    return [styles, nesting, media, container, keyframes];\r\n  }\r\n}\r\n\r\ntype GenerateOptions<P extends object> = {\r\n  className?: string;\r\n  props?: P;\r\n  fns?: Array<Function>;\r\n};\r\n\r\nclass StyleSheet<P extends object = {}> {\r\n  children: Children = [];\r\n\r\n  generate(options: GenerateOptions<P> = {}) {\r\n    const { className = null, props, fns } = options;\r\n    let styles = className ? `${DOT_MARK}${className}${OPENING_CURLY_BRACE_MARK}` : '';\r\n    let nesting = '';\r\n    let media = '';\r\n    let container = '';\r\n    let keyframes = '';\r\n\r\n    for (const token of this.children) {\r\n      const [$styles, $nesting, $media, $container, $keyframes] = generate({ token, className, props, fns });\r\n\r\n      styles += $styles;\r\n      nesting += $nesting;\r\n      media += $media;\r\n      container += $container;\r\n      keyframes += $keyframes;\r\n    }\r\n\r\n    if (className) {\r\n      styles += `${CLOSING_CURLY_BRACE_MARK}${nesting}${media}${container}${keyframes}`;\r\n    } else {\r\n      styles += `${nesting}${media}${container}${keyframes}`;\r\n    }\r\n\r\n    return styles;\r\n  }\r\n}\r\n\r\ntype GenerateProps<P extends object> = {\r\n  token: Token;\r\n  className?: string | null;\r\n  props?: P;\r\n  fns?: Array<Function>;\r\n};\r\n\r\nfunction generate<P extends object = {}>(options: GenerateProps<P>): Tuple {\r\n  const { token, className = null, props, fns } = options;\r\n  let styles = '';\r\n  let nesting = '';\r\n  let media = '';\r\n  let container = '';\r\n  let keyframes = '';\r\n\r\n  if (detectIsStyleRule(token)) {\r\n    styles += token.generate();\r\n  } else if (detectIsNestingRule(token)) {\r\n    nesting += token.generate(className, props, fns);\r\n  } else if (detectIsMediaQueryRule(token)) {\r\n    media += token.generate(className, props, fns);\r\n  } else if (detectIsContainerQueryRule(token)) {\r\n    container += token.generate(className, props, fns);\r\n  } else if (detectIsKeyframesRule(token)) {\r\n    keyframes += token.generate(props, fns);\r\n  } else if (detectIsFunctionRule(token)) {\r\n    const [$styles, $nesting, $media, $container, $keyframes] = token.generate(className, props, fns);\r\n\r\n    styles += $styles;\r\n    nesting += $nesting;\r\n    media += $media;\r\n    container += $container;\r\n    keyframes += $keyframes;\r\n  }\r\n\r\n  return [styles, nesting, media, container, keyframes];\r\n}\r\n\r\ntype Tuple = [string, string, string, string, string];\r\n\r\nexport type Parent = StyleSheet | Token;\r\n\r\nexport type Children = Array<Token>;\r\n\r\nconst detectIsToken = (x: unknown): x is Token => x instanceof Token;\r\n\r\nconst detectIsStyleRule = (x: unknown): x is StyleRule => x instanceof StyleRule;\r\n\r\nconst detectIsMediaQueryRule = (x: unknown): x is MediaQueryRule => x instanceof MediaQueryRule;\r\n\r\nconst detectIsContainerQueryRule = (x: unknown): x is ContainerQueryRule => x instanceof ContainerQueryRule;\r\n\r\nconst detectIsKeyframesRule = (x: unknown): x is KeyframesRule => x instanceof KeyframesRule;\r\n\r\nconst detectIsNestingRule = (x: unknown): x is NestingRule => x instanceof NestingRule;\r\n\r\nconst detectIsFunctionRule = (x: unknown): x is FunctionRule => x instanceof FunctionRule;\r\n\r\nconst detectIsStyleSheet = (x: unknown): x is StyleSheet => x instanceof StyleSheet;\r\n\r\nconst replace = (target: string, x: string) => target.replace(FUNCTION_MARK, x);\r\n\r\nexport {\r\n  StyleSheet,\r\n  StyleRule,\r\n  MediaQueryRule,\r\n  ContainerQueryRule,\r\n  KeyframesRule,\r\n  NestingRule,\r\n  FunctionRule,\r\n  detectIsStyleSheet,\r\n  detectIsStyleRule,\r\n  detectIsMediaQueryRule,\r\n  detectIsContainerQueryRule,\r\n  detectIsKeyframesRule,\r\n  detectIsNestingRule,\r\n  detectIsFunctionRule,\r\n};\r\n","import { STYLE_TAG, BLANK_SPACE } from '../constants';\r\n\r\nconst uniq = <T>(items: Array<T>, selector: (x: T) => unknown = x => x) => {\r\n  const arr: Array<T> = [];\r\n  const set = new Set();\r\n\r\n  for (const item of items) {\r\n    const key = selector(item);\r\n\r\n    !set.has(key) && arr.push(item);\r\n    set.add(key);\r\n  }\r\n\r\n  return arr;\r\n};\r\n\r\nconst mapProps = <T extends object>(props: T) => Object.keys(props).map(key => props[key]);\r\n\r\nconst mergeClassNames = (classNames: Array<string>) => uniq(classNames.filter(Boolean)).join(BLANK_SPACE);\r\n\r\nconst getElement = (selector: string) => document.querySelector(selector);\r\n\r\nconst getElements = (selector: string) => Array.from(document.querySelectorAll(selector));\r\n\r\nconst createStyleElement = () => document.createElement(STYLE_TAG);\r\n\r\nconst setAttr = (element: Element, attrName: string, attrValue: string) => element.setAttribute(attrName, attrValue);\r\n\r\nconst append = (parent: Element, element: Element) => parent.appendChild(element);\r\n\r\nconst insertBefore = (parent: Element, element: Element, sibling: Element) => parent.insertBefore(element, sibling);\r\n\r\nconst mergeTemplates = (t1: TemplateStringsArray, t2: TemplateStringsArray) => {\r\n  const [first] = t2;\r\n  const $t1 = [...t1];\r\n  const $t2: Array<string> = [];\r\n  let result: Omit<TemplateStringsArray, 'raw'> = null;\r\n\r\n  for (let i = 0; i < t2.length; i++) {\r\n    if (i > 0) {\r\n      $t2.push(t2[i]);\r\n    }\r\n  }\r\n\r\n  $t1[$t1.length - 1] = $t1[$t1.length - 1] + first;\r\n  result = [...$t1, ...$t2];\r\n\r\n  Object.assign(result, { raw: result });\r\n\r\n  return result as TemplateStringsArray;\r\n};\r\n\r\nconst detectIsBrowser = () => typeof globalThis.window !== 'undefined';\r\n\r\nexport {\r\n  uniq,\r\n  mapProps,\r\n  mergeClassNames,\r\n  getElement,\r\n  getElements,\r\n  createStyleElement,\r\n  setAttr,\r\n  append,\r\n  insertBefore,\r\n  mergeTemplates,\r\n  detectIsBrowser,\r\n};\r\n","export const VERSION = '0.25.1';\r\nexport const SLASH_MARK = '/';\r\nexport const PARAMETER_MARK = ':';\r\nexport const WILDCARD_MARK = '**';\r\nexport const PROTOCOL_MARK = '://';\r\nexport const SEARCH_MARK = '?';\r\nexport const HASH_MARK = '#';\r\nexport const ROOT_MARK = '_ROOT_';\r\n","import { createContext, useContext } from '@dark-engine/core';\r\n\r\nimport { type RouterLocation } from '../location';\r\nimport { type RouterHistory } from '../history';\r\nimport { type Route } from '../create-routes';\r\n\r\nexport type ActiveRouteContextValue = {\r\n  location: RouterLocation;\r\n  params: Map<string, string>;\r\n  activeRoute: Route;\r\n};\r\n\r\nconst ActiveRouteContext = createContext<ActiveRouteContextValue>(null, { displayName: 'ActiveRoute' });\r\n\r\nfunction useActiveRouteContext() {\r\n  const value = useContext(ActiveRouteContext);\r\n\r\n  return value;\r\n}\r\n\r\nexport type RouterHistoryContextValue = {\r\n  history: RouterHistory;\r\n};\r\n\r\nconst RouterHistoryContext = createContext<RouterHistoryContextValue>(null, { displayName: 'RouterHistory' });\r\n\r\nfunction useRouterHistoryContext() {\r\n  const value = useContext(RouterHistoryContext);\r\n\r\n  return value;\r\n}\r\n\r\nconst CurrentPathContext = createContext<string>(null, { displayName: 'CurrentPath' });\r\n\r\nfunction useCurrentPathContext() {\r\n  const value = useContext(CurrentPathContext);\r\n\r\n  return value;\r\n}\r\n\r\nfunction checkContextValue(value: ActiveRouteContextValue | RouterHistoryContextValue) {\r\n  if (!value) {\r\n    throw new Error('[web-router]: illegal invoke hook outside router!');\r\n  }\r\n}\r\n\r\nexport {\r\n  ActiveRouteContext,\r\n  useActiveRouteContext,\r\n  RouterHistoryContext,\r\n  useRouterHistoryContext,\r\n  CurrentPathContext,\r\n  useCurrentPathContext,\r\n  checkContextValue,\r\n};\r\n","import { type DarkElement, type ComponentFactory, type SlotProps, keyBy, detectIsString } from '@dark-engine/core';\r\n\r\nimport { SLASH_MARK, WILDCARD_MARK, ROOT_MARK } from '../constants';\r\nimport { pipe, splitPath, normalaizePathname, detectIsParam, getParamName, sort } from '../utils';\r\nimport { CurrentPathContext } from '../context';\r\nimport type { Routes, RouteDescriptor, PathMatchStrategy, Params } from './types';\r\n\r\ntype RouteConstructorOptions = {\r\n  prefix: string;\r\n  parent: Route;\r\n} & RouteDescriptor;\r\n\r\nclass Route {\r\n  path = '';\r\n  pathMatch?: PathMatchStrategy;\r\n  parent: Route = null;\r\n  children: Array<Route> = [];\r\n  level: number = null;\r\n  marker = '';\r\n  redirectTo: {\r\n    path: string;\r\n    route: Route;\r\n  };\r\n  component: RouteConstructorOptions['component'] | null;\r\n\r\n  constructor(options: RouteConstructorOptions) {\r\n    const { prefix, path, redirectTo, pathMatch = 'prefix', children = [], parent, component } = options;\r\n    const rootPath = createRootPath(path);\r\n    const $path = createPath(pathMatch, prefix, rootPath);\r\n\r\n    this.path = $path;\r\n    this.pathMatch = pathMatch;\r\n    this.parent = parent;\r\n    this.children = createRoutes(children, $path, this);\r\n    this.level = parent ? parent.level + 1 : 0;\r\n    this.marker = rootPath;\r\n    this.redirectTo = detectIsString(redirectTo)\r\n      ? {\r\n          path: createPath(pathMatch, prefix, createRootPath(redirectTo)),\r\n          route: null,\r\n        }\r\n      : null;\r\n    this.component = component || null;\r\n  }\r\n\r\n  private getRoute(): Route {\r\n    return this;\r\n  }\r\n\r\n  getPath() {\r\n    return this.path.replaceAll(ROOT_MARK + SLASH_MARK, '');\r\n  }\r\n\r\n  render(): DarkElement {\r\n    let slot = null;\r\n    let nextRoute = this.getRoute();\r\n\r\n    while (nextRoute) {\r\n      const value = nextRoute.getPath();\r\n      const component = nextRoute.component as ComponentFactory<SlotProps>;\r\n\r\n      slot = CurrentPathContext.Provider({ value, slot: [component({ slot })] });\r\n      nextRoute = nextRoute.parent;\r\n    }\r\n\r\n    return slot;\r\n  }\r\n}\r\n\r\nfunction createRoutes(routes: Routes, prefix = SLASH_MARK, parent: Route = null): Array<Route> {\r\n  const $routes: Array<Route> = [];\r\n\r\n  for (const route of routes) {\r\n    const $route = new Route({ ...route, prefix, parent });\r\n\r\n    $routes.push($route, ...$route.children);\r\n  }\r\n\r\n  if (!parent) {\r\n    const map = keyBy($routes, x => x.path, true) as Record<string, Route>;\r\n\r\n    for (const $route of $routes) {\r\n      if ($route.redirectTo) {\r\n        $route.redirectTo.route = map[$route.redirectTo.path] || null;\r\n      }\r\n    }\r\n  }\r\n\r\n  return $routes;\r\n}\r\n\r\nfunction resolve(pathname: string, routes: Array<Route>): Route {\r\n  const route = pipe<Route>(\r\n    match(pathname, routes),\r\n    redirect(),\r\n    wildcard(pathname, routes),\r\n    redirect(),\r\n    root(),\r\n    redirect(),\r\n    canRender(),\r\n  )();\r\n\r\n  return route;\r\n}\r\n\r\nfunction match(pathname: string, routes: Array<Route>) {\r\n  return (): Route => {\r\n    const [route] = pipe<Array<Route>>(\r\n      (routes: Array<Route>) => routes.filter(x => detectIsMatchByFirstStrategy(pathname, x.path)),\r\n      (routes: Array<Route>) => routes.filter(x => detectIsMatchBySecondStrategy(pathname, x.path)),\r\n    )(routes);\r\n\r\n    return pick(route);\r\n  };\r\n}\r\n\r\nfunction redirect() {\r\n  return (route: Route): Route => {\r\n    if (route?.redirectTo) return redirect()(route.redirectTo.route);\r\n    if (route?.parent?.redirectTo) return redirect()(route.parent.redirectTo.route);\r\n\r\n    return pick(route);\r\n  };\r\n}\r\n\r\nfunction wildcard(pathname: string, routes: Array<Route>) {\r\n  return ($route: Route): Route => {\r\n    if ($route) return $route;\r\n    const [route] = pipe<Array<Route>>(\r\n      (routes: Array<Route>) => routes.filter(x => x.marker === WILDCARD_MARK),\r\n      (routes: Array<Route>) => routes.filter(x => detectIsMatchAsWildcard(pathname, x.path)) || null,\r\n      (routes: Array<Route>) => sort('desc', routes, x => x.level),\r\n    )(routes);\r\n\r\n    return pick(route);\r\n  };\r\n}\r\n\r\nfunction root() {\r\n  return (route: Route): Route => {\r\n    const root = route?.children.find(x => x.marker === ROOT_MARK) || route;\r\n\r\n    return pick(root);\r\n  };\r\n}\r\n\r\nfunction canRender() {\r\n  return (route: Route): Route => {\r\n    if (route?.component) return route;\r\n\r\n    if (process.env.NODE_ENV !== 'test') {\r\n      throw new Error('[web-router]: the route not found or it has no component!');\r\n    }\r\n\r\n    return null;\r\n  };\r\n}\r\n\r\nconst pick = (route: Route): Route | null => route || null;\r\n\r\nfunction detectIsMatchByFirstStrategy(urlPath: string, routePath: string): boolean {\r\n  const matcher = createMatcher({\r\n    space: (_, b) => b,\r\n    skip: ({ isRoot, isParam }) => isRoot || isParam,\r\n  });\r\n\r\n  return matcher(urlPath, routePath);\r\n}\r\n\r\nfunction detectIsMatchBySecondStrategy(urlPath: string, routePath: string): boolean {\r\n  const matcher = createMatcher({\r\n    space: a => a,\r\n    skip: ({ isParam }) => isParam,\r\n  });\r\n\r\n  return matcher(urlPath, routePath);\r\n}\r\n\r\nfunction detectIsMatchAsWildcard(urlPath: string, routePath: string): boolean {\r\n  const matcher = createMatcher({\r\n    space: (_, b) => b,\r\n    skip: ({ isRoot, isParam, isWildcard }) => isRoot || isParam || isWildcard,\r\n  });\r\n\r\n  return matcher(urlPath, routePath);\r\n}\r\n\r\ntype CreateMatcherOptions = {\r\n  space: (a: Array<string>, b: Array<string>) => Array<string>;\r\n  skip: (options: SkipOptions) => boolean;\r\n};\r\n\r\ntype SkipOptions = {\r\n  isRoot: boolean;\r\n  isWildcard: boolean;\r\n  isParam: boolean;\r\n};\r\n\r\nfunction createMatcher(options: CreateMatcherOptions) {\r\n  const { space, skip } = options;\r\n  return (urlPath: string, routePath: string) => {\r\n    const sUrlPath = splitPath(urlPath);\r\n    const sRoutePath = splitPath(routePath);\r\n\r\n    for (let i = 0; i < space(sUrlPath, sRoutePath).length; i++) {\r\n      const segment = sRoutePath[i];\r\n      const isRoot = segment === ROOT_MARK;\r\n      const isWildcard = segment === WILDCARD_MARK;\r\n      const isParam = detectIsParam(segment);\r\n\r\n      if (segment !== sUrlPath[i] && !skip({ isRoot, isWildcard, isParam })) return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n}\r\n\r\nfunction createPathname(urlPath: string, routePath: string): string {\r\n  const sUrlPath = splitPath(urlPath);\r\n  const sRoutePath = splitPath(routePath);\r\n  const parts: Array<string> = [];\r\n\r\n  for (let i = 0; i < sRoutePath.length; i++) {\r\n    const isParam = detectIsParam(sRoutePath[i]);\r\n\r\n    if (isParam) {\r\n      const param = sUrlPath[i] || 'null';\r\n\r\n      parts.push(param);\r\n    } else {\r\n      parts.push(sRoutePath[i]);\r\n    }\r\n  }\r\n\r\n  let newPathname = normalaizePathname(parts.join(SLASH_MARK));\r\n\r\n  if (newPathname[0] !== SLASH_MARK) {\r\n    newPathname = SLASH_MARK + newPathname;\r\n  }\r\n\r\n  return newPathname;\r\n}\r\n\r\nfunction createPath(pathMatch: PathMatchStrategy, prefix: string, path: string): string {\r\n  const $prefix = pathMatch === 'prefix' ? normalaizePathname(prefix) : '';\r\n\r\n  return normalaizePathname($prefix ? `${$prefix}${path}` : path);\r\n}\r\n\r\nfunction createRootPath(path: string): string {\r\n  return path === SLASH_MARK || path === '' ? ROOT_MARK : path;\r\n}\r\n\r\nconst getParamsMap = (pathname: string, route: Route): Params => {\r\n  const sPathname = splitPath(pathname);\r\n  const sPath = splitPath(route.path);\r\n  const map = new Map();\r\n\r\n  for (let i = 0; i < sPath.length; i++) {\r\n    if (detectIsParam(sPath[i])) {\r\n      map.set(getParamName(sPath[i]), sPathname[i]);\r\n    }\r\n  }\r\n\r\n  return map;\r\n};\r\n\r\nfunction resolveRoute(pathname: string, routes: Array<Route>) {\r\n  const activeRoute = resolve(pathname, routes);\r\n  const slot = activeRoute ? activeRoute.render() : null;\r\n  const params = activeRoute ? getParamsMap(pathname, activeRoute) : null;\r\n  const value = { activeRoute, slot, params };\r\n\r\n  return value;\r\n}\r\n\r\nexport { type Route, createRoutes, resolve, resolveRoute, createPathname };\r\n","import { detectIsFalsy, type SubscriberWithValue } from '@dark-engine/core';\r\n\r\nimport { normalaizePathname, parseURL } from '../utils';\r\n\r\nconst history = globalThis.history;\r\nclass RouterHistory {\r\n  private stack: Array<string> = [];\r\n  private cursor = -1;\r\n  private subscribers: Set<SubscriberWithValue<string>> = new Set();\r\n  private fromHistory = false;\r\n  dispose: () => void = null;\r\n\r\n  constructor(url: string) {\r\n    if (detectIsFalsy(url)) {\r\n      throw new Error('[web-router]: RouterHistory must have an initial url!');\r\n    }\r\n\r\n    const { pathname, search } = parseURL(url);\r\n    const spathname = pathname + search;\r\n\r\n    this.stack.push(spathname);\r\n    this.cursor = this.stack.length - 1;\r\n\r\n    if (history) {\r\n      const state = this.getState();\r\n\r\n      if (!state) {\r\n        history.replaceState(this.createStateBox(), '');\r\n      } else {\r\n        this.stack = state.stack;\r\n        this.cursor = state.cursor;\r\n      }\r\n\r\n      const handleEvent = () => {\r\n        const state = this.getState();\r\n\r\n        if (state) {\r\n          this.stack = state.stack;\r\n          this.cursor = state.cursor;\r\n        }\r\n\r\n        if (!this.fromHistory) {\r\n          this.mapSubscribers();\r\n        }\r\n\r\n        this.fromHistory = false;\r\n      };\r\n\r\n      window.addEventListener('popstate', handleEvent);\r\n\r\n      this.dispose = () => {\r\n        window.removeEventListener('popstate', handleEvent);\r\n        this.subscribers.clear();\r\n        this.stack = [];\r\n        this.cursor = -1;\r\n      };\r\n    }\r\n  }\r\n\r\n  private mapSubscribers() {\r\n    for (const subscriber of this.subscribers) {\r\n      subscriber(this.getValue());\r\n    }\r\n  }\r\n\r\n  private getValue = () => {\r\n    return normalaizePathname(this.stack[this.cursor]);\r\n  };\r\n\r\n  private getState(): State {\r\n    return (history.state && history.state[STATE_KEY]) || null;\r\n  }\r\n\r\n  private createStateBox(): StateBox {\r\n    const state = history.state || {};\r\n\r\n    return { ...state, [STATE_KEY]: { cursor: this.cursor, stack: this.stack } };\r\n  }\r\n\r\n  private syncHistory(action: HistoryAction, spathname: string) {\r\n    if (!history) return;\r\n    const stateBox = this.createStateBox();\r\n    const $spathname = normalaizePathname(spathname);\r\n\r\n    switch (action) {\r\n      case HistoryAction.PUSH:\r\n        return history.pushState(stateBox, '', $spathname);\r\n      case HistoryAction.REPLACE:\r\n        return history.replaceState(stateBox, '', $spathname);\r\n    }\r\n  }\r\n\r\n  subscribe = (subscriber: SubscriberWithValue<string>) => {\r\n    this.subscribers.add(subscriber);\r\n\r\n    return () => this.subscribers.delete(subscriber);\r\n  };\r\n\r\n  push(spathname: string) {\r\n    this.stack.splice(this.cursor + 1, this.stack.length, spathname);\r\n    this.cursor = this.stack.length - 1;\r\n    this.syncHistory(HistoryAction.PUSH, spathname);\r\n    this.mapSubscribers();\r\n  }\r\n\r\n  replace(spathname: string) {\r\n    this.stack[this.stack.length - 1] = spathname;\r\n    this.syncHistory(HistoryAction.REPLACE, spathname);\r\n    this.mapSubscribers();\r\n  }\r\n\r\n  forward() {\r\n    this.go(1);\r\n  }\r\n\r\n  back() {\r\n    this.go(-1);\r\n  }\r\n\r\n  go(delta: number) {\r\n    const max = this.stack.length - 1;\r\n    let $delta = delta;\r\n\r\n    this.fromHistory = true;\r\n    this.cursor += delta;\r\n\r\n    if (this.cursor > max) {\r\n      this.cursor = max;\r\n      $delta = max;\r\n    } else if (this.cursor < 0) {\r\n      this.cursor = 0;\r\n      $delta = -max;\r\n    }\r\n\r\n    history?.go($delta);\r\n    this.mapSubscribers();\r\n  }\r\n}\r\n\r\nenum HistoryAction {\r\n  PUSH = 'PUSH',\r\n  REPLACE = 'REPLACE',\r\n}\r\n\r\ntype StateBox = {\r\n  [STATE_KEY]: State;\r\n};\r\n\r\ntype State = {\r\n  cursor: number;\r\n  stack: Array<string>;\r\n};\r\n\r\nconst STATE_KEY = 'web-router';\r\n\r\nconst createRouterHistory = (url: string) => new RouterHistory(url);\r\n\r\nexport { RouterHistory, createRouterHistory };\r\n","import { detectIsFalsy } from '@dark-engine/core';\r\n\r\nimport { parseURL } from '../utils';\r\n\r\nclass RouterLocation {\r\n  url: string;\r\n  protocol: string;\r\n  host: string;\r\n  pathname: string;\r\n  hash: string;\r\n  search: string;\r\n  key: string;\r\n\r\n  constructor(url: string) {\r\n    if (detectIsFalsy(url)) {\r\n      throw new Error('[web-router]: RouterLocation must have an initial url!');\r\n    }\r\n\r\n    const { protocol, host, pathname, hash, search } = parseURL(url);\r\n\r\n    this.url = url;\r\n    this.protocol = protocol;\r\n    this.host = host;\r\n    this.pathname = pathname;\r\n    this.hash = hash;\r\n    this.search = search;\r\n    this.key = createKey(pathname);\r\n    Object.freeze(this);\r\n  }\r\n}\r\n\r\nfunction createKey(pathname: string): string {\r\n  return pathname\r\n    .split('')\r\n    .map(x => x.charCodeAt(0))\r\n    .reduce((acc, x) => ((acc += x), acc), 200000)\r\n    .toString(32);\r\n}\r\n\r\nconst createRouterLocation = (url: string) => new RouterLocation(url);\r\n\r\nexport { RouterLocation, createRouterLocation };\r\n","import { h, component, useMemo, useEvent, detectIsFunction, type DarkElement } from '@dark-engine/core';\r\nimport { type SyntheticEvent } from '@dark-engine/platform-browser';\r\n\r\nimport { useHistory } from '../use-history';\r\nimport { useLocation } from '../use-location';\r\nimport { normalaizePathname, cm, parseURL } from '../utils';\r\nimport { SLASH_MARK } from '../constants';\r\n\r\nexport type RoutreLinkProps = {\r\n  to: string;\r\n  activeClassName?: string;\r\n  className?: string;\r\n  title?: string;\r\n  slot: DarkElement;\r\n  onClick?: (e: SyntheticEvent<MouseEvent, HTMLAnchorElement>) => void;\r\n};\r\n\r\nconst RouterLink = component<RoutreLinkProps>(\r\n  ({ to, activeClassName = 'router-link-active', className: sourceClassName, slot, onClick, ...rest }) => {\r\n    const history = useHistory();\r\n    const { pathname, hash } = useLocation();\r\n    const isActive = useMemo(() => detectIsActiveLink(pathname, hash, to), [pathname, hash, to]);\r\n    const className = useMemo(\r\n      () => cm(sourceClassName, isActive ? activeClassName : ''),\r\n      [sourceClassName, activeClassName, isActive],\r\n    );\r\n\r\n    const handleClick = useEvent((e: SyntheticEvent<MouseEvent, HTMLAnchorElement>) => {\r\n      e.preventDefault();\r\n      history.push(to);\r\n      detectIsFunction(onClick) && onClick(e);\r\n    });\r\n\r\n    return (\r\n      <a {...rest} href={to} class={className} onClick={handleClick}>\r\n        {slot}\r\n      </a>\r\n    );\r\n  },\r\n  {\r\n    displayName: 'RouterLink',\r\n  },\r\n);\r\n\r\nfunction detectIsActiveLink(pathname: string, hash: string, to: string): boolean {\r\n  const { pathname: $to, hash: $hash } = parseURL(to);\r\n  const $pathname = normalaizePathname(pathname);\r\n\r\n  if ($to === SLASH_MARK) return $pathname === SLASH_MARK;\r\n\r\n  return $pathname.indexOf($to) !== -1 && hash === $hash;\r\n}\r\n\r\nexport { RouterLink };\r\n","import {\r\n  type DarkElement,\r\n  type MutableRef,\r\n  h,\r\n  component,\r\n  useMemo,\r\n  useEffect,\r\n  useLayoutEffect,\r\n  useState,\r\n  forwardRef,\r\n  useImperativeHandle,\r\n  nextTick,\r\n} from '@dark-engine/core';\r\n\r\nimport { SLASH_MARK, PROTOCOL_MARK, WILDCARD_MARK } from '../constants';\r\nimport { normalaizePathname } from '../utils';\r\nimport { createRouterHistory } from '../history';\r\nimport { type RouterLocation, createRouterLocation } from '../location';\r\nimport { type Routes, createRoutes, resolveRoute, createPathname } from '../create-routes';\r\nimport {\r\n  type RouterHistoryContextValue,\r\n  type ActiveRouteContextValue,\r\n  RouterHistoryContext,\r\n  ActiveRouteContext,\r\n  useActiveRouteContext,\r\n} from '../context';\r\n\r\nexport type RouterProps = {\r\n  url?: string; // for server-side rendering\r\n  baseURL?: string;\r\n  routes: Routes;\r\n  slot: (slot: DarkElement) => DarkElement;\r\n};\r\n\r\nexport type RouterRef = {\r\n  navigateTo: (pathname: string) => void;\r\n  location: RouterLocation;\r\n};\r\n\r\nconst Router = forwardRef<RouterProps, RouterRef>(\r\n  component(\r\n    ({ url, baseURL = SLASH_MARK, routes: sourceRoutes, slot }, ref) => {\r\n      if (useActiveRouteContext()) {\r\n        throw new Error(`[web-router]: the parent active route's context detected!`);\r\n      }\r\n      const sourceURL = url || window.location.href;\r\n      const [location, setLocation] = useState(() => createRouterLocation(sourceURL));\r\n      const history = useMemo(() => createRouterHistory(sourceURL), []);\r\n      const routes = useMemo(() => createRoutes(sourceRoutes, normalaizePathname(baseURL)), []);\r\n      const { protocol, host, pathname, search, hash } = location;\r\n      const { activeRoute, slot: $slot, params } = resolveRoute(pathname, routes);\r\n      const scope = useMemo(() => ({ location }), []);\r\n      const historyContext = useMemo<RouterHistoryContextValue>(() => ({ history }), []);\r\n      const routerContext = useMemo<ActiveRouteContextValue>(\r\n        () => ({ location, activeRoute, params }),\r\n        [pathname, search, hash],\r\n      );\r\n\r\n      scope.location = location;\r\n\r\n      useLayoutEffect(() => {\r\n        if (sourceURL !== scope.location.url) {\r\n          setLocation(createRouterLocation(sourceURL));\r\n        }\r\n      }, [sourceURL]);\r\n\r\n      useLayoutEffect(() => {\r\n        const unsubscribe = history.subscribe(spathname => {\r\n          const url = `${protocol}${PROTOCOL_MARK}${host}${spathname}`;\r\n\r\n          setLocation(createRouterLocation(url));\r\n        });\r\n\r\n        return () => {\r\n          unsubscribe();\r\n          history.dispose();\r\n        };\r\n      }, []);\r\n\r\n      useEffect(() => {\r\n        if (!activeRoute || activeRoute.marker === WILDCARD_MARK) return;\r\n        const spathname = pathname + search + hash;\r\n        const newSpathname = createPathname(pathname, activeRoute.getPath()) + search + hash;\r\n\r\n        if (spathname !== newSpathname) {\r\n          history.replace(newSpathname);\r\n        }\r\n      }, [pathname, search, hash]);\r\n\r\n      useImperativeHandle(ref as MutableRef<RouterRef>, () => ({\r\n        navigateTo: (pathname: string) => nextTick(() => history.push(pathname)),\r\n        location,\r\n      }));\r\n\r\n      return (\r\n        <RouterHistoryContext.Provider value={historyContext}>\r\n          <ActiveRouteContext.Provider value={routerContext}>{slot($slot)}</ActiveRouteContext.Provider>\r\n        </RouterHistoryContext.Provider>\r\n      );\r\n    },\r\n    { displayName: 'Router' },\r\n  ),\r\n);\r\n\r\nexport { Router };\r\n","import { useRouterHistoryContext, checkContextValue } from '../context';\r\n\r\nfunction useHistory() {\r\n  const value = useRouterHistoryContext();\r\n\r\n  checkContextValue(value);\r\n\r\n  return value.history;\r\n}\r\n\r\nexport { useHistory };\r\n","import { useActiveRouteContext, checkContextValue } from '../context';\r\n\r\nfunction useLocation() {\r\n  const activeRoute = useActiveRouteContext();\r\n\r\n  checkContextValue(activeRoute);\r\n\r\n  return activeRoute.location;\r\n}\r\n\r\nexport { useLocation };\r\n","import { SLASH_MARK, PARAMETER_MARK, PROTOCOL_MARK, HASH_MARK, SEARCH_MARK } from '../constants';\r\n\r\nfunction pipe<T>(...fns: Array<Function>): (...args: Array<any>) => T {\r\n  const [fn, ...rest] = fns;\r\n\r\n  return (...args: Array<any>) => {\r\n    return rest.reduce(\r\n      (fn1, fn2) => () => fn2(fn1()),\r\n      () => fn(...args),\r\n    )();\r\n  };\r\n}\r\n\r\nfunction parseURL(url: string) {\r\n  let body = url;\r\n  let protocol = '';\r\n  let host = '';\r\n  let pathname = '';\r\n  let hash = '';\r\n  let search = '';\r\n\r\n  if (body.indexOf(PROTOCOL_MARK) !== -1) {\r\n    [protocol, body] = body.split(PROTOCOL_MARK).filter((x, _, arr) => (arr.length > 2 ? Boolean(x) : true));\r\n  }\r\n\r\n  const splitted = body.split('');\r\n  const idx = splitted.findIndex(x => x === SLASH_MARK);\r\n\r\n  if (idx !== -1) {\r\n    host = splitted.filter((_, idx1) => idx1 < idx).join('');\r\n    pathname = splitted.filter((_, idx1) => idx1 >= idx).join('');\r\n  } else {\r\n    host = body;\r\n    pathname = pathname || SLASH_MARK;\r\n  }\r\n\r\n  if (pathname.indexOf(SEARCH_MARK) !== -1) {\r\n    [pathname, search] = split(pathname, SEARCH_MARK);\r\n  }\r\n\r\n  if (body.indexOf(HASH_MARK) !== -1) {\r\n    if (search) {\r\n      [search, hash] = split(search, HASH_MARK);\r\n    } else {\r\n      [pathname, hash] = split(pathname, HASH_MARK);\r\n    }\r\n  }\r\n\r\n  return {\r\n    protocol,\r\n    host,\r\n    pathname: addSlashToEnd(pathname),\r\n    search: createSearch(search),\r\n    hash: createHash(hash),\r\n  };\r\n}\r\n\r\nconst createSearch = (value: string) => (value ? `${SEARCH_MARK}${value}` : '');\r\n\r\nconst createHash = (value: string) => (value ? `${HASH_MARK}${value}` : '');\r\n\r\nconst detectIsParam = (value: string) => value && value.startsWith(PARAMETER_MARK);\r\n\r\nconst getParamName = (value: string) => (detectIsParam(value) ? value.slice(1, value.length) : null);\r\n\r\nconst split = (value: string, token: string) => value.split(token).filter(Boolean);\r\n\r\nconst splitPath = (path: string) => split(path, SLASH_MARK);\r\n\r\nconst addSlashToStart = (path: string) => (path.startsWith(SLASH_MARK) ? path : SLASH_MARK + path);\r\n\r\nconst addSlashToEnd = (path: string) => (path.endsWith(SLASH_MARK) ? path : path + SLASH_MARK);\r\n\r\nfunction normalaizePathname(spath: string) {\r\n  const { pathname, search, hash } = parseURL(addSlashToStart(spath));\r\n  const newSpath = pathname + search + hash;\r\n\r\n  return newSpath;\r\n}\r\n\r\nfunction sort<T>(type: 'asc' | 'desc', list: Array<T>, selector: (x: T) => number) {\r\n  const asc = (a: T, b: T) => selector(a) - selector(b);\r\n  const desc = (a: T, b: T) => selector(b) - selector(a);\r\n  const compare = type === 'asc' ? asc : desc;\r\n\r\n  return list.sort(compare);\r\n}\r\n\r\nconst cm = (...args: Array<string>) => [...args].filter(Boolean).join(' ').trim() || undefined;\r\n\r\nexport { pipe, parseURL, detectIsParam, getParamName, splitPath, normalaizePathname, sort, cm };\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".build.js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\n// data-webpack is not used as build has no uniqueName\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t};\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"main\": 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk\"] = self[\"webpackChunk\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","import { bootstrap } from './bootstrap';\r\n\r\nbootstrap();\r\n"],"names":[],"sourceRoot":""}