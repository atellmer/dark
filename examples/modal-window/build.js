(()=>{"use strict";const e=!1,t="dark:idx",n="type",o="key",r="ref",i="flag";var s,l;!function(e){e[e.ANIMATION=3]="ANIMATION",e[e.HIGH=2]="HIGH",e[e.NORMAL=1]="NORMAL",e[e.LOW=0]="LOW"}(s||(s={})),function(e){e.HAS_NO_MOVES="HAS_NO_MOVES"}(l||(l={}));const a=e=>"function"==typeof e,c=e=>void 0===e,u=e=>"number"==typeof e,f=e=>"string"==typeof e,d=e=>"object"==typeof e,p=e=>"boolean"==typeof e,m=e=>Array.isArray(e),h=e=>null===e,g=e=>h(e)||c(e),E=e=>h(e)||c(e)||!1===e,v=()=>Date.now(),y=()=>{};function b(...e){!c(console)&&console.error(...e)}function k(e){const t=[],n={0:{idx:0,source:e}};let o=0;do{const{source:e,idx:r}=n[o],i=e[r];r>=e.length?(o--,n[o]||(n[o]={idx:0,source:[]}),n[o].idx++):m(i)?(o++,n[o]={idx:0,source:i}):(t.push(i),n[o].idx++)}while(o>0||n[o].idx<n[o].source.length);return t}function T(e,t,n=!1){return e.reduce(((e,o)=>(e[t(o)]=!n||o,e)),{})}function x(e,t){if(e&&t&&e.length>0&&t.length>0)for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1}const w=Symbol("component");class I{type;token;props;ref;displayName;children=[];shouldUpdate;constructor(e,t,n,o,r,i){this.type=e||null,this.token=t||w,this.props=n||null,this.ref=o||null,this.shouldUpdate=r||null,this.displayName=i||""}}function C(t,n={}){const{token:o,displayName:r,shouldUpdate:i,keepRef:s=!1}=n;return(n={},l)=>(!s&&n.ref&&(delete n.ref,e&&b("[Dark]: To use ref you need to wrap the component with forwardRef!")),new I(t,o,n,l,i,r))}const H=e=>e instanceof I,M=e=>g(e.props[o])?null:e.props[o],A=e=>e.props[i]||null;var S;!function(e){e.TAG="TAG",e.TEXT="TEXT",e.COMMENT="COMMENT"}(S||(S={}));const $=Symbol("virtual-node");class N{type=null;constructor(e){this.type=e}}class D extends N{name=null;attrs={};children=[];constructor(e,t,n){super(S.TAG),this.name=e||this.name,this.attrs=t||this.attrs,this.children=n||this.children}}class O extends N{value="";constructor(e){super(S.TEXT),this.value=e}}class P extends N{value="";constructor(e){super(S.COMMENT),this.value=e}}const R=e=>e instanceof N,L=e=>e instanceof D,F=e=>e instanceof O,W=e=>a(e)&&!0===e[$],U=e=>g(e.attrs[o])?null:e.attrs[o],B=e=>e.attrs[i]||null,j=e=>g(e[o])?null:e[o],Z=e=>e[i]||null,K=()=>new P("dark:matter"),q=e=>F(e)||(e=>e instanceof P)(e);function G(e){return new O(e+"")}function _(e){return(e=e.map((e=>f(e)||u(e)?G(e.toString()):e)))?Array.isArray(e)?[...e]:[e]:[]}function z(e,t,...r){if(f(e))return function(e){const t=()=>{const{as:t,slot:n,_void:o=!1,...r}=e,i=o?[]:m(n)?n:n?[n]:[];return new D(t,r,i)};return t[$]=!0,t[o]=e.key,t[i]=e.flag,t[n]=e.as,t}({...t,as:e,slot:_(r)});if(a(e)){let n=_(r);return n=1===n.length?n[0]:n,e({...t,slot:n})}return null}G.from=e=>F(e)?e.value:e+"";let V=null;const X=new Map;class Y{wipRoot=null;currentRoot=null;nextUnitOfWork=null;events=new Map;unsubscribers=[];candidates=new Set;deletions=new Set;fiberMount={level:0,navigation:{},isDeepWalking:!0};componentFiber=null;effects=[];layoutEffects=[];insertionEffects=[];isLayoutEffectsZone=!1;isInserionEffectsZone=!1;isUpdateHookZone=!1;isBatchZone=!1;isHydrateZone=!1;isHot=!1;lazy=new Set}const J={set:e=>{V=e,!X.get(V)&&X.set(V,new Y)},remove:e=>X.delete(e)},Q=()=>V,ee=(e=V)=>X.get(e),te={get:()=>ee()?.wipRoot||null,set:e=>ee().wipRoot=e},ne={get:e=>ee(e)?.currentRoot||null,set:e=>ee().currentRoot=e},oe={get:()=>ee()?.nextUnitOfWork||null,set:e=>ee().nextUnitOfWork=e},re={get:()=>ee()?.componentFiber,set:e=>ee().componentFiber=e},ie={get:()=>ee().events,addUnsubscriber:e=>ee().unsubscribers.push(e),unsubscribe:e=>ee(e).unsubscribers.forEach((e=>e()))},se={get:()=>ee().candidates,add:e=>ee().candidates.add(e),reset:()=>ee().candidates=new Set},le={get:()=>ee().deletions,add:e=>ee().deletions.add(e),has:e=>ee().deletions.has(e),set:e=>ee().deletions=e,reset:()=>ee().deletions=new Set},ae={reset:()=>{ee().fiberMount={level:0,navigation:{},isDeepWalking:!0}},getIndex:()=>{const{fiberMount:e}=ee();return e.navigation[e.level]},jumpToChild:()=>{const{fiberMount:e}=ee();e.level=e.level+1,e.navigation[e.level]=0},jumpToParent:()=>{const{fiberMount:e}=ee();e.navigation[e.level]=0,e.level=e.level-1},jumpToSibling:()=>{const{fiberMount:e}=ee();e.navigation[e.level]=e.navigation[e.level]+1},deepWalking:{get:()=>ee().fiberMount.isDeepWalking,set:e=>ee().fiberMount.isDeepWalking=e}},ce={get:()=>ee().effects,reset:()=>ee().effects=[],add:e=>ee().effects.push(e)},ue={get:()=>ee().layoutEffects,reset:()=>ee().layoutEffects=[],add:e=>ee().layoutEffects.push(e)},fe={get:()=>ee().insertionEffects,reset:()=>ee().insertionEffects=[],add:e=>ee().insertionEffects.push(e)},de={get:()=>ee()?.isLayoutEffectsZone||!1,set:e=>ee().isLayoutEffectsZone=e},pe={get:e=>ee(e)?.isInserionEffectsZone||!1,set:e=>ee().isInserionEffectsZone=e},me={get:()=>ee()?.isUpdateHookZone||!1,set:e=>ee().isUpdateHookZone=e},he={get:()=>ee()?.isBatchZone||!1,set:e=>ee().isBatchZone=e},ge={get:()=>ee()?.isHydrateZone||!1,set:e=>ee().isHydrateZone=e},Ee={get:()=>ee()?.isHot||!1,set:e=>ee().isHot=e},ve=()=>ee().lazy.size>0,ye=Symbol("fragment"),be=C((({slot:e})=>e||null),{token:ye}),ke=e=>H(e)&&e.token===ye,Te=Symbol("memo"),xe=e=>H(e)&&e.token===Te,we=C((({slot:e})=>e),{token:Te});function Ie(e){return W(e)||H(e)}function Ce(e,t=!1){return function(e,t){if(m(e)?Ie(e[0]):Ie(e)){const n=we({slot:be({slot:e})});return n.shouldUpdate=()=>t,n}return e}(e(),t)}function He(e,t){const n=re.get(),{hook:o}=n,{idx:r,values:i}=o;if(c(i[r])){const n=Ce(e);return i[r]={deps:t,value:n},o.idx++,n}const s=i[r],l=x(t,s.deps),a=l?e:()=>s.value;return s.deps=t,s.value=Ce(a,l),o.idx++,s.value}const Me={createNativeElement:()=>{throw new Error(Ae("createNativeElement"))},requestAnimationFrame:()=>{throw new Error(Ae("requestAnimationFrame"))},cancelAnimationFrame:()=>{throw new Error(Ae("cancelAnimationFrame"))},scheduleCallback:()=>{throw new Error(Ae("scheduleCallback"))},shouldYeildToHost:()=>{throw new Error(Ae("shouldYeildToHost"))},applyCommit:()=>{throw new Error(Ae("applyCommit"))},finishCommitWork:()=>{throw new Error(Ae("finishCommitWork"))},detectIsDynamic:()=>{throw new Error(Ae("detectIsDynamic"))},detectIsPortal:()=>{throw new Error(Ae("detectIsPortal"))},unmountPortal:()=>{throw new Error(Ae("unmountPortal"))},restart:()=>{throw new Error(Ae("restart"))}},Ae=e=>`${e} not installed by renderer`;var Se;!function(e){e.CREATE="CREATE",e.UPDATE="UPDATE",e.DELETE="DELETE",e.SKIP="SKIP"}(Se||(Se={}));const $e=Symbol("use-effect"),{useEffect:Ne,hasEffects:De,dropEffects:Oe}=Pe($e,ce);function Pe(e,t){return{useEffect:function(n,o){const r=re.get().hook,{idx:i,values:s}=r,l=()=>{s[i]={deps:o,token:e,value:void 0},t.add((()=>{s[i].value=n()}))};if(c(s[i]))l();else{const{deps:e,value:t}=s[i];(!o||x(o,e))&&(a(t)&&t(),l())}r.idx++},hasEffects:function(t){const{values:n}=t.hook;return n.some((t=>t?.token===e))},dropEffects:function(t){const{values:n}=t;for(const t of n)if(t.token===e){const e=t.value;a(e)&&e()}}}}const Re=Symbol("use-layout-effect"),{useEffect:Le,hasEffects:Fe,dropEffects:We}=Pe(Re,ue),Ue=Symbol("use-insertion-effect"),{useEffect:Be,hasEffects:je,dropEffects:Ze}=Pe(Ue,fe);function Ke(e,t){let n=e,o=!0,r=!1,i=!1;const s={},l=e=>!s[e],a=()=>o=!1,c=()=>i=!0;for(;n&&(t({nextFiber:n,isReturn:r,resetIsDeepWalking:a,stop:c}),!i);)if(n.child&&o&&l(n.child.id)){const e=n.child;r=!1,n=e,s[e.id]=!0}else if(n.nextSibling&&l(n.nextSibling.id)){const e=n.nextSibling;o=!0,r=!1,n=e,s[e.id]=!0}else if(n.parent&&n.parent===e&&n.parent.nextSibling&&l(n.parent.nextSibling.id)){const e=n.parent.nextSibling;o=!0,r=!1,n=e,s[e.id]=!0}else n.parent&&n.parent!==e?(o=!1,r=!0,n=n.parent):n=null}function qe(e){(e.insertionEffectHost||e.layoutEffectHost||e.effectHost||e.portalHost)&&Ke(e,(({nextFiber:t,isReturn:n,stop:o})=>{if(t===e.nextSibling)return o();!n&&H(t.instance)&&(t.insertionEffectHost&&Ze(t.hook),t.layoutEffectHost&&We(t.hook),t.effectHost&&Oe(t.hook),t.portalHost&&Me.unmountPortal(t))}))}const Ge={[Se.CREATE]:!0};class _e{id=0;nativeElement=null;parent=null;child=null;nextSibling=null;alternate=null;move=!1;effectTag=null;instance=null;hook=null;provider=null;effectHost=!1;layoutEffectHost=!1;insertionEffectHost=!1;portalHost=!1;childrenCount=0;childrenElementsCount=0;marker="";isUsed=!1;idx=0;elementIdx=0;batched=null;catchException;static nextId=0;constructor(e=null,t=null,n=0){this.id=++_e.nextId,this.hook=e,this.provider=t,this.idx=n}mutate(e){const t=Object.keys(e);for(const n of t)this[n]=e[n];return this}markEffectHost(){this.effectHost=!0,this.parent&&!this.parent.effectHost&&this.parent.markEffectHost()}markLayoutEffectHost(){this.layoutEffectHost=!0,this.parent&&!this.parent.layoutEffectHost&&this.parent.markLayoutEffectHost()}markInsertionEffectHost(){this.insertionEffectHost=!0,this.parent&&!this.parent.insertionEffectHost&&this.parent.markInsertionEffectHost()}markPortalHost(){this.portalHost=!0,this.parent&&!this.parent.portalHost&&this.parent.markPortalHost()}incrementChildrenElementsCount(e=1,t=!1){!function(e,t=1,n=!1){if(!e.parent)return;const o=me.get(),r=te.get(),i=o&&r.parent===e.parent;(q(e.instance)||L(e.instance)&&0===e.instance.children.length)&&(e.childrenElementsCount=1),o&&i&&!n||(e.parent.childrenElementsCount+=t,e.parent.nativeElement||e.parent.incrementChildrenElementsCount(t))}(this,e,t)}setError(e){a(this.catchException)?this.catchException(e):this.parent&&this.parent.setError(e)}}function ze(){const t=te.get();let n=oe.get(),o=!1,r=Boolean(n);const i={fiber$$:null,fiber$:null,instance$:null};for(;n&&!o;)n=Ve(n,i),oe.set(n),r=Boolean(n),o=Me.shouldYeildToHost();return!n&&t&&function(){if(e&&Ee.set(!1),ge.get()&&ve())return dt(null);const t=te.get(),n=Me.detectIsDynamic(),o=le.get(),r=se.get(),i=me.get();for(const e of o)qe(e),Me.applyCommit(e);n&&(pe.set(!0),fe.get().forEach((e=>e())),pe.set(!1)),i&&function(e){const t=e.childrenElementsCount-e.alternate.childrenElementsCount;if(0===t)return;const n=function(e){let t=e;for(;t&&(t=t.parent,!t||!t.nativeElement););return t}(e);let o=!1;e.incrementChildrenElementsCount(t,!0),Ke(n.child,(({nextFiber:r,resetIsDeepWalking:i,isReturn:s,stop:l})=>r===n?l():r===e?(o=!0,i()):(r.nativeElement&&i(),void(o&&!s&&(r.elementIdx+=t)))))}(t);for(const e of r)e.effectTag!==Se.SKIP&&Me.applyCommit(e),e.alternate=null;t.alternate=null,Me.finishCommitWork(),n&&(de.set(!0),ue.get().forEach((e=>e())),de.set(!1)),n&&function(){const e=ce.get();e.length>0&&setTimeout((()=>e.forEach((e=>e()))))}(),dt(t)}(),r}function Ve(e,t){let n=!0,o=e,r=e.instance;for(;;){if(n=ae.deepWalking.get(),o.hook&&(o.hook.idx=0),n)if(ct(r)&&r.children.length>0){if(Xe(o,t),o=t.fiber$,r=t.instance$,t.fiber$$=null,t.fiber$=null,t.instance$=null,o)return o}else{Ye(o,t);const e=t.fiber$$;if(o=t.fiber$,r=t.instance$,t.fiber$$=null,t.fiber$=null,t.instance$=null,e)return e}else{Ye(o,t);const e=t.fiber$$;if(o=t.fiber$,r=t.instance$,t.fiber$$=null,t.fiber$=null,t.instance$=null,e)return e}if(null===o.parent)return null}}function Xe(e,t){ae.jumpToChild();let n=e.instance;const o=e.alternate?e.alternate.child:null,r=new _e(ft(o,o?o.instance:null,ct(n)?n.children[0]:null),o?o.provider:null,0);re.set(r),r.parent=e,e.child=r,r.elementIdx=e.nativeElement?0:e.elementIdx,n=ot(n,0,r),o&&tt(o,n),Je(r,o,n),o&&xe(r.instance)&&nt(r),se.add(r),t.fiber$$=null,t.fiber$=r,t.instance$=n}function Ye(e,t){ae.jumpToSibling();let n=e.parent.instance;const o=ae.getIndex();if(ct(n)&&n.children[o]){ae.deepWalking.set(!0);const r=e.alternate?e.alternate.nextSibling:null,i=new _e(ft(r,r?r.instance:null,ct(n)?n.children[o]:null),r?r.provider:null,o);return re.set(i),i.parent=e.parent,e.nextSibling=i,i.elementIdx=e.elementIdx+(e.nativeElement?1:e.childrenElementsCount),n=ot(n,o,i),r&&tt(r,n),Je(i,r,n),r&&xe(i.instance)&&nt(i),se.add(i),t.fiber$$=i,t.fiber$=i,void(t.instance$=n)}ae.jumpToParent(),ae.deepWalking.set(!1),n=(e=e.parent).instance,ct(e.instance)&&(e.instance.children=[]),t.fiber$$=null,t.fiber$=e,t.instance$=n}function Je(e,t,n){let o=!1;Ge[e.parent.effectTag]&&(e.effectTag=e.parent.effectTag),e.effectTag!==Se.CREATE&&(o=t&&ut(t.instance,n)&&(t?st(t.instance):null)===st(n)),e.instance=n,e.alternate=t||null,e.nativeElement=o?t.nativeElement:null,e.effectTag=o?Se.UPDATE:Se.CREATE,t&&t.move&&(e.move=t.move,t.move=!1),ct(e.instance)&&(e.childrenCount=e.instance.children.length),!e.nativeElement&&R(e.instance)&&(e.nativeElement=Me.createNativeElement(e.instance),e.effectTag=Se.CREATE),e.nativeElement&&e.incrementChildrenElementsCount()}function Qe(e,t,n){return 0===e||t.child&&t.child.effectTag===Se.DELETE?(t.child=n,n.parent=t):(t.nextSibling=n,n.parent=t.parent),n}function et(e,t){return(new _e).mutate({effectTag:Se.CREATE,instance:K(),parent:e,marker:t+""})}function tt(t,n){const o=ut(t.instance,n),r=function(e){return H(e)?A(e):W(e)?Z(e):L(e)?B(e):null}(n),i=r&&r[l.HAS_NO_MOVES];if(t.isUsed=!0,o){if(ct(t.instance)&&ct(n)&&0!==t.childrenCount&&(!i||t.childrenCount!==n.children.length)){const{prevKeys:o,nextKeys:r,prevKeysMap:i,nextKeysMap:s,keyedFibersMap:l}=function(t,n){let o=t,r=0;const i=[],s=[],l={},a={},c={},u={};for(;o||r<n.length;){if(o){const e=st(o.instance),t=g(e)?it(r):e;i.push(t),l[t]=!0,c[t]=o}if(n[r]){const t=n[r],o=st(t),i=g(o)?it(r):o;e&&(u[i]&&b(`[Dark]: The key of node [${i}] already has been used!`,[t]),u[i]=!0),s.push(i),a[i]=!0}o=o?o.nextSibling:null,r++}return{prevKeys:i,nextKeys:s,prevKeysMap:l,nextKeysMap:a,keyedFibersMap:c}}(t.child,n.children);let a=[],c=Math.max(o.length,r.length),u=t,f=0,d=0,p=0;for(let n=0;n<c;n++){const m=r[n-p]??null,h=o[n-d]??null,g=l[h]||null,E=l[m]||et(t,m);m!==h?null===m||i[m]?s[h]?s[h]&&s[m]&&(e&&a.push([[m,h],"move"]),E.effectTag=Se.UPDATE,g.effectTag=Se.UPDATE,E.move=!0,u=Qe(n,u,E)):(e&&a.push([h,"remove"]),g.effectTag=Se.DELETE,le.add(g),p++,f--,c++):(null===h||s[h]?(e&&a.push([m,"insert"]),E.effectTag=Se.CREATE,d++,c++):(e&&a.push([[m,h],"replace"]),E.effectTag=Se.CREATE,g.effectTag=Se.DELETE,le.add(g)),u=Qe(n,u,E)):null!==m&&(e&&a.push([m,"stable"]),E.effectTag=Se.UPDATE,u=Qe(n,u,E)),E.idx=f,f++}a=[]}}else(function(e){let t=e.parent;for(;t;){if(t.effectTag===Se.DELETE)return!1;t=t.parent}return!0})(t)&&(t.effectTag=Se.DELETE,le.add(t))}function nt(t){if(e&&Ee.get())return;const n=t.alternate,o=n.instance,r=t.instance;if(t.move||r.type!==o.type||r.shouldUpdate(o.props,r.props))return;ae.deepWalking.set(!1),t.effectTag=Se.SKIP,t.alternate=n,t.nativeElement=n.nativeElement,t.child=n.child,t.hook=n.hook,t.provider=n.provider,t.childrenCount=n.childrenCount,t.childrenElementsCount=n.childrenElementsCount,t.catchException=n.catchException,t.child&&(t.child.parent=t);const i=t.elementIdx-n.elementIdx;0!==i&&Ke(t.child,(({nextFiber:e,stop:n})=>e===t.nextSibling||e===t.parent?n():(e.elementIdx+=i,e.parent!==t&&e.nativeElement?n():void 0))),t.incrementChildrenElementsCount(n.childrenElementsCount),n.effectHost&&t.markEffectHost(),n.layoutEffectHost&&t.markLayoutEffectHost(),n.insertionEffectHost&&t.markInsertionEffectHost(),n.portalHost&&t.markPortalHost()}function ot(e,t,n){let o=null;return ct(e)&&(m(e.children[t])&&e.children.splice(t,1,...k(e.children[t])),o=rt(n,e.children[t]),H(o)&&(De(n)&&n.markEffectHost(),Fe(n)&&n.markLayoutEffectHost(),je(n)&&n.markInsertionEffectHost(),Me.detectIsPortal(o)&&n.markPortalHost())),o}function rt(e,t){let n=t;const o=H(n),r=n;if(o)try{let e=r.type(r.props,r.ref);m(e)&&!ke(r)?e=be({slot:e}):(f(e)||u(e))&&(e=G(e)),r.children=m(e)?k(e):[e]}catch(t){r.children=[],e.setError(t),b(t)}else W(n)&&(n=n());if(ct(n)){n.children=o?n.children:m(n.children)?k(n.children):[n.children];for(let e=0;e<n.children.length;e++)n.children[e]||(n.children[e]=lt(n.children[e]));o&&0===r.children.length&&r.children.push(K())}return n}function it(e){return`${t}:${e}`}function st(e){return H(e)?M(e):W(e)?j(e):L(e)?U(e):null}function lt(e){return E(e)?K():e}function at(e){return W(e)?e[n]:L(e)?e.name:R(e)||H(e)?e.type:null}function ct(e){return L(e)||H(e)}function ut(t,n,o=!1){if(e&&Ee.get()&&H(t)&&H(n))return t.displayName===n.displayName;if(o){const e=n;return t.type===e.type}return at(t)===at(n)}function ft(e,t,n){return e&&function(e,t){return!!(e&&t&&H(e)&&H(t)&&ut(e,t,!0))&&st(e)===st(t)}(t,n)?e.hook:H(n)?{idx:0,values:[]}:null}function dt(e){te.set(null),se.reset(),le.reset(),fe.reset(),ue.reset(),ce.reset(),me.get()?me.set(!1):ne.set(e)}const pt=()=>Boolean(te.get());function mt(e,t){return He((()=>e),t)}function ht(e,t){const n=function(e){const t=Q(),n=He((()=>({fiber:null})),[]);return n.fiber=re.get(),o=>{if(pe.get())return;const r=function(e){const{rootId:t,fiber:n,forceStart:o=!1,onStart:r}=e;return()=>{n.effectTag!==Se.DELETE&&(o&&r(),n.isUsed||(!o&&r(),J.set(t),me.set(!0),ae.reset(),n.alternate=(new _e).mutate(n),n.marker="🔥",n.effectTag=Se.UPDATE,n.childrenElementsCount=0,n.child=null,te.set(n),re.set(n),n.instance=rt(n,n.instance),oe.set(n)))}}({rootId:t,fiber:n.fiber,forceStart:Boolean(e?.timeoutMs),onStart:o||y});de.get()&&(e={...e||{},forceSync:!0}),he.get()?function(e,t){e.batched&&clearTimeout(e.batched),e.batched=setTimeout((()=>{he.set(!1),e.batched=null,t()}))}(n.fiber,(()=>Me.scheduleCallback(r,e))):Me.scheduleCallback(r,e)}}(t),o=He((()=>({value:a(e)?e():e})),[]),r=mt((e=>{const r=o.value,i=a(e)?e(r):e;if(!Object.is(r,i)){const e=()=>o.value=i;t?.priority===s.LOW?n((()=>e())):(e(),n())}}),[]);return[o.value,r]}const gt=1/60,Et=1e3*gt,vt={};function yt(e,t=4){return Number(e.toFixed(t))}function bt(e){const{frameRate:t,mass:n,stiffness:o,damping:r,duration:i,from:s,to:l}=e,a=Math.floor(i/1e3/t);let c=2,u=0,f=0;const d=-o,p=-r,m=[];for(;f<a;)u+=(d*(c-1)+p*u)/n*t,c+=u*t,m.push(2-c),f++;const h=function(e,t,n){const o=t,r=n,i=Math.min(...e),s=Math.max(...e),l=[];for(let t=0;t<e.length;t++)l[t]=yt(o+(e[t]-i)/(s-i)*(r-o),4);return l}(m,s,l),g=[...h].reverse(),E=h.map((e=>yt(s+l-e,4)));return{forward:h,backward:E,mirrored:g}}function kt(e){const{mass:t,stiffness:n,damping:o,duration:r,from:i,to:s}=e;return`${t}:${n}:${o}:${r}:${i}:${s}`}function Tt(e,t){return 0!==e&&1!==e||(0===e?0===t:1===e?1===t:0===t)}function xt(e,t,n){return 1===t?1:0===n?1-e:e}function wt(e,...t){return He((()=>e.map(((e,n)=>e+(c(t[n])?"":t[n]))).join("").replace(/;\s*/gm,";").replace(/:\s*/gm,":").trim()),[e,...t])}function It(e){return e(wt)}const Ct=Symbol("portal"),Ht=C((({slot:e,...t})=>(He((()=>t[Ct].innerHTML=""),[]),e)),{token:Ct}),Mt=e=>H(e)&&e.token===Ct,At=e=>Mt(e)?e.props[Ct]:null;function St(e){const t=At(e.instance);t&&(t.innerHTML="")}class $t{type="";sourceEvent=null;target=null;propagation=!0;constructor(e){this.type=e.sourceEvent.type,this.sourceEvent=e.sourceEvent,this.target=e.target}stopPropagation(){this.propagation=!1,this.sourceEvent.stopPropagation()}preventDefault(){this.sourceEvent.preventDefault()}getPropagation(){return this.propagation}}function Nt(e){const{target:t,eventName:n,handler:o}=e,r=ie.get(),i=r.get(n);if(i)i.set(t,o);else{const e=e=>{const t=r.get(n).get(e.target),o=e.target;let i=null;a(t)&&(i=new $t({sourceEvent:e,target:o}),t(i)),(i?i.getPropagation():o.parentElement)&&o.parentElement.dispatchEvent(new e.constructor(e.type,e))};r.set(n,new WeakMap([[t,o]])),document.addEventListener(n,e,!0),ie.addUnsubscriber((()=>document.removeEventListener(n,e,!0)))}}const Dt=e=>e.startsWith("on"),Ot=e=>e.slice(2,e.length).toLowerCase(),Pt={[o]:!0,[r]:!0,[i]:!0},Rt={transform:!0,fill:!0};let Lt=[];const Ft=T("svg,animate,animateMotion,animateTransform,circle,clipPath,defs,desc,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,image,line,linearGradient,marker,mask,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,stop,switch,symbol,text,textPath,tspan,use,view".split(","),(e=>e)),Wt=T("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr".split(","),(e=>e)),Ut={[S.TAG]:e=>{const t=e;return n=t.name,Boolean(Ft[n])?document.createElementNS("http://www.w3.org/2000/svg",t.name):document.createElement(t.name);var n},[S.TEXT]:e=>document.createTextNode(e.value),[S.COMMENT]:e=>document.createComment(e.value)};function Bt(e){return Ut[e.type](e)}function jt(e,t){!function(e,t){a(e)?e(t):function(e){if(!d(e)||h(e))return!1;const t=e;for(const e in t)if("current"===e&&t.hasOwnProperty(e))return!0;return!1}(e)&&(e.current=t)}(e,t)}function Zt(e){const{tagName:t,element:n,attrName:o,attrValue:r}=e,i=Kt[t];let s=!!i&&i(n,o,r);var l,a;return a=o,(l=Object.getPrototypeOf(n)).hasOwnProperty(a)&&Boolean(Object.getOwnPropertyDescriptor(l,a)?.set)&&(n[o]=r),!s&&p(r)&&(s=!o.includes("-")),s}const Kt={input:(e,t,n)=>("value"===t&&p(n)?e.checked=n:"autoFocus"===t&&(e.autofocus=Boolean(n)),!1),textarea:(e,t,n)=>"value"===t&&(e.innerHTML=String(n),!0)};function qt(e){let t=e;for(;t;)if(t=t.parent,Mt(t.instance)&&(t.nativeElement=At(t.instance)),t.nativeElement)return t;return t}const Gt={[Se.CREATE]:e=>{null!==e.nativeElement&&function(e){const t=qt(e),n=t.nativeElement,o=n.childNodes;if(ge.get()){const t=o[e.elementIdx];F(e.instance)&&t instanceof Text&&e.instance.value.length!==t.length&&t.splitText(e.instance.value.length),e.nativeElement=t}else 0===o.length||e.elementIdx>o.length-1?(i=t.instance.name,!Boolean(Wt[i])&&function(e,t){t.appendChild(e.nativeElement)}(e,n)):function(e,t){t.insertBefore(e.nativeElement,t.childNodes[e.elementIdx])}(e,n);var i;L(e.instance)&&function(e,t){const n=Object.keys(t.attrs),o=e;for(const i of n){const n=t.attrs[i];i!==r?a(n)?Dt(i)&&Nt({target:o,handler:n,eventName:Ot(i)}):c(n)||Pt[i]||!Zt({tagName:t.name,element:o,attrValue:n,attrName:i})&&o.setAttribute(i,n):jt(n,e)}}(e.nativeElement,e.instance)}(e)},[Se.UPDATE]:e=>{e.move&&(function(e){const t=function(e){const t=[];return Ke(e,(({nextFiber:n,isReturn:o,resetIsDeepWalking:r,stop:i})=>n===e.nextSibling||n===e.parent?i():!o&&n.nativeElement?(!Mt(n.instance)&&t.push(n.nativeElement),r()):void 0)),t}(e),n=t[0].parentElement,o=new DocumentFragment,r=e.elementIdx;let i=0;for(const e of t)n.insertBefore(document.createComment(`${r}:${i}`),e),o.appendChild(e),i++;Lt.push((()=>{for(let e=1;e<t.length;e++)n.removeChild(n.childNodes[r+1]);n.replaceChild(o,n.childNodes[r])}))}(e),e.move=!1),null===e.nativeElement||H(e.instance)||function(e){const t=e.nativeElement,n=e.alternate.instance,o=e.instance;q(n)&&q(o)?n.value!==o.value&&(t.textContent=o.value):function(e,t,n){const o=Object.keys(n.attrs),i=e;for(const s of o){const o=t.attrs[s],l=n.attrs[s];s!==r?c(l)?i.removeAttribute(s):a(o)?Dt(s)&&o!==l&&Nt({target:i,handler:l,eventName:Ot(s)}):Pt[s]||o===l||(Rt[s]||!Zt({tagName:n.name,element:i,attrValue:l,attrName:s}))&&i.setAttribute(s,l):jt(o,e)}}(t,n,o)}(e)},[Se.DELETE]:e=>function(e){const t=qt(e);Ke(e,(({nextFiber:n,isReturn:o,resetIsDeepWalking:r,stop:i})=>n===e.nextSibling||n===e.parent?i():!o&&n.nativeElement?(!Mt(n.instance)&&t.nativeElement.removeChild(n.nativeElement),r()):void 0))}(e),[Se.SKIP]:()=>{}};function _t(e){Gt[e.effectTag](e)}function zt(){for(const e of Lt)e();Lt=[],ge.set(!1)}const Vt={animations:[],hight:[],normal:[],low1:[],low2:[]},Xt=1e5;let Yt=null,Jt=0,Qt=!1,en=null;class tn{static nextTaskId=0;id;time;timeoutMs;priority;forceSync;callback;constructor(e){this.id=++tn.nextTaskId,this.time=e.time,this.timeoutMs=e.timeoutMs,this.priority=e.priority,this.forceSync=e.forceSync,this.callback=e.callback}}const nn=()=>v()>=Jt;function on(e,t){const{priority:n=s.NORMAL,timeoutMs:o=0,forceSync:r=!1}=t||{},i=new tn({time:v(),timeoutMs:o,priority:n,forceSync:r,callback:e});({[s.ANIMATION]:()=>Vt.animations.push(i),[s.HIGH]:()=>Vt.hight.push(i),[s.NORMAL]:()=>Vt.normal.push(i),[s.LOW]:()=>i.timeoutMs>0?Vt.low2.push(i):Vt.low1.push(i)})[i.priority](),sn()}function rn(e){if(!e.length)return!1;en=e.shift();const t=en.priority===s.ANIMATION;return en.callback(),en.forceSync||t?function(e){for(;e(););sn(),en=null}(ze):(Yt=ze,Qt||(Qt=!0,an.postMessage(null))),!0}function sn(){pt()||function(){const[e]=Vt.low2;return!!(e&&v()-e.time>e.timeoutMs)&&(rn(Vt.low2),!0)}()||(Vt.low1.length>Xt&&(Vt.low1=[]),0)||Vt.animations.length>0&&rn(Vt.animations)||Vt.hight.length>0&&rn(Vt.hight)||Vt.normal.length>0&&rn(Vt.normal)||Vt.low1.length>0&&requestIdleCallback((()=>rn(Vt.low1)))||Vt.low2.length>0&&requestIdleCallback((()=>rn(Vt.low2)))}let ln=null,an=null;ln=new MessageChannel,an=ln.port2,ln.port1.onmessage=function(){if(Yt){Jt=v()+4;try{Yt()?an.postMessage(null):(en=null,Qt=!1,Yt=null,sn())}catch(e){throw an.postMessage(null),e}}else Qt=!1};let cn=!1;const un=new Map,fn=C((({x:e,onRequestClose:t})=>{const n=It((t=>({container:t`
      position: fixed;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      background-color: rgba(1, 1, 1, 0.8);
      z-index: 10000;
      opacity: ${e};
    `})));return z("div",{style:n.container,onClick:t})})),dn=C((({isOpen:e,slot:t,onRequestClose:n})=>{const o=He((()=>document.createElement("div")),[]),[r,i]=ht(e),l=He((()=>({isClosing:!1})),[]),{values:[f]}=function(e,t=[]){const{state:n,getAnimations:o,mount:r=!1,deps:i=[],outside:l}=e,f=He((()=>({getAnimations:o,loopTimerId:null,delayTimerId:null,skipFirstRendfer:!0,playingIdx:-1,data:o({state:null,playingIdx:-1}).map((()=>({direction:null,values:{forward:{list:[],step:0},backward:{list:[],step:0},mirrored:{list:[],step:0}}}))),keyes:[]})),[]),[d,p]=ht((()=>o({state:null,playingIdx:-1}).map((e=>{const{direction:t,from:n,to:o}=e;return(t?"forward"===t?n:o:n)||0}))),{priority:s.ANIMATION});Ne((()=>{const e=o({state:n,playingIdx:f.playingIdx});let t=0;for(const n of e){const{mass:e=1,stiffness:o=1,damping:r=1,duration:i=1e4,from:s=0,to:l=1}=n,a=kt(n),c=vt[a],u=f.data[t];let d=[],p=[],m=[];if(f.keyes.push(a),c)d=c.forward.list,p=c.backward.list,m=c.mirrored.list;else{const t=bt({frameRate:gt,duration:i,stiffness:o,damping:r,mass:e,from:s,to:l});d=t.forward,p=t.backward,m=t.mirrored}u.values={forward:{...u.values.forward,list:d},backward:{...u.values.backward,list:p},mirrored:{...u.values.mirrored,list:m}},vt[a]=u.values,t++}f.getAnimations=o}),[...t]),Ne((()=>()=>{f.loopTimerId&&clearTimeout(f.loopTimerId),f.delayTimerId&&clearTimeout(f.delayTimerId),f.keyes.forEach((e=>delete vt[e]))}),[]),Ne((()=>{f.skipFirstRendfer&&!r||(async()=>{const{getAnimations:e,playingIdx:t}=f,o=e({state:n,playingIdx:t}),r=n?"forward":"backward",i="forward"===r?o:o.filter(((e,n)=>!(t>=0)||n<=t)).reverse();for(const e of i){const{name:t,direction:n}=e,i=o.findIndex((t=>t===e));await m(t,n||r,i)}})()}),[n,...i]),Ne((()=>{f.skipFirstRendfer=!1}),[]);const m=function(e){const t=He((()=>({fn:e})),[]);return t.fn=e,mt(((...e)=>t.fn(...e)),[])}(((e,t,o)=>{const{getAnimations:r,playingIdx:i}=f,s=r({state:n,playingIdx:i}),m=u(o)?o:s.findIndex((t=>t.name===e)),{delay:h}=s[m];return f.playingIdx=m,new Promise((e=>{const n=t=>{f.data[m].direction=t,f.playingIdx=m;const{step:o,list:r}=f.data[m].values[t],i=r[o];if(o>r.length-1)return f.data[m].values[t].step=0,f.playingIdx=-1,e(!0);const s=[...d];var c;s[m]=i,a(l)?Me.requestAnimationFrame((()=>{l(s)})):(c=()=>{p(s)},he.set(!0),c()),f.data[m].values[t].step++,f.loopTimerId=setTimeout((()=>n(t)),Et)};if(i>=0){f.loopTimerId&&clearTimeout(f.loopTimerId),f.delayTimerId&&clearTimeout(f.delayTimerId),f.loopTimerId=null,f.delayTimerId=null;const e=f.data[i];if(!e.direction)return;if(e.values[e.direction].step>0){const{list:n,step:o}=e.values[e.direction],r=function(e,t){for(let n=0;n<t.length;n++){const o=t[n],r=t[n-1],i=t[n+1],s=!c(r)&&!c(i);if(o===e||s&&(r<e&&i>e||r>e&&i<e))return n}return 0}(n[o],e.values[t].list);e.values[e.direction].step=0,e.values[t].step=r}}h?f.delayTimerId=setTimeout((()=>n(t)),h):n(t)}))})),h=He((()=>({play:m,toggle:{filter:Tt,map:xt}})),[]);return{values:d,api:h}}({state:r,getAnimations:()=>[{name:"appearance",mass:35,stiffness:1e3,damping:10,duration:550}]});Ne((()=>{l.isClosing||i(e)}),[e]),Ne((()=>{!l.isClosing||f>0||(l.isClosing=!1,n())}),[f]);const d=It((e=>({container:e`
      position: fixed;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      display: flex;
      width: 100%;
      height: 100%;
      overflow-y: auto;
      padding: 16px;
    `,modal:e`
      position: relative;
      width: 600px;
      min-height: 300px;
      max-width: 100%;
      background-color: #fff;
      color: #000;
      margin: auto;
      z-index: 10000;
      border-radius: 4px;
      opacity: ${f};
      transform: scale(${1*f}) translateY(${-100*(1-f)}%);
    `,modalHeader:e`
      padding: 32px 32px 0 32px;
    `,closeButton:e`
      position: absolute;
      top: 4px;
      right: 4px;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background-color: #666;
      border: 0;
      color: #fff;
      cursor: pointer;
    `,modalBody:e`
      position: relative;
      padding: 32px;
    `}))),p=()=>{l.isClosing=!0,i(!1)};return e&&document.body!==o.parentElement?document.body.appendChild(o):e||document.body!==o.parentElement||document.body.removeChild(o),e?function(e,t){if(!(t instanceof Element))throw new Error("[Dark]: createPortal receives only Element as container!");return Ht({[Ct]:t,slot:e})}(z("div",{style:d.container},z(fn,{x:f,onRequestClose:p}),z("div",{style:d.modal},z("div",{style:d.modalHeader},z("button",{style:d.closeButton,onClick:p},"X")),z("div",{style:d.modalBody},t))),o):null})),pn=C((()=>{const[e,t]=ht(!1),[n,o]=ht(0);return Ne((()=>{const e=setInterval((()=>{o((e=>e+1))}),100);return()=>clearInterval(e)}),[]),z(be,null,z(dn,{isOpen:e,onRequestClose:()=>t(!1)},"Hello from modal window! ",n),"timer: ",n,z("br",null),z("button",{onClick:()=>t(!0)},"Open modal"))}));!function(e,t,n=!1){if(!cn&&function(){Me.createNativeElement=Bt,Me.requestAnimationFrame=requestAnimationFrame.bind(this),Me.cancelAnimationFrame=cancelAnimationFrame.bind(this),Me.scheduleCallback=on,Me.shouldYeildToHost=nn,Me.applyCommit=_t,Me.finishCommitWork=zt,Me.detectIsDynamic=()=>!0,Me.detectIsPortal=Mt,Me.unmountPortal=St,Me.restart=()=>{},cn=!0}(),!(t instanceof Element))throw new Error("[Dark]: render receives only Element as container!");const o=!c(un.get(t));let r=null;o?r=un.get(t):(r=un.size,un.set(t,r),n||(t.innerHTML="")),pe.get(r)||Me.scheduleCallback((()=>{J.set(r);const o=ne.get(),i=Boolean(o),s=(new _e).mutate({nativeElement:t,instance:new D("root",{},k([e||K()])),alternate:o,effectTag:i?Se.UPDATE:Se.CREATE});ae.reset(),te.set(s),ge.set(n),oe.set(s)}),{priority:s.NORMAL,forceSync:n||de.get()})}(z(pn,null),document.getElementById("root"))})();
//# sourceMappingURL=build.js.map