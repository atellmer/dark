(()=>{"use strict";const e=!1,t="dark:idx",n="type",o="key",i="ref",r="flag";var s,l;!function(e){e[e.ANIMATION=3]="ANIMATION",e[e.HIGH=2]="HIGH",e[e.NORMAL=1]="NORMAL",e[e.LOW=0]="LOW"}(s||(s={})),function(e){e.HAS_NO_MOVES="HAS_NO_MOVES"}(l||(l={}));const a=e=>"function"==typeof e,c=e=>void 0===e,u=e=>"number"==typeof e,f=e=>"string"==typeof e,d=e=>"object"==typeof e,p=e=>"boolean"==typeof e,h=e=>Array.isArray(e),m=e=>null===e,g=e=>m(e)||c(e),E=e=>m(e)||c(e)||!1===e,v=()=>Date.now(),b=()=>{};function y(...e){!c(console)&&console.error(...e)}function k(e){const t=[],n={0:{idx:0,source:e}};let o=0;do{const{source:e,idx:i}=n[o],r=e[i];i>=e.length?(o--,n[o]||(n[o]={idx:0,source:[]}),n[o].idx++):h(r)?(o++,n[o]={idx:0,source:r}):(t.push(r),n[o].idx++)}while(o>0||n[o].idx<n[o].source.length);return t}function T(e,t,n=!1){return e.reduce(((e,o)=>(e[t(o)]=!n||o,e)),{})}function w(e,t){if(e&&t&&e.length>0&&t.length>0)for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1}const x=Symbol("component");class C{type;token;props;ref;displayName;children=[];shouldUpdate;constructor(e,t,n,o,i,r){this.type=e||null,this.token=t||x,this.props=n||null,this.ref=o||null,this.shouldUpdate=i||null,this.displayName=r||""}}function H(t,n={}){const{token:o,displayName:i,shouldUpdate:r,keepRef:s=!1}=n;return(n={},l)=>(!s&&n.ref&&(delete n.ref,e&&y("[Dark]: To use ref you need to wrap the component with forwardRef!")),new C(t,o,n,l,r,i))}const M=e=>e instanceof C,S=e=>g(e.props[o])?null:e.props[o],I=e=>e.props[r]||null,A=Symbol("memo"),P=(e,t)=>{const n=Object.keys(t);for(const o of n)if("slot"!==o&&t[o]!==e[o])return!0;return!1},D=e=>M(e)&&e.token===A;function N(e,t=P){return H(e,{token:A,keepRef:!0,shouldUpdate:t})}var $;!function(e){e.TAG="TAG",e.TEXT="TEXT",e.COMMENT="COMMENT"}($||($={}));const L=Symbol("virtual-node");class O{type=null;constructor(e){this.type=e}}class R extends O{name=null;attrs={};children=[];constructor(e,t,n){super($.TAG),this.name=e||this.name,this.attrs=t||this.attrs,this.children=n||this.children}}class F extends O{value="";constructor(e){super($.TEXT),this.value=e}}class U extends O{value="";constructor(e){super($.COMMENT),this.value=e}}const W=e=>e instanceof O,B=e=>e instanceof R,j=e=>e instanceof F,G=e=>a(e)&&!0===e[L],Z=e=>g(e.attrs[o])?null:e.attrs[o],K=e=>e.attrs[r]||null,q=e=>g(e[o])?null:e[o],_=e=>e[r]||null,V=()=>new U("dark:matter"),z=e=>j(e)||(e=>e instanceof U)(e);function X(e){return new F(e+"")}X.from=e=>j(e)?e.value:e+"";const Y={createNativeElement:()=>{throw new Error(J("createNativeElement"))},requestAnimationFrame:()=>{throw new Error(J("requestAnimationFrame"))},cancelAnimationFrame:()=>{throw new Error(J("cancelAnimationFrame"))},scheduleCallback:()=>{throw new Error(J("scheduleCallback"))},shouldYeildToHost:()=>{throw new Error(J("shouldYeildToHost"))},applyCommit:()=>{throw new Error(J("applyCommit"))},finishCommitWork:()=>{throw new Error(J("finishCommitWork"))},detectIsDynamic:()=>{throw new Error(J("detectIsDynamic"))},detectIsPortal:()=>{throw new Error(J("detectIsPortal"))},unmountPortal:()=>{throw new Error(J("unmountPortal"))},restart:()=>{throw new Error(J("restart"))}},J=e=>`${e} not installed by renderer`;let Q=null;const ee=new Map;class te{wipRoot=null;currentRoot=null;nextUnitOfWork=null;events=new Map;unsubscribers=[];candidates=new Set;deletions=new Set;fiberMount={level:0,navigation:{},isDeepWalking:!0};componentFiber=null;effects=[];layoutEffects=[];insertionEffects=[];isLayoutEffectsZone=!1;isInserionEffectsZone=!1;isUpdateHookZone=!1;isBatchZone=!1;isHydrateZone=!1;isHot=!1;lazy=new Set}const ne={set:e=>{Q=e,!ee.get(Q)&&ee.set(Q,new te)},remove:e=>ee.delete(e)},oe=()=>Q,ie=(e=Q)=>ee.get(e),re={get:()=>ie()?.wipRoot||null,set:e=>ie().wipRoot=e},se={get:e=>ie(e)?.currentRoot||null,set:e=>ie().currentRoot=e},le={get:()=>ie()?.nextUnitOfWork||null,set:e=>ie().nextUnitOfWork=e},ae={get:()=>ie()?.componentFiber,set:e=>ie().componentFiber=e},ce={get:()=>ie().events,addUnsubscriber:e=>ie().unsubscribers.push(e),unsubscribe:e=>ie(e).unsubscribers.forEach((e=>e()))},ue={get:()=>ie().candidates,add:e=>ie().candidates.add(e),reset:()=>ie().candidates=new Set},fe={get:()=>ie().deletions,add:e=>ie().deletions.add(e),has:e=>ie().deletions.has(e),set:e=>ie().deletions=e,reset:()=>ie().deletions=new Set},de={reset:()=>{ie().fiberMount={level:0,navigation:{},isDeepWalking:!0}},getIndex:()=>{const{fiberMount:e}=ie();return e.navigation[e.level]},jumpToChild:()=>{const{fiberMount:e}=ie();e.level=e.level+1,e.navigation[e.level]=0},jumpToParent:()=>{const{fiberMount:e}=ie();e.navigation[e.level]=0,e.level=e.level-1},jumpToSibling:()=>{const{fiberMount:e}=ie();e.navigation[e.level]=e.navigation[e.level]+1},deepWalking:{get:()=>ie().fiberMount.isDeepWalking,set:e=>ie().fiberMount.isDeepWalking=e}},pe={get:()=>ie().effects,reset:()=>ie().effects=[],add:e=>ie().effects.push(e)},he={get:()=>ie().layoutEffects,reset:()=>ie().layoutEffects=[],add:e=>ie().layoutEffects.push(e)},me={get:()=>ie().insertionEffects,reset:()=>ie().insertionEffects=[],add:e=>ie().insertionEffects.push(e)},ge={get:()=>ie()?.isLayoutEffectsZone||!1,set:e=>ie().isLayoutEffectsZone=e},Ee={get:e=>ie(e)?.isInserionEffectsZone||!1,set:e=>ie().isInserionEffectsZone=e},ve={get:()=>ie()?.isUpdateHookZone||!1,set:e=>ie().isUpdateHookZone=e},be=()=>ie()?.isBatchZone||!1,ye=e=>ie().isBatchZone=e,ke={get:()=>ie()?.isHydrateZone||!1,set:e=>ie().isHydrateZone=e},Te={get:()=>ie()?.isHot||!1,set:e=>ie().isHot=e},we=()=>ie().lazy.size>0;var xe;!function(e){e.CREATE="CREATE",e.UPDATE="UPDATE",e.DELETE="DELETE",e.SKIP="SKIP"}(xe||(xe={}));const Ce=Symbol("use-effect"),{useEffect:He,hasEffects:Me,dropEffects:Se}=Ie(Ce,pe);function Ie(e,t){return{useEffect:function(n,o){const i=ae.get().hook,{idx:r,values:s}=i,l=()=>{s[r]={deps:o,token:e,value:void 0},t.add((()=>{s[r].value=n()}))};if(c(s[r]))l();else{const{deps:e,value:t}=s[r];(!o||w(o,e))&&(a(t)&&t(),l())}i.idx++},hasEffects:function(t){const{values:n}=t.hook;return n.some((t=>t?.token===e))},dropEffects:function(t){const{values:n}=t;for(const t of n)if(t.token===e){const e=t.value;a(e)&&e()}}}}const Ae=Symbol("use-layout-effect"),{useEffect:Pe,hasEffects:De,dropEffects:Ne}=Ie(Ae,he),$e=Symbol("use-insertion-effect"),{useEffect:Le,hasEffects:Oe,dropEffects:Re}=Ie($e,me);function Fe(e,t){let n=e,o=!0,i=!1,r=!1;const s={},l=e=>!s[e],a=()=>o=!1,c=()=>r=!0;for(;n&&(t({nextFiber:n,isReturn:i,resetIsDeepWalking:a,stop:c}),!r);)if(n.child&&o&&l(n.child.id)){const e=n.child;i=!1,n=e,s[e.id]=!0}else if(n.nextSibling&&l(n.nextSibling.id)){const e=n.nextSibling;o=!0,i=!1,n=e,s[e.id]=!0}else if(n.parent&&n.parent===e&&n.parent.nextSibling&&l(n.parent.nextSibling.id)){const e=n.parent.nextSibling;o=!0,i=!1,n=e,s[e.id]=!0}else n.parent&&n.parent!==e?(o=!1,i=!0,n=n.parent):n=null}function Ue(e){(e.insertionEffectHost||e.layoutEffectHost||e.effectHost||e.portalHost)&&Fe(e,(({nextFiber:t,isReturn:n,stop:o})=>{if(t===e.nextSibling)return o();!n&&M(t.instance)&&(t.insertionEffectHost&&Re(t.hook),t.layoutEffectHost&&Ne(t.hook),t.effectHost&&Se(t.hook),t.portalHost&&Y.unmountPortal(t))}))}const We=Symbol("fragment"),Be=H((({slot:e})=>e||null),{token:We}),je=e=>M(e)&&e.token===We,Ge={[xe.CREATE]:!0};class Ze{id=0;nativeElement=null;parent=null;child=null;nextSibling=null;alternate=null;move=!1;effectTag=null;instance=null;hook=null;provider=null;effectHost=!1;layoutEffectHost=!1;insertionEffectHost=!1;portalHost=!1;childrenCount=0;childrenElementsCount=0;marker="";isUsed=!1;idx=0;elementIdx=0;batched=null;catchException;static nextId=0;constructor(e=null,t=null,n=0){this.id=++Ze.nextId,this.hook=e,this.provider=t,this.idx=n}mutate(e){const t=Object.keys(e);for(const n of t)this[n]=e[n];return this}markEffectHost(){this.effectHost=!0,this.parent&&!this.parent.effectHost&&this.parent.markEffectHost()}markLayoutEffectHost(){this.layoutEffectHost=!0,this.parent&&!this.parent.layoutEffectHost&&this.parent.markLayoutEffectHost()}markInsertionEffectHost(){this.insertionEffectHost=!0,this.parent&&!this.parent.insertionEffectHost&&this.parent.markInsertionEffectHost()}markPortalHost(){this.portalHost=!0,this.parent&&!this.parent.portalHost&&this.parent.markPortalHost()}incrementChildrenElementsCount(e=1,t=!1){!function(e,t=1,n=!1){if(!e.parent)return;const o=ve.get(),i=re.get(),r=o&&i.parent===e.parent;(z(e.instance)||B(e.instance)&&0===e.instance.children.length)&&(e.childrenElementsCount=1),o&&r&&!n||(e.parent.childrenElementsCount+=t,e.parent.nativeElement||e.parent.incrementChildrenElementsCount(t))}(this,e,t)}setError(e){a(this.catchException)?this.catchException(e):this.parent&&this.parent.setError(e)}}function Ke(){const t=re.get();let n=le.get(),o=!1,i=Boolean(n);const r={fiber$$:null,fiber$:null,instance$:null};for(;n&&!o;)n=qe(n,r),le.set(n),i=Boolean(n),o=Y.shouldYeildToHost();return!n&&t&&function(){if(e&&Te.set(!1),ke.get()&&we())return ct(null);const t=re.get(),n=Y.detectIsDynamic(),o=fe.get(),i=ue.get(),r=ve.get();for(const e of o)Ue(e),Y.applyCommit(e);n&&(Ee.set(!0),me.get().forEach((e=>e())),Ee.set(!1)),r&&function(e){const t=e.childrenElementsCount-e.alternate.childrenElementsCount;if(0===t)return;const n=function(e){let t=e;for(;t&&(t=t.parent,!t||!t.nativeElement););return t}(e);let o=!1;e.incrementChildrenElementsCount(t,!0),Fe(n.child,(({nextFiber:i,resetIsDeepWalking:r,isReturn:s,stop:l})=>i===n?l():i===e?(o=!0,r()):(i.nativeElement&&r(),void(o&&!s&&(i.elementIdx+=t)))))}(t);for(const e of i)e.effectTag!==xe.SKIP&&Y.applyCommit(e),e.alternate=null;t.alternate=null,Y.finishCommitWork(),n&&(ge.set(!0),he.get().forEach((e=>e())),ge.set(!1)),n&&function(){const e=pe.get();e.length>0&&setTimeout((()=>e.forEach((e=>e()))))}(),ct(t)}(),i}function qe(e,t){let n=!0,o=e,i=e.instance;for(;;){if(n=de.deepWalking.get(),o.hook&&(o.hook.idx=0),n)if(st(i)&&i.children.length>0){if(_e(o,t),o=t.fiber$,i=t.instance$,t.fiber$$=null,t.fiber$=null,t.instance$=null,o)return o}else{Ve(o,t);const e=t.fiber$$;if(o=t.fiber$,i=t.instance$,t.fiber$$=null,t.fiber$=null,t.instance$=null,e)return e}else{Ve(o,t);const e=t.fiber$$;if(o=t.fiber$,i=t.instance$,t.fiber$$=null,t.fiber$=null,t.instance$=null,e)return e}if(null===o.parent)return null}}function _e(e,t){de.jumpToChild();let n=e.instance;const o=e.alternate?e.alternate.child:null,i=new Ze(at(o,o?o.instance:null,st(n)?n.children[0]:null),o?o.provider:null,0);ae.set(i),i.parent=e,e.child=i,i.elementIdx=e.nativeElement?0:e.elementIdx,n=et(n,0,i),o&&Je(o,n),ze(i,o,n),o&&D(i.instance)&&Qe(i),ue.add(i),t.fiber$$=null,t.fiber$=i,t.instance$=n}function Ve(e,t){de.jumpToSibling();let n=e.parent.instance;const o=de.getIndex();if(st(n)&&n.children[o]){de.deepWalking.set(!0);const i=e.alternate?e.alternate.nextSibling:null,r=new Ze(at(i,i?i.instance:null,st(n)?n.children[o]:null),i?i.provider:null,o);return ae.set(r),r.parent=e.parent,e.nextSibling=r,r.elementIdx=e.elementIdx+(e.nativeElement?1:e.childrenElementsCount),n=et(n,o,r),i&&Je(i,n),ze(r,i,n),i&&D(r.instance)&&Qe(r),ue.add(r),t.fiber$$=r,t.fiber$=r,void(t.instance$=n)}de.jumpToParent(),de.deepWalking.set(!1),n=(e=e.parent).instance,st(e.instance)&&(e.instance.children=[]),t.fiber$$=null,t.fiber$=e,t.instance$=n}function ze(e,t,n){let o=!1;Ge[e.parent.effectTag]&&(e.effectTag=e.parent.effectTag),e.effectTag!==xe.CREATE&&(o=t&&lt(t.instance,n)&&(t?ot(t.instance):null)===ot(n)),e.instance=n,e.alternate=t||null,e.nativeElement=o?t.nativeElement:null,e.effectTag=o?xe.UPDATE:xe.CREATE,t&&t.move&&(e.move=t.move,t.move=!1),st(e.instance)&&(e.childrenCount=e.instance.children.length),!e.nativeElement&&W(e.instance)&&(e.nativeElement=Y.createNativeElement(e.instance),e.effectTag=xe.CREATE),e.nativeElement&&e.incrementChildrenElementsCount()}function Xe(e,t,n){return 0===e||t.child&&t.child.effectTag===xe.DELETE?(t.child=n,n.parent=t):(t.nextSibling=n,n.parent=t.parent),n}function Ye(e,t){return(new Ze).mutate({effectTag:xe.CREATE,instance:V(),parent:e,marker:t+""})}function Je(t,n){const o=lt(t.instance,n),i=function(e){return M(e)?I(e):G(e)?_(e):B(e)?K(e):null}(n),r=i&&i[l.HAS_NO_MOVES];if(t.isUsed=!0,o){if(st(t.instance)&&st(n)&&0!==t.childrenCount&&(!r||t.childrenCount!==n.children.length)){const{prevKeys:o,nextKeys:i,prevKeysMap:r,nextKeysMap:s,keyedFibersMap:l}=function(t,n){let o=t,i=0;const r=[],s=[],l={},a={},c={},u={};for(;o||i<n.length;){if(o){const e=ot(o.instance),t=g(e)?nt(i):e;r.push(t),l[t]=!0,c[t]=o}if(n[i]){const t=n[i],o=ot(t),r=g(o)?nt(i):o;e&&(u[r]&&y(`[Dark]: The key of node [${r}] already has been used!`,[t]),u[r]=!0),s.push(r),a[r]=!0}o=o?o.nextSibling:null,i++}return{prevKeys:r,nextKeys:s,prevKeysMap:l,nextKeysMap:a,keyedFibersMap:c}}(t.child,n.children);let a=[],c=Math.max(o.length,i.length),u=t,f=0,d=0,p=0;for(let n=0;n<c;n++){const h=i[n-p]??null,m=o[n-d]??null,g=l[m]||null,E=l[h]||Ye(t,h);h!==m?null===h||r[h]?s[m]?s[m]&&s[h]&&(e&&a.push([[h,m],"move"]),E.effectTag=xe.UPDATE,g.effectTag=xe.UPDATE,E.move=!0,u=Xe(n,u,E)):(e&&a.push([m,"remove"]),g.effectTag=xe.DELETE,fe.add(g),p++,f--,c++):(null===m||s[m]?(e&&a.push([h,"insert"]),E.effectTag=xe.CREATE,d++,c++):(e&&a.push([[h,m],"replace"]),E.effectTag=xe.CREATE,g.effectTag=xe.DELETE,fe.add(g)),u=Xe(n,u,E)):null!==h&&(e&&a.push([h,"stable"]),E.effectTag=xe.UPDATE,u=Xe(n,u,E)),E.idx=f,f++}a=[]}}else(function(e){let t=e.parent;for(;t;){if(t.effectTag===xe.DELETE)return!1;t=t.parent}return!0})(t)&&(t.effectTag=xe.DELETE,fe.add(t))}function Qe(t){if(e&&Te.get())return;const n=t.alternate,o=n.instance,i=t.instance;if(t.move||i.type!==o.type||i.shouldUpdate(o.props,i.props))return;de.deepWalking.set(!1),t.effectTag=xe.SKIP,t.alternate=n,t.nativeElement=n.nativeElement,t.child=n.child,t.hook=n.hook,t.provider=n.provider,t.childrenCount=n.childrenCount,t.childrenElementsCount=n.childrenElementsCount,t.catchException=n.catchException,t.child&&(t.child.parent=t);const r=t.elementIdx-n.elementIdx;0!==r&&Fe(t.child,(({nextFiber:e,stop:n})=>e===t.nextSibling||e===t.parent?n():(e.elementIdx+=r,e.parent!==t&&e.nativeElement?n():void 0))),t.incrementChildrenElementsCount(n.childrenElementsCount),n.effectHost&&t.markEffectHost(),n.layoutEffectHost&&t.markLayoutEffectHost(),n.insertionEffectHost&&t.markInsertionEffectHost(),n.portalHost&&t.markPortalHost()}function et(e,t,n){let o=null;return st(e)&&(h(e.children[t])&&e.children.splice(t,1,...k(e.children[t])),o=tt(n,e.children[t]),M(o)&&(Me(n)&&n.markEffectHost(),De(n)&&n.markLayoutEffectHost(),Oe(n)&&n.markInsertionEffectHost(),Y.detectIsPortal(o)&&n.markPortalHost())),o}function tt(e,t){let n=t;const o=M(n),i=n;if(o)try{let e=i.type(i.props,i.ref);h(e)&&!je(i)?e=Be({slot:e}):(f(e)||u(e))&&(e=X(e)),i.children=h(e)?k(e):[e]}catch(t){i.children=[],e.setError(t),y(t)}else G(n)&&(n=n());if(st(n)){n.children=o?n.children:h(n.children)?k(n.children):[n.children];for(let e=0;e<n.children.length;e++)n.children[e]||(n.children[e]=it(n.children[e]));o&&0===i.children.length&&i.children.push(V())}return n}function nt(e){return`${t}:${e}`}function ot(e){return M(e)?S(e):G(e)?q(e):B(e)?Z(e):null}function it(e){return E(e)?V():e}function rt(e){return G(e)?e[n]:B(e)?e.name:W(e)||M(e)?e.type:null}function st(e){return B(e)||M(e)}function lt(t,n,o=!1){if(e&&Te.get()&&M(t)&&M(n))return t.displayName===n.displayName;if(o){const e=n;return t.type===e.type}return rt(t)===rt(n)}function at(e,t,n){return e&&function(e,t){return!!(e&&t&&M(e)&&M(t)&&lt(e,t,!0))&&ot(e)===ot(t)}(t,n)?e.hook:M(n)?{idx:0,values:[]}:null}function ct(e){re.set(null),ue.reset(),fe.reset(),me.reset(),he.reset(),pe.reset(),ve.get()?ve.set(!1):se.set(e)}const ut=()=>Boolean(re.get()),ft=H((({slot:e})=>e),{token:A});function dt(e){return G(e)||M(e)}function pt(e,t=!1){return function(e,t){if(h(e)?dt(e[0]):dt(e)){const n=ft({slot:Be({slot:e})});return n.shouldUpdate=()=>t,n}return e}(e(),t)}function ht(e,t){const n=ae.get(),{hook:o}=n,{idx:i,values:r}=o;if(c(r[i])){const n=pt(e);return r[i]={deps:t,value:n},o.idx++,n}const s=r[i],l=w(t,s.deps),a=l?e:()=>s.value;return s.deps=t,s.value=pt(a,l),o.idx++,s.value}function mt(e){const t=oe(),n=ht((()=>({fiber:null})),[]);return n.fiber=ae.get(),o=>{if(Ee.get())return;const i=function(e){const{rootId:t,fiber:n,forceStart:o=!1,onStart:i}=e;return()=>{n.effectTag!==xe.DELETE&&(o&&i(),n.isUsed||(!o&&i(),ne.set(t),ve.set(!0),de.reset(),n.alternate=(new Ze).mutate(n),n.marker="🔥",n.effectTag=xe.UPDATE,n.childrenElementsCount=0,n.child=null,re.set(n),ae.set(n),n.instance=tt(n,n.instance),le.set(n)))}}({rootId:t,fiber:n.fiber,forceStart:Boolean(e?.timeoutMs),onStart:o||b});ge.get()&&(e={...e||{},forceSync:!0}),be()?function(e,t){e.batched&&clearTimeout(e.batched),e.batched=setTimeout((()=>{ye(!1),e.batched=null,t()}))}(n.fiber,(()=>Y.scheduleCallback(i,e))):Y.scheduleCallback(i,e)}}const gt=e=>t=>function(e){const t=()=>{const{as:t,slot:n,_void:o=!1,...i}=e,r=o?[]:h(n)?n:n?[n]:[];return new R(t,i,r)};return t[L]=!0,t[o]=e.key,t[r]=e.flag,t[n]=e.as,t}({as:e,...t||{}}),Et=(gt("html"),gt("body"),gt("base"),gt("head"),gt("link"),gt("meta"),gt("style"),gt("title"),gt("address"),gt("article"),gt("aside"),gt("footer"),gt("header"),gt("h1"),gt("h2"),gt("h3"),gt("h4"),gt("h5"),gt("h6"),gt("nav"),gt("section"),gt("div")),vt=(gt("dd"),gt("dl"),gt("figcaption"),gt("figure"),gt("picture"),gt("hr"),gt("img"),gt("li"),gt("main"),gt("ol"),gt("p"),gt("pre"),gt("ul"),gt("a"),gt("b"),gt("abbr"),gt("bdi"),gt("bdo"),gt("br"),gt("cite"),gt("code"),gt("data"),gt("dfn"),gt("em"),gt("i"),gt("kbd"),gt("mark"),gt("q"),gt("rp"),gt("rt"),gt("ruby"),gt("s"),gt("samp"),gt("small"),gt("span"),gt("strong"),gt("sub"),gt("sup"),gt("time"),gt("u"),gt("var"),gt("wbr"),gt("area"),gt("audio"),gt("map"),gt("track"),gt("video"),gt("embed"),gt("object"),gt("param"),gt("source"),gt("canvas"),gt("script"),gt("noscript"),gt("del"),gt("ins"),gt("caption"),gt("col"),gt("colgroup"),gt("table")),bt=(gt("thead"),gt("tbody")),yt=gt("td"),kt=(gt("th"),gt("tr")),Tt=gt("button");gt("datalist"),gt("fieldset"),gt("form"),gt("input"),gt("label"),gt("legend"),gt("meter"),gt("optgroup"),gt("option"),gt("output"),gt("progress"),gt("select"),gt("textarea"),gt("details"),gt("dialog"),gt("menu"),gt("summary"),gt("template"),gt("blockquote"),gt("iframe"),gt("tfoot"),gt("svg"),gt("animate"),gt("animateMotion"),gt("animateTransform"),gt("circle"),gt("clipPath"),gt("defs"),gt("desc"),gt("ellipse"),gt("feBlend"),gt("feColorMatrix"),gt("feComponentTransfer"),gt("feComposite"),gt("feConvolveMatrix"),gt("feDiffuseLighting"),gt("feDisplacementMap"),gt("feDistantLight"),gt("feDropShadow"),gt("feFlood"),gt("feFuncA"),gt("feFuncB"),gt("feFuncG"),gt("feFuncR"),gt("feGaussianBlur"),gt("feImage"),gt("feMerge"),gt("feMergeNode"),gt("feMorphology"),gt("feOffset"),gt("fePointLight"),gt("feSpecularLighting"),gt("feSpotLight"),gt("feTile"),gt("feTurbulence"),gt("filter"),gt("foreignObject"),gt("g"),gt("image"),gt("line"),gt("linearGradient"),gt("marker"),gt("mask"),gt("metadata"),gt("mpath"),gt("path"),gt("pattern"),gt("polygon"),gt("polyline"),gt("radialGradient"),gt("rect"),gt("stop"),gt("switch"),gt("symbol"),gt("text"),gt("textPath"),gt("tspan"),gt("use"),gt("view");const wt=Symbol("portal");H((({slot:e,...t})=>(ht((()=>t[wt].innerHTML=""),[]),e)),{token:wt});const xt=e=>M(e)&&e.token===wt,Ct=e=>xt(e)?e.props[wt]:null;function Ht(e){const t=Ct(e.instance);t&&(t.innerHTML="")}class Mt{type="";sourceEvent=null;target=null;propagation=!0;constructor(e){this.type=e.sourceEvent.type,this.sourceEvent=e.sourceEvent,this.target=e.target}stopPropagation(){this.propagation=!1,this.sourceEvent.stopPropagation()}preventDefault(){this.sourceEvent.preventDefault()}getPropagation(){return this.propagation}}function St(e){const{target:t,eventName:n,handler:o}=e,i=ce.get(),r=i.get(n);if(r)r.set(t,o);else{const e=e=>{const t=i.get(n).get(e.target),o=e.target;let r=null;a(t)&&(r=new Mt({sourceEvent:e,target:o}),t(r)),(r?r.getPropagation():o.parentElement)&&o.parentElement.dispatchEvent(new e.constructor(e.type,e))};i.set(n,new WeakMap([[t,o]])),document.addEventListener(n,e,!0),ce.addUnsubscriber((()=>document.removeEventListener(n,e,!0)))}}const It=e=>e.startsWith("on"),At=e=>e.slice(2,e.length).toLowerCase(),Pt={[o]:!0,[i]:!0,[r]:!0},Dt={transform:!0,fill:!0};let Nt=[],$t=null;const Lt=T("svg,animate,animateMotion,animateTransform,circle,clipPath,defs,desc,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,image,line,linearGradient,marker,mask,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,stop,switch,symbol,text,textPath,tspan,use,view".split(","),(e=>e)),Ot=T("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr".split(","),(e=>e)),Rt={[$.TAG]:e=>{const t=e;return n=t.name,Boolean(Lt[n])?document.createElementNS("http://www.w3.org/2000/svg",t.name):document.createElement(t.name);var n},[$.TEXT]:e=>document.createTextNode(e.value),[$.COMMENT]:e=>document.createComment(e.value)};function Ft(e){return Rt[e.type](e)}function Ut(e,t){!function(e,t){a(e)?e(t):function(e){if(!d(e)||m(e))return!1;const t=e;for(const e in t)if("current"===e&&t.hasOwnProperty(e))return!0;return!1}(e)&&(e.current=t)}(e,t)}function Wt(e){const{tagName:t,element:n,attrName:o,attrValue:i}=e,r=Bt[t];let s=!!r&&r(n,o,i);var l,a;return a=o,(l=Object.getPrototypeOf(n)).hasOwnProperty(a)&&Boolean(Object.getOwnPropertyDescriptor(l,a)?.set)&&(n[o]=i),!s&&p(i)&&(s=!o.includes("-")),s}const Bt={input:(e,t,n)=>("value"===t&&p(n)?e.checked=n:"autoFocus"===t&&(e.autofocus=Boolean(n)),!1),textarea:(e,t,n)=>"value"===t&&(e.innerHTML=String(n),!0)};function jt(e){let t=e;for(;t;)if(t=t.parent,xt(t.instance)&&(t.nativeElement=Ct(t.instance)),t.nativeElement)return t;return t}const Gt={[xe.CREATE]:e=>{null!==e.nativeElement&&($t&&$t(e.nativeElement),function(e){const t=jt(e),n=t.nativeElement,o=n.childNodes;if(ke.get()){const t=o[e.elementIdx];j(e.instance)&&t instanceof Text&&e.instance.value.length!==t.length&&t.splitText(e.instance.value.length),e.nativeElement=t}else 0===o.length||e.elementIdx>o.length-1?(r=t.instance.name,!Boolean(Ot[r])&&function(e,t){t.appendChild(e.nativeElement)}(e,n)):function(e,t){t.insertBefore(e.nativeElement,t.childNodes[e.elementIdx])}(e,n);var r;B(e.instance)&&function(e,t){const n=Object.keys(t.attrs),o=e;for(const r of n){const n=t.attrs[r];r!==i?a(n)?It(r)&&St({target:o,handler:n,eventName:At(r)}):c(n)||Pt[r]||!Wt({tagName:t.name,element:o,attrValue:n,attrName:r})&&o.setAttribute(r,n):Ut(n,e)}}(e.nativeElement,e.instance)}(e))},[xe.UPDATE]:e=>{e.move&&(function(e){const t=function(e){const t=[];return Fe(e,(({nextFiber:n,isReturn:o,resetIsDeepWalking:i,stop:r})=>n===e.nextSibling||n===e.parent?r():!o&&n.nativeElement?(!xt(n.instance)&&t.push(n.nativeElement),i()):void 0)),t}(e),n=t[0].parentElement,o=new DocumentFragment,i=e.elementIdx;let r=0;for(const e of t)n.insertBefore(document.createComment(`${i}:${r}`),e),o.appendChild(e),r++;Nt.push((()=>{for(let e=1;e<t.length;e++)n.removeChild(n.childNodes[i+1]);n.replaceChild(o,n.childNodes[i])}))}(e),e.move=!1),null===e.nativeElement||M(e.instance)||($t&&$t(e.nativeElement),function(e){const t=e.nativeElement,n=e.alternate.instance,o=e.instance;z(n)&&z(o)?n.value!==o.value&&(t.textContent=o.value):function(e,t,n){const o=Object.keys(n.attrs),r=e;for(const s of o){const o=t.attrs[s],l=n.attrs[s];s!==i?c(l)?r.removeAttribute(s):a(o)?It(s)&&o!==l&&St({target:r,handler:l,eventName:At(s)}):Pt[s]||o===l||(Dt[s]||!Wt({tagName:n.name,element:r,attrValue:l,attrName:s}))&&r.setAttribute(s,l):Ut(o,e)}}(t,n,o)}(e))},[xe.DELETE]:e=>function(e){const t=jt(e);Fe(e,(({nextFiber:n,isReturn:o,resetIsDeepWalking:i,stop:r})=>n===e.nextSibling||n===e.parent?r():!o&&n.nativeElement?(!xt(n.instance)&&t.nativeElement.removeChild(n.nativeElement),i()):void 0))}(e),[xe.SKIP]:()=>{}};function Zt(e){Gt[e.effectTag](e)}function Kt(){for(const e of Nt)e();Nt=[],ke.set(!1)}const qt={animations:[],hight:[],normal:[],low1:[],low2:[]},_t=1e5;let Vt=null,zt=0,Xt=!1,Yt=null;class Jt{static nextTaskId=0;id;time;timeoutMs;priority;forceSync;callback;constructor(e){this.id=++Jt.nextTaskId,this.time=e.time,this.timeoutMs=e.timeoutMs,this.priority=e.priority,this.forceSync=e.forceSync,this.callback=e.callback}}const Qt=()=>v()>=zt;function en(e,t){const{priority:n=s.NORMAL,timeoutMs:o=0,forceSync:i=!1}=t||{},r=new Jt({time:v(),timeoutMs:o,priority:n,forceSync:i,callback:e});({[s.ANIMATION]:()=>qt.animations.push(r),[s.HIGH]:()=>qt.hight.push(r),[s.NORMAL]:()=>qt.normal.push(r),[s.LOW]:()=>r.timeoutMs>0?qt.low2.push(r):qt.low1.push(r)})[r.priority](),nn()}function tn(e){if(!e.length)return!1;Yt=e.shift();const t=Yt.priority===s.ANIMATION;return Yt.callback(),Yt.forceSync||t?function(e){for(;e(););nn(),Yt=null}(Ke):(Vt=Ke,Xt||(Xt=!0,rn.postMessage(null))),!0}function nn(){ut()||function(){const[e]=qt.low2;return!!(e&&v()-e.time>e.timeoutMs)&&(tn(qt.low2),!0)}()||(qt.low1.length>_t&&(qt.low1=[]),0)||qt.animations.length>0&&tn(qt.animations)||qt.hight.length>0&&tn(qt.hight)||qt.normal.length>0&&tn(qt.normal)||qt.low1.length>0&&requestIdleCallback((()=>tn(qt.low1)))||qt.low2.length>0&&requestIdleCallback((()=>tn(qt.low2)))}let on=null,rn=null;on=new MessageChannel,rn=on.port2,on.port1.onmessage=function(){if(Vt){zt=v()+4;try{Vt()?rn.postMessage(null):(Yt=null,Xt=!1,Vt=null,nn())}catch(e){throw rn.postMessage(null),e}}else Xt=!1};let sn=!1;const ln=new Map;const an={[l.HAS_NO_MOVES]:!0},cn=(()=>{let e,t;return{start:n=>{e=performance.now(),t=n},stop:()=>{const n=t;t&&setTimeout((()=>{t=null;const o=performance.now()-e;console.log(`${n}: ${o}`)}))}}})(),un=N(H((({slot:e})=>e)),(()=>!1)),fn=()=>{};let dn=0;const pn=(e,t="")=>Array(e).fill(0).map((()=>({id:++dn,name:`item: ${dn} ${t}`,selected:!1,update:fn}))),hn=N(H((({onCreate:e,onPrepend:t,onAppend:n,onInsertDifferent:o,onUpdateAll:i,onSwap:r,onClear:s})=>Et({style:"width: 100%; height: 64px; background-color: blueviolet; display: flex; align-items: center; padding: 16px;",slot:[Tt({slot:X("create 10 rows"),onClick:e}),Tt({slot:X("Prepend 2 rows"),onClick:t}),Tt({slot:X("Append 2 rows"),onClick:n}),Tt({slot:X("insert different"),onClick:o}),Tt({slot:X("update every 5th row"),onClick:i}),Tt({slot:X("swap rows"),onClick:r}),Tt({slot:X("clear rows"),onClick:s})]}))),(()=>!1)),mn=N(H((({item:e,onRemove:t,onHighlight:n})=>{const o=mt({forceSync:!0}),{id:i,selected:r,name:s}=e;return e.update=o,kt({class:r?"selected":void 0,flag:an,slot:[yt({class:"cell",slot:X(s)}),un({slot:[yt({class:"cell",slot:X("qqq")}),yt({class:"cell",slot:X("xxx")}),yt({class:"cell",slot:[Tt({onClick:e=>t(i,e),slot:X("remove")}),Tt({onClick:e=>n(i,e),slot:X("highlight")})]})]})]})})),(()=>!1)),gn=H((({items:e,onRemove:t,onHighlight:n})=>{const o=[];for(const i of e)o.push(mn({key:i.id,item:i,onRemove:t,onHighlight:n}));return vt({class:"table",slot:bt({slot:o})})})),En=H((()=>{const e=ht((()=>({list:[]})),[]),t=mt({forceSync:!0});return[hn({onCreate:n=>{cn.start("create"),n.stopPropagation(),e.list=pn(10),t(),cn.stop()},onPrepend:n=>{cn.start("prepend"),n.stopPropagation(),e.list.unshift(...pn(2,"!!!")),t(),cn.stop()},onAppend:n=>{cn.start("append"),n.stopPropagation(),e.list.push(...pn(2,"!!!")),t(),cn.stop()},onInsertDifferent:n=>{cn.start("insert different"),n.stopPropagation(),e.list.splice(0,0,...pn(5,"***")),e.list.splice(8,0,...pn(2,"***")),t(),cn.stop()},onUpdateAll:t=>{cn.start("update every 10th"),t.stopPropagation();for(let t=0;t<e.list.length;t+=5)e.list[t].name=e.list[t].name+"!!!",e.list[t].update();cn.stop()},onSwap:n=>{if(0===e.list.length)return;cn.start("swap"),n.stopPropagation();const o=e.list[1];e.list[1]=e.list[e.list.length-2],e.list[e.list.length-2]=o,t(),cn.stop()},onClear:n=>{cn.start("clear"),n.stopPropagation(),e.list=[],t(),cn.stop()}}),gn({items:e.list,onRemove:(n,o)=>{cn.start("remove"),o.stopPropagation();const i=e.list.findIndex((e=>e.id===n));-1!==i&&e.list.splice(i,1),t(),cn.stop()},onHighlight:(t,n)=>{cn.start("highlight"),n.stopPropagation();const o=e.list.findIndex((e=>e.id===t));e.list[o].selected=!e.list[o].selected,e.list[o].update(),cn.stop()}})]})),vn=(bn=document.getElementById("root"),{render:e=>function(e,t,n=!1){if(!sn&&function(){Y.createNativeElement=Ft,Y.requestAnimationFrame=requestAnimationFrame.bind(this),Y.cancelAnimationFrame=cancelAnimationFrame.bind(this),Y.scheduleCallback=en,Y.shouldYeildToHost=Qt,Y.applyCommit=Zt,Y.finishCommitWork=Kt,Y.detectIsDynamic=()=>!0,Y.detectIsPortal=xt,Y.unmountPortal=Ht,Y.restart=()=>{},sn=!0}(),!(t instanceof Element))throw new Error("[Dark]: render receives only Element as container!");const o=!c(ln.get(t));let i=null;o?i=ln.get(t):(i=ln.size,ln.set(t,i),n||(t.innerHTML="")),Ee.get(i)||Y.scheduleCallback((()=>{ne.set(i);const o=se.get(),r=Boolean(o),s=(new Ze).mutate({nativeElement:t,instance:new R("root",{},k([e||V()])),alternate:o,effectTag:r?xe.UPDATE:xe.CREATE});de.reset(),re.set(s),ke.set(n),le.set(s)}),{priority:s.NORMAL,forceSync:n||ge.get()})}(e,bn),unmount:()=>function(e){!function(t,n){c(t)||(Ue(se.get(t)),ce.unsubscribe(t),ne.remove(t),ln.delete(e),e.innerHTML="")}(ln.get(e))}(bn)});var bn;$t=e=>{e.tagName&&requestAnimationFrame((()=>{e.classList.add("updated-node"),setTimeout((()=>{e.classList.remove("updated-node")}),300)}))},vn.render(En())})();
//# sourceMappingURL=build.js.map