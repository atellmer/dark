(()=>{"use strict";const e="dark:idx",t="type",n="key",r="ref",o="flag";var i,s;!function(e){e[e.ANIMATION=3]="ANIMATION",e[e.HIGH=2]="HIGH",e[e.NORMAL=1]="NORMAL",e[e.LOW=0]="LOW"}(i||(i={})),function(e){e.HAS_NO_MOVES="HAS_NO_MOVES"}(s||(s={}));const l=e=>"function"==typeof e,a=e=>void 0===e,c=e=>"number"==typeof e,u=e=>"string"==typeof e,f=e=>"object"==typeof e,d=e=>"boolean"==typeof e,m=e=>Array.isArray(e),h=e=>null===e,p=e=>h(e)||a(e),g=e=>h(e)||a(e)||!1===e,E=()=>Date.now(),v=()=>{};function y(e){const t=[],n={0:{idx:0,source:e}};let r=0;do{const{source:e,idx:o}=n[r],i=e[o];o>=e.length?(r--,n[r]||(n[r]={idx:0,source:[]}),n[r].idx++):m(i)?(r++,n[r]={idx:0,source:i}):(t.push(i),n[r].idx++)}while(r>0||n[r].idx<n[r].source.length);return t}function b(e,t,n=!1){return e.reduce(((e,r)=>(e[t(r)]=!n||r,e)),{})}function k(e,t){if(e&&t&&e.length>0&&t.length>0)for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1}const T=Symbol("component");class w{type;token;props;ref;displayName;children=[];shouldUpdate;constructor(e,t,n,r,o,i){this.type=e||null,this.token=t||T,this.props=n||null,this.ref=r||null,this.shouldUpdate=o||null,this.displayName=i||""}}function x(e,t={}){const{token:n,displayName:r,shouldUpdate:o,keepRef:i=!1}=t;return(t={},s)=>(!i&&t.ref&&delete t.ref,new w(e,n,t,s,o,r))}const C=e=>e instanceof w,I=e=>p(e.props[n])?null:e.props[n],H=e=>e.props[o]||null,M={createNativeElement:()=>{throw new Error(A("createNativeElement"))},requestAnimationFrame:()=>{throw new Error(A("requestAnimationFrame"))},cancelAnimationFrame:()=>{throw new Error(A("cancelAnimationFrame"))},scheduleCallback:()=>{throw new Error(A("scheduleCallback"))},shouldYeildToHost:()=>{throw new Error(A("shouldYeildToHost"))},applyCommit:()=>{throw new Error(A("applyCommit"))},finishCommitWork:()=>{throw new Error(A("finishCommitWork"))},detectIsDynamic:()=>{throw new Error(A("detectIsDynamic"))},detectIsPortal:()=>{throw new Error(A("detectIsPortal"))},unmountPortal:()=>{throw new Error(A("unmountPortal"))},restart:()=>{throw new Error(A("restart"))}},A=e=>`${e} not installed by renderer`;let S=null;const P=new Map;class ${wipRoot=null;currentRoot=null;nextUnitOfWork=null;events=new Map;unsubscribers=[];candidates=new Set;deletions=new Set;fiberMount={level:0,navigation:{},isDeepWalking:!0};componentFiber=null;effects=[];layoutEffects=[];insertionEffects=[];isLayoutEffectsZone=!1;isInserionEffectsZone=!1;isUpdateHookZone=!1;isBatchZone=!1;isHydrateZone=!1;isHot=!1;lazy=new Set}const N={set:e=>{S=e,!P.get(S)&&P.set(S,new $)},remove:e=>P.delete(e)},D=()=>S,L=(e=S)=>P.get(e),O={get:()=>L()?.wipRoot||null,set:e=>L().wipRoot=e},R={get:e=>L(e)?.currentRoot||null,set:e=>L().currentRoot=e},F={get:()=>L()?.nextUnitOfWork||null,set:e=>L().nextUnitOfWork=e},W={get:()=>L()?.componentFiber,set:e=>L().componentFiber=e},U={get:()=>L().events,addUnsubscriber:e=>L().unsubscribers.push(e),unsubscribe:e=>L(e).unsubscribers.forEach((e=>e()))},B={get:()=>L().candidates,add:e=>L().candidates.add(e),reset:()=>L().candidates=new Set},j={get:()=>L().deletions,add:e=>L().deletions.add(e),has:e=>L().deletions.has(e),set:e=>L().deletions=e,reset:()=>L().deletions=new Set},K={reset:()=>{L().fiberMount={level:0,navigation:{},isDeepWalking:!0}},getIndex:()=>{const{fiberMount:e}=L();return e.navigation[e.level]},jumpToChild:()=>{const{fiberMount:e}=L();e.level=e.level+1,e.navigation[e.level]=0},jumpToParent:()=>{const{fiberMount:e}=L();e.navigation[e.level]=0,e.level=e.level-1},jumpToSibling:()=>{const{fiberMount:e}=L();e.navigation[e.level]=e.navigation[e.level]+1},deepWalking:{get:()=>L().fiberMount.isDeepWalking,set:e=>L().fiberMount.isDeepWalking=e}},Z={get:()=>L().effects,reset:()=>L().effects=[],add:e=>L().effects.push(e)},G={get:()=>L().layoutEffects,reset:()=>L().layoutEffects=[],add:e=>L().layoutEffects.push(e)},q={get:()=>L().insertionEffects,reset:()=>L().insertionEffects=[],add:e=>L().insertionEffects.push(e)},_={get:()=>L()?.isLayoutEffectsZone||!1,set:e=>L().isLayoutEffectsZone=e},z={get:e=>L(e)?.isInserionEffectsZone||!1,set:e=>L().isInserionEffectsZone=e},V={get:()=>L()?.isUpdateHookZone||!1,set:e=>L().isUpdateHookZone=e},X={get:()=>L()?.isBatchZone||!1,set:e=>L().isBatchZone=e},Y={get:()=>L()?.isHydrateZone||!1,set:e=>L().isHydrateZone=e},J=()=>L().lazy.size>0;var Q;!function(e){e.TAG="TAG",e.TEXT="TEXT",e.COMMENT="COMMENT"}(Q||(Q={}));const ee=Symbol("virtual-node");class te{type=null;constructor(e){this.type=e}}class ne extends te{name=null;attrs={};children=[];constructor(e,t,n){super(Q.TAG),this.name=e||this.name,this.attrs=t||this.attrs,this.children=n||this.children}}class re extends te{value="";constructor(e){super(Q.TEXT),this.value=e}}class oe extends te{value="";constructor(e){super(Q.COMMENT),this.value=e}}const ie=e=>e instanceof te,se=e=>e instanceof ne,le=e=>e instanceof re,ae=e=>l(e)&&!0===e[ee],ce=e=>p(e.attrs[n])?null:e.attrs[n],ue=e=>e.attrs[o]||null,fe=e=>p(e[n])?null:e[n],de=e=>e[o]||null,me=()=>new oe("dark:matter"),he=e=>le(e)||(e=>e instanceof oe)(e);function pe(e){return new re(e+"")}pe.from=e=>le(e)?e.value:e+"";const ge=Symbol("memo"),Ee=e=>C(e)&&e.token===ge;var ve;!function(e){e.CREATE="CREATE",e.UPDATE="UPDATE",e.DELETE="DELETE",e.SKIP="SKIP"}(ve||(ve={}));const ye=Symbol("use-effect"),{useEffect:be,hasEffects:ke,dropEffects:Te}=we(ye,Z);function we(e,t){return{useEffect:function(n,r){const o=W.get().hook,{idx:i,values:s}=o,c=()=>{s[i]={deps:r,token:e,value:void 0},t.add((()=>{s[i].value=n()}))};if(a(s[i]))c();else{const{deps:e,value:t}=s[i];(!r||k(r,e))&&(l(t)&&t(),c())}o.idx++},hasEffects:function(t){const{values:n}=t.hook;return n.some((t=>t?.token===e))},dropEffects:function(t){const{values:n}=t;for(const t of n)if(t.token===e){const e=t.value;l(e)&&e()}}}}const xe=Symbol("use-layout-effect"),{useEffect:Ce,hasEffects:Ie,dropEffects:He}=we(xe,G),Me=Symbol("use-insertion-effect"),{useEffect:Ae,hasEffects:Se,dropEffects:Pe}=we(Me,q);function $e(e,t){let n=e,r=!0,o=!1,i=!1;const s={},l=e=>!s[e],a=()=>r=!1,c=()=>i=!0;for(;n&&(t({nextFiber:n,isReturn:o,resetIsDeepWalking:a,stop:c}),!i);)if(n.child&&r&&l(n.child.id)){const e=n.child;o=!1,n=e,s[e.id]=!0}else if(n.nextSibling&&l(n.nextSibling.id)){const e=n.nextSibling;r=!0,o=!1,n=e,s[e.id]=!0}else if(n.parent&&n.parent===e&&n.parent.nextSibling&&l(n.parent.nextSibling.id)){const e=n.parent.nextSibling;r=!0,o=!1,n=e,s[e.id]=!0}else n.parent&&n.parent!==e?(r=!1,o=!0,n=n.parent):n=null}function Ne(e){(e.insertionEffectHost||e.layoutEffectHost||e.effectHost||e.portalHost)&&$e(e,(({nextFiber:t,isReturn:n,stop:r})=>{if(t===e.nextSibling)return r();!n&&C(t.instance)&&(t.insertionEffectHost&&Pe(t.hook),t.layoutEffectHost&&He(t.hook),t.effectHost&&Te(t.hook),t.portalHost&&M.unmountPortal(t))}))}const De=Symbol("fragment"),Le=x((({slot:e})=>e||null),{token:De}),Oe=e=>C(e)&&e.token===De,Re={[ve.CREATE]:!0};class Fe{id=0;nativeElement=null;parent=null;child=null;nextSibling=null;alternate=null;move=!1;effectTag=null;instance=null;hook=null;provider=null;effectHost=!1;layoutEffectHost=!1;insertionEffectHost=!1;portalHost=!1;childrenCount=0;childrenElementsCount=0;marker="";isUsed=!1;idx=0;elementIdx=0;batched=null;catchException;static nextId=0;constructor(e=null,t=null,n=0){this.id=++Fe.nextId,this.hook=e,this.provider=t,this.idx=n}mutate(e){const t=Object.keys(e);for(const n of t)this[n]=e[n];return this}markEffectHost(){this.effectHost=!0,this.parent&&!this.parent.effectHost&&this.parent.markEffectHost()}markLayoutEffectHost(){this.layoutEffectHost=!0,this.parent&&!this.parent.layoutEffectHost&&this.parent.markLayoutEffectHost()}markInsertionEffectHost(){this.insertionEffectHost=!0,this.parent&&!this.parent.insertionEffectHost&&this.parent.markInsertionEffectHost()}markPortalHost(){this.portalHost=!0,this.parent&&!this.parent.portalHost&&this.parent.markPortalHost()}incrementChildrenElementsCount(e=1,t=!1){!function(e,t=1,n=!1){if(!e.parent)return;const r=V.get(),o=O.get(),i=r&&o.parent===e.parent;(he(e.instance)||se(e.instance)&&0===e.instance.children.length)&&(e.childrenElementsCount=1),r&&i&&!n||(e.parent.childrenElementsCount+=t,e.parent.nativeElement||e.parent.incrementChildrenElementsCount(t))}(this,e,t)}setError(e){l(this.catchException)?this.catchException(e):this.parent&&this.parent.setError(e)}}function We(){const e=O.get();let t=F.get(),n=!1,r=Boolean(t);const o={fiber$$:null,fiber$:null,instance$:null};for(;t&&!n;)t=Ue(t,o),F.set(t),r=Boolean(t),n=M.shouldYeildToHost();return!t&&e&&function(){if(Y.get()&&J())return rt(null);const e=O.get(),t=M.detectIsDynamic(),n=j.get(),r=B.get(),o=V.get();for(const e of n)Ne(e),M.applyCommit(e);t&&(z.set(!0),q.get().forEach((e=>e())),z.set(!1)),o&&function(e){const t=e.childrenElementsCount-e.alternate.childrenElementsCount;if(0===t)return;const n=function(e){let t=e;for(;t&&(t=t.parent,!t||!t.nativeElement););return t}(e);let r=!1;e.incrementChildrenElementsCount(t,!0),$e(n.child,(({nextFiber:o,resetIsDeepWalking:i,isReturn:s,stop:l})=>o===n?l():o===e?(r=!0,i()):(o.nativeElement&&i(),void(r&&!s&&(o.elementIdx+=t)))))}(e);for(const e of r)e.effectTag!==ve.SKIP&&M.applyCommit(e),e.alternate=null;e.alternate=null,M.finishCommitWork(),t&&(_.set(!0),G.get().forEach((e=>e())),_.set(!1)),t&&function(){const e=Z.get();e.length>0&&setTimeout((()=>e.forEach((e=>e()))))}(),rt(e)}(),r}function Ue(e,t){let n=!0,r=e,o=e.instance;for(;;){if(n=K.deepWalking.get(),r.hook&&(r.hook.idx=0),n)if(et(o)&&o.children.length>0){if(Be(r,t),r=t.fiber$,o=t.instance$,t.fiber$$=null,t.fiber$=null,t.instance$=null,r)return r}else{je(r,t);const e=t.fiber$$;if(r=t.fiber$,o=t.instance$,t.fiber$$=null,t.fiber$=null,t.instance$=null,e)return e}else{je(r,t);const e=t.fiber$$;if(r=t.fiber$,o=t.instance$,t.fiber$$=null,t.fiber$=null,t.instance$=null,e)return e}if(null===r.parent)return null}}function Be(e,t){K.jumpToChild();let n=e.instance;const r=e.alternate?e.alternate.child:null,o=new Fe(nt(r,r?r.instance:null,et(n)?n.children[0]:null),r?r.provider:null,0);W.set(o),o.parent=e,e.child=o,o.elementIdx=e.nativeElement?0:e.elementIdx,n=ze(n,0,o),r&&qe(r,n),Ke(o,r,n),r&&Ee(o.instance)&&_e(o),B.add(o),t.fiber$$=null,t.fiber$=o,t.instance$=n}function je(e,t){K.jumpToSibling();let n=e.parent.instance;const r=K.getIndex();if(et(n)&&n.children[r]){K.deepWalking.set(!0);const o=e.alternate?e.alternate.nextSibling:null,i=new Fe(nt(o,o?o.instance:null,et(n)?n.children[r]:null),o?o.provider:null,r);return W.set(i),i.parent=e.parent,e.nextSibling=i,i.elementIdx=e.elementIdx+(e.nativeElement?1:e.childrenElementsCount),n=ze(n,r,i),o&&qe(o,n),Ke(i,o,n),o&&Ee(i.instance)&&_e(i),B.add(i),t.fiber$$=i,t.fiber$=i,void(t.instance$=n)}K.jumpToParent(),K.deepWalking.set(!1),n=(e=e.parent).instance,et(e.instance)&&(e.instance.children=[]),t.fiber$$=null,t.fiber$=e,t.instance$=n}function Ke(e,t,n){let r=!1;Re[e.parent.effectTag]&&(e.effectTag=e.parent.effectTag),e.effectTag!==ve.CREATE&&(r=t&&tt(t.instance,n)&&(t?Ye(t.instance):null)===Ye(n)),e.instance=n,e.alternate=t||null,e.nativeElement=r?t.nativeElement:null,e.effectTag=r?ve.UPDATE:ve.CREATE,t&&t.move&&(e.move=t.move,t.move=!1),et(e.instance)&&(e.childrenCount=e.instance.children.length),!e.nativeElement&&ie(e.instance)&&(e.nativeElement=M.createNativeElement(e.instance),e.effectTag=ve.CREATE),e.nativeElement&&e.incrementChildrenElementsCount()}function Ze(e,t,n){return 0===e||t.child&&t.child.effectTag===ve.DELETE?(t.child=n,n.parent=t):(t.nextSibling=n,n.parent=t.parent),n}function Ge(e,t){return(new Fe).mutate({effectTag:ve.CREATE,instance:me(),parent:e,marker:t+""})}function qe(e,t){const n=tt(e.instance,t),r=function(e){return C(e)?H(e):ae(e)?de(e):se(e)?ue(e):null}(t),o=r&&r[s.HAS_NO_MOVES];if(e.isUsed=!0,n){if(et(e.instance)&&et(t)&&0!==e.childrenCount&&(!o||e.childrenCount!==t.children.length)){const{prevKeys:n,nextKeys:r,prevKeysMap:o,nextKeysMap:i,keyedFibersMap:s}=function(e,t){let n=e,r=0;const o=[],i=[],s={},l={},a={};for(;n||r<t.length;){if(n){const e=Ye(n.instance),t=p(e)?Xe(r):e;o.push(t),s[t]=!0,a[t]=n}if(t[r]){const e=Ye(t[r]),n=p(e)?Xe(r):e;i.push(n),l[n]=!0}n=n?n.nextSibling:null,r++}return{prevKeys:o,nextKeys:i,prevKeysMap:s,nextKeysMap:l,keyedFibersMap:a}}(e.child,t.children);let l=[],a=Math.max(n.length,r.length),c=e,u=0,f=0,d=0;for(let t=0;t<a;t++){const l=r[t-d]??null,m=n[t-f]??null,h=s[m]||null,p=s[l]||Ge(e,l);l!==m?null===l||o[l]?i[m]?i[m]&&i[l]&&(p.effectTag=ve.UPDATE,h.effectTag=ve.UPDATE,p.move=!0,c=Ze(t,c,p)):(h.effectTag=ve.DELETE,j.add(h),d++,u--,a++):(null===m||i[m]?(p.effectTag=ve.CREATE,f++,a++):(p.effectTag=ve.CREATE,h.effectTag=ve.DELETE,j.add(h)),c=Ze(t,c,p)):null!==l&&(p.effectTag=ve.UPDATE,c=Ze(t,c,p)),p.idx=u,u++}l=[]}}else(function(e){let t=e.parent;for(;t;){if(t.effectTag===ve.DELETE)return!1;t=t.parent}return!0})(e)&&(e.effectTag=ve.DELETE,j.add(e))}function _e(e){const t=e.alternate,n=t.instance,r=e.instance;if(e.move||r.type!==n.type||r.shouldUpdate(n.props,r.props))return;K.deepWalking.set(!1),e.effectTag=ve.SKIP,e.alternate=t,e.nativeElement=t.nativeElement,e.child=t.child,e.hook=t.hook,e.provider=t.provider,e.childrenCount=t.childrenCount,e.childrenElementsCount=t.childrenElementsCount,e.catchException=t.catchException,e.child&&(e.child.parent=e);const o=e.elementIdx-t.elementIdx;0!==o&&$e(e.child,(({nextFiber:t,stop:n})=>t===e.nextSibling||t===e.parent?n():(t.elementIdx+=o,t.parent!==e&&t.nativeElement?n():void 0))),e.incrementChildrenElementsCount(t.childrenElementsCount),t.effectHost&&e.markEffectHost(),t.layoutEffectHost&&e.markLayoutEffectHost(),t.insertionEffectHost&&e.markInsertionEffectHost(),t.portalHost&&e.markPortalHost()}function ze(e,t,n){let r=null;return et(e)&&(m(e.children[t])&&e.children.splice(t,1,...y(e.children[t])),r=Ve(n,e.children[t]),C(r)&&(ke(n)&&n.markEffectHost(),Ie(n)&&n.markLayoutEffectHost(),Se(n)&&n.markInsertionEffectHost(),M.detectIsPortal(r)&&n.markPortalHost())),r}function Ve(e,t){let n=t;const r=C(n),o=n;if(r)try{let e=o.type(o.props,o.ref);m(e)&&!Oe(o)?e=Le({slot:e}):(u(e)||c(e))&&(e=pe(e)),o.children=m(e)?y(e):[e]}catch(t){o.children=[],e.setError(t),function(...e){!a(console)&&console.error(...e)}(t)}else ae(n)&&(n=n());if(et(n)){n.children=r?n.children:m(n.children)?y(n.children):[n.children];for(let e=0;e<n.children.length;e++)n.children[e]||(n.children[e]=Je(n.children[e]));r&&0===o.children.length&&o.children.push(me())}return n}function Xe(t){return`${e}:${t}`}function Ye(e){return C(e)?I(e):ae(e)?fe(e):se(e)?ce(e):null}function Je(e){return g(e)?me():e}function Qe(e){return ae(e)?e[t]:se(e)?e.name:ie(e)||C(e)?e.type:null}function et(e){return se(e)||C(e)}function tt(e,t,n=!1){if(n){const n=t;return e.type===n.type}return Qe(e)===Qe(t)}function nt(e,t,n){return e&&function(e,t){return!!(e&&t&&C(e)&&C(t)&&tt(e,t,!0))&&Ye(e)===Ye(t)}(t,n)?e.hook:C(n)?{idx:0,values:[]}:null}function rt(e){O.set(null),B.reset(),j.reset(),q.reset(),G.reset(),Z.reset(),V.get()?V.set(!1):R.set(e)}const ot=()=>Boolean(O.get()),it=x((({slot:e})=>e),{token:ge});function st(e){return ae(e)||C(e)}function lt(e,t=!1){return function(e,t){if(m(e)?st(e[0]):st(e)){const n=it({slot:Le({slot:e})});return n.shouldUpdate=()=>t,n}return e}(e(),t)}function at(e,t){const n=W.get(),{hook:r}=n,{idx:o,values:i}=r;if(a(i[o])){const n=lt(e);return i[o]={deps:t,value:n},r.idx++,n}const s=i[o],l=k(t,s.deps),c=l?e:()=>s.value;return s.deps=t,s.value=lt(c,l),r.idx++,s.value}function ct(e){const t=D(),n=at((()=>({fiber:null})),[]);return n.fiber=W.get(),r=>{if(z.get())return;const o=function(e){const{rootId:t,fiber:n,forceStart:r=!1,onStart:o}=e;return()=>{n.effectTag!==ve.DELETE&&(r&&o(),n.isUsed||(!r&&o(),N.set(t),V.set(!0),K.reset(),n.alternate=(new Fe).mutate(n),n.marker="ðŸ”¥",n.effectTag=ve.UPDATE,n.childrenElementsCount=0,n.child=null,O.set(n),W.set(n),n.instance=Ve(n,n.instance),F.set(n)))}}({rootId:t,fiber:n.fiber,forceStart:Boolean(e?.timeoutMs),onStart:r||v});_.get()&&(e={...e||{},forceSync:!0}),X.get()?function(e,t){e.batched&&clearTimeout(e.batched),e.batched=setTimeout((()=>{X.set(!1),e.batched=null,t()}))}(n.fiber,(()=>M.scheduleCallback(o,e))):M.scheduleCallback(o,e)}}function ut(e){if(!e)throw new Error("[Dark]: initial value is not object or array");const t=ct();return at((()=>ft(l(e)?e():e,t)),[])}function ft(e,t){let n=e;if(f(e)&&!h(e)){n=new Proxy(e,{set:function(e,n,r){return e[n]===r||(e[n]=ft(r,t),o=()=>{t()},X.set(!0),o()),!0;var o}});for(const n of Object.keys(e))e[n]=ft(e[n],t)}return n}function dt(e){return(e=e.map((e=>u(e)||c(e)?pe(e.toString()):e)))?Array.isArray(e)?[...e]:[e]:[]}function mt(e,r,...i){if(u(e))return function(e){const r=()=>{const{as:t,slot:n,_void:r=!1,...o}=e,i=r?[]:m(n)?n:n?[n]:[];return new ne(t,o,i)};return r[ee]=!0,r[n]=e.key,r[o]=e.flag,r[t]=e.as,r}({...r,as:e,slot:dt(i)});if(l(e)){let t=dt(i);return t=1===t.length?t[0]:t,e({...r,slot:t})}return null}const ht=Symbol("portal");x((({slot:e,...t})=>(at((()=>t[ht].innerHTML=""),[]),e)),{token:ht});const pt=e=>C(e)&&e.token===ht,gt=e=>pt(e)?e.props[ht]:null;function Et(e){const t=gt(e.instance);t&&(t.innerHTML="")}class vt{type="";sourceEvent=null;target=null;propagation=!0;constructor(e){this.type=e.sourceEvent.type,this.sourceEvent=e.sourceEvent,this.target=e.target}stopPropagation(){this.propagation=!1,this.sourceEvent.stopPropagation()}preventDefault(){this.sourceEvent.preventDefault()}getPropagation(){return this.propagation}}function yt(e){const{target:t,eventName:n,handler:r}=e,o=U.get(),i=o.get(n);if(i)i.set(t,r);else{const e=e=>{const t=o.get(n).get(e.target),r=e.target;let i=null;l(t)&&(i=new vt({sourceEvent:e,target:r}),t(i)),(i?i.getPropagation():r.parentElement)&&r.parentElement.dispatchEvent(new e.constructor(e.type,e))};o.set(n,new WeakMap([[t,r]])),document.addEventListener(n,e,!0),U.addUnsubscriber((()=>document.removeEventListener(n,e,!0)))}}const bt=e=>e.startsWith("on"),kt=e=>e.slice(2,e.length).toLowerCase(),Tt={[n]:!0,[r]:!0,[o]:!0},wt={transform:!0,fill:!0};let xt=[];const Ct=b("svg,animate,animateMotion,animateTransform,circle,clipPath,defs,desc,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,image,line,linearGradient,marker,mask,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,stop,switch,symbol,text,textPath,tspan,use,view".split(","),(e=>e)),It=b("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr".split(","),(e=>e)),Ht={[Q.TAG]:e=>{const t=e;return n=t.name,Boolean(Ct[n])?document.createElementNS("http://www.w3.org/2000/svg",t.name):document.createElement(t.name);var n},[Q.TEXT]:e=>document.createTextNode(e.value),[Q.COMMENT]:e=>document.createComment(e.value)};function Mt(e){return Ht[e.type](e)}function At(e,t){!function(e,t){l(e)?e(t):function(e){if(!f(e)||h(e))return!1;const t=e;for(const e in t)if("current"===e&&t.hasOwnProperty(e))return!0;return!1}(e)&&(e.current=t)}(e,t)}function St(e){const{tagName:t,element:n,attrName:r,attrValue:o}=e,i=Pt[t];let s=!!i&&i(n,r,o);var l,a;return a=r,(l=Object.getPrototypeOf(n)).hasOwnProperty(a)&&Boolean(Object.getOwnPropertyDescriptor(l,a)?.set)&&(n[r]=o),!s&&d(o)&&(s=!r.includes("-")),s}const Pt={input:(e,t,n)=>("value"===t&&d(n)?e.checked=n:"autoFocus"===t&&(e.autofocus=Boolean(n)),!1),textarea:(e,t,n)=>"value"===t&&(e.innerHTML=String(n),!0)};function $t(e){let t=e;for(;t;)if(t=t.parent,pt(t.instance)&&(t.nativeElement=gt(t.instance)),t.nativeElement)return t;return t}const Nt={[ve.CREATE]:e=>{null!==e.nativeElement&&function(e){const t=$t(e),n=t.nativeElement,o=n.childNodes;if(Y.get()){const t=o[e.elementIdx];le(e.instance)&&t instanceof Text&&e.instance.value.length!==t.length&&t.splitText(e.instance.value.length),e.nativeElement=t}else 0===o.length||e.elementIdx>o.length-1?(i=t.instance.name,!Boolean(It[i])&&function(e,t){t.appendChild(e.nativeElement)}(e,n)):function(e,t){t.insertBefore(e.nativeElement,t.childNodes[e.elementIdx])}(e,n);var i;se(e.instance)&&function(e,t){const n=Object.keys(t.attrs),o=e;for(const i of n){const n=t.attrs[i];i!==r?l(n)?bt(i)&&yt({target:o,handler:n,eventName:kt(i)}):a(n)||Tt[i]||!St({tagName:t.name,element:o,attrValue:n,attrName:i})&&o.setAttribute(i,n):At(n,e)}}(e.nativeElement,e.instance)}(e)},[ve.UPDATE]:e=>{e.move&&(function(e){const t=function(e){const t=[];return $e(e,(({nextFiber:n,isReturn:r,resetIsDeepWalking:o,stop:i})=>n===e.nextSibling||n===e.parent?i():!r&&n.nativeElement?(!pt(n.instance)&&t.push(n.nativeElement),o()):void 0)),t}(e),n=t[0].parentElement,r=new DocumentFragment,o=e.elementIdx;let i=0;for(const e of t)n.insertBefore(document.createComment(`${o}:${i}`),e),r.appendChild(e),i++;xt.push((()=>{for(let e=1;e<t.length;e++)n.removeChild(n.childNodes[o+1]);n.replaceChild(r,n.childNodes[o])}))}(e),e.move=!1),null===e.nativeElement||C(e.instance)||function(e){const t=e.nativeElement,n=e.alternate.instance,o=e.instance;he(n)&&he(o)?n.value!==o.value&&(t.textContent=o.value):function(e,t,n){const o=Object.keys(n.attrs),i=e;for(const s of o){const o=t.attrs[s],c=n.attrs[s];s!==r?a(c)?i.removeAttribute(s):l(o)?bt(s)&&o!==c&&yt({target:i,handler:c,eventName:kt(s)}):Tt[s]||o===c||(wt[s]||!St({tagName:n.name,element:i,attrValue:c,attrName:s}))&&i.setAttribute(s,c):At(o,e)}}(t,n,o)}(e)},[ve.DELETE]:e=>function(e){const t=$t(e);$e(e,(({nextFiber:n,isReturn:r,resetIsDeepWalking:o,stop:i})=>n===e.nextSibling||n===e.parent?i():!r&&n.nativeElement?(!pt(n.instance)&&t.nativeElement.removeChild(n.nativeElement),o()):void 0))}(e),[ve.SKIP]:()=>{}};function Dt(e){Nt[e.effectTag](e)}function Lt(){for(const e of xt)e();xt=[],Y.set(!1)}const Ot={animations:[],hight:[],normal:[],low1:[],low2:[]},Rt=1e5;let Ft=null,Wt=0,Ut=!1,Bt=null;class jt{static nextTaskId=0;id;time;timeoutMs;priority;forceSync;callback;constructor(e){this.id=++jt.nextTaskId,this.time=e.time,this.timeoutMs=e.timeoutMs,this.priority=e.priority,this.forceSync=e.forceSync,this.callback=e.callback}}const Kt=()=>E()>=Wt;function Zt(e,t){const{priority:n=i.NORMAL,timeoutMs:r=0,forceSync:o=!1}=t||{},s=new jt({time:E(),timeoutMs:r,priority:n,forceSync:o,callback:e});({[i.ANIMATION]:()=>Ot.animations.push(s),[i.HIGH]:()=>Ot.hight.push(s),[i.NORMAL]:()=>Ot.normal.push(s),[i.LOW]:()=>s.timeoutMs>0?Ot.low2.push(s):Ot.low1.push(s)})[s.priority](),qt()}function Gt(e){if(!e.length)return!1;Bt=e.shift();const t=Bt.priority===i.ANIMATION;return Bt.callback(),Bt.forceSync||t?function(e){for(;e(););qt(),Bt=null}(We):(Ft=We,Ut||(Ut=!0,zt.postMessage(null))),!0}function qt(){ot()||function(){const[e]=Ot.low2;return!!(e&&E()-e.time>e.timeoutMs)&&(Gt(Ot.low2),!0)}()||(Ot.low1.length>Rt&&(Ot.low1=[]),0)||Ot.animations.length>0&&Gt(Ot.animations)||Ot.hight.length>0&&Gt(Ot.hight)||Ot.normal.length>0&&Gt(Ot.normal)||Ot.low1.length>0&&requestIdleCallback((()=>Gt(Ot.low1)))||Ot.low2.length>0&&requestIdleCallback((()=>Gt(Ot.low2)))}let _t=null,zt=null;_t=new MessageChannel,zt=_t.port2,_t.port1.onmessage=function(){if(Ft){Wt=E()+4;try{Ft()?zt.postMessage(null):(Bt=null,Ut=!1,Ft=null,qt())}catch(e){throw zt.postMessage(null),e}}else Ut=!1};let Vt=!1;const Xt=new Map;const Yt=e=>{let t=0;return function(e){let t,n=e.length;for(;0!=n;)t=Math.floor(Math.random()*n),n--,[e[n],e[t]]=[e[t],e[n]];return e}(Array(e).fill(0).map((()=>({id:++t,name:`${t}`}))))},Jt=x((({items:e,getKey:t,duration:n=1e3,slot:r})=>{const[o,s]=function(e,t){const n=ct(t),r=at((()=>({value:l(e)?e():e})),[]),o=(s=e=>{const o=r.value,s=l(e)?e(o):e;if(!Object.is(o,s)){const e=()=>r.value=s;t?.priority===i.LOW?n((()=>e())):(e(),n())}},at((()=>s),[]));var s;return[r.value,o]}(e),a=function(e=null){return at((()=>({current:e})),[])}(null),c=at((()=>({refs:{indexed:{},keyed:{}},rects:{},items:o,timerId:null,timerId2:null,firstRender:!0,isTransition:!1})),[]);be((()=>{const e=()=>{let e=0;for(const t of Array.from(a.current.children))c.rects[e]=t.getBoundingClientRect(),e++};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),Ce((()=>{c.firstRender||(c.isTransition=!0,!c.timerId&&u(o,!0),c.items=e,requestAnimationFrame((()=>{document.body.clientHeight,u(e,!1)})))}),[e]),be((()=>{c.firstRender||f(o)}),[o]),be((()=>{c.firstRender=!1}),[o]);const u=(e,r)=>{let o=0;for(const i of e){const e=c.rects[o],s=t(i),l=c.refs.keyed[s];l.style.setProperty("position","absolute"),l.style.setProperty("width",`${e.width}px`),l.style.setProperty("height",`${e.height}px`),l.style.setProperty("transform",`translate(${e.left}px, ${e.top}px)`),r||(l.style.setProperty("transition",`transform ${n}ms ease-in-out, opacity ${n/2}ms ease-in-out`),l.style.setProperty("opacity","0.5")),o++}!r&&c.timerId&&window.clearTimeout(c.timerId),c.timerId=window.setTimeout((()=>{c.timerId=null,s(c.items)}),n)},f=e=>{for(const r of e){const e=t(r),o=c.refs.keyed[e];o.style.setProperty("transition",`opacity ${n/2}ms ease-in-out`),o.style.setProperty("opacity","1"),o.style.removeProperty("position"),o.style.removeProperty("width"),o.style.removeProperty("height"),o.style.removeProperty("transform")}c.isTransition=!1,c.timerId2&&window.clearTimeout(c.timerId2),c.timerId2=window.setTimeout((()=>{if(c.timerId2=null,!c.isTransition)for(const n of e){const e=t(n);c.refs.keyed[e].removeAttribute("style")}}),n/2)};return r({items:o,containerRef:a,itemRef:(e,t)=>n=>{c.refs.indexed[e]=n,c.refs.keyed[t]=n}})})),Qt=x((()=>{const e=ut({items:Yt(100)});return mt(Le,null,mt("div",{class:"content"},mt(Jt,{items:e.items,getKey:e=>e.id,duration:1e3},(({items:e,containerRef:t,itemRef:n})=>mt("div",{ref:t,class:"grid"},e.map(((e,t)=>{const r=e.id;return mt("div",{ref:n(t,r),key:r,class:"grid-item"},mt("span",null,e.name))}))))),mt("div",{class:"button-layout"},mt("button",{class:"button",onClick:()=>{e.items=Yt(e.items.length)}},"shuffle"))))}));var en;(en=document.getElementById("root"),{render:e=>function(e,t,n=!1){if(!Vt&&function(){M.createNativeElement=Mt,M.requestAnimationFrame=requestAnimationFrame.bind(this),M.cancelAnimationFrame=cancelAnimationFrame.bind(this),M.scheduleCallback=Zt,M.shouldYeildToHost=Kt,M.applyCommit=Dt,M.finishCommitWork=Lt,M.detectIsDynamic=()=>!0,M.detectIsPortal=pt,M.unmountPortal=Et,M.restart=()=>{},Vt=!0}(),!(t instanceof Element))throw new Error("[Dark]: render receives only Element as container!");const r=!a(Xt.get(t));let o=null;r?o=Xt.get(t):(o=Xt.size,Xt.set(t,o),n||(t.innerHTML="")),z.get(o)||M.scheduleCallback((()=>{N.set(o);const r=R.get(),i=Boolean(r),s=(new Fe).mutate({nativeElement:t,instance:new ne("root",{},y([e||me()])),alternate:r,effectTag:i?ve.UPDATE:ve.CREATE});K.reset(),O.set(s),Y.set(n),F.set(s)}),{priority:i.NORMAL,forceSync:n||_.get()})}(e,en),unmount:()=>function(e){!function(t,n){a(t)||(Ne(R.get(t)),U.unsubscribe(t),N.remove(t),Xt.delete(e),e.innerHTML="")}(Xt.get(e))}(en)}).render(mt(Qt,null))})();
//# sourceMappingURL=build.js.map