(()=>{"use strict";const e=!1,t="dark:idx",n="type",r="key",o="ref",i="flag";var s,l;!function(e){e[e.ANIMATION=3]="ANIMATION",e[e.HIGH=2]="HIGH",e[e.NORMAL=1]="NORMAL",e[e.LOW=0]="LOW"}(s||(s={})),function(e){e.HAS_NO_MOVES="HAS_NO_MOVES"}(l||(l={}));const a=e=>"function"==typeof e,c=e=>void 0===e,u=e=>"number"==typeof e,f=e=>"string"==typeof e,d=e=>"object"==typeof e,m=e=>"boolean"==typeof e,h=e=>Array.isArray(e),p=e=>null===e,g=e=>p(e)||c(e),E=e=>p(e)||c(e)||!1===e,v=()=>Date.now(),y=()=>{};function b(...e){!c(console)&&console.error(...e)}function k(e){const t=[],n={0:{idx:0,source:e}};let r=0;do{const{source:e,idx:o}=n[r],i=e[o];o>=e.length?(r--,n[r]||(n[r]={idx:0,source:[]}),n[r].idx++):h(i)?(r++,n[r]={idx:0,source:i}):(t.push(i),n[r].idx++)}while(r>0||n[r].idx<n[r].source.length);return t}function T(e,t,n=!1){return e.reduce(((e,r)=>(e[t(r)]=!n||r,e)),{})}function w(e,t){if(e&&t&&e.length>0&&t.length>0)for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1}const x=Symbol("component");class C{type;token;props;ref;displayName;children=[];shouldUpdate;constructor(e,t,n,r,o,i){this.type=e||null,this.token=t||x,this.props=n||null,this.ref=r||null,this.shouldUpdate=o||null,this.displayName=i||""}}function I(t,n={}){const{token:r,displayName:o,shouldUpdate:i,keepRef:s=!1}=n;return(n={},l)=>(!s&&n.ref&&(delete n.ref,e&&b("[Dark]: To use ref you need to wrap the component with forwardRef!")),new C(t,r,n,l,i,o))}const H=e=>e instanceof C,M=e=>g(e.props[r])?null:e.props[r],A=e=>e.props[i]||null,S={createNativeElement:()=>{throw new Error(P("createNativeElement"))},requestAnimationFrame:()=>{throw new Error(P("requestAnimationFrame"))},cancelAnimationFrame:()=>{throw new Error(P("cancelAnimationFrame"))},scheduleCallback:()=>{throw new Error(P("scheduleCallback"))},shouldYeildToHost:()=>{throw new Error(P("shouldYeildToHost"))},applyCommit:()=>{throw new Error(P("applyCommit"))},finishCommitWork:()=>{throw new Error(P("finishCommitWork"))},detectIsDynamic:()=>{throw new Error(P("detectIsDynamic"))},detectIsPortal:()=>{throw new Error(P("detectIsPortal"))},unmountPortal:()=>{throw new Error(P("unmountPortal"))},restart:()=>{throw new Error(P("restart"))}},P=e=>`${e} not installed by renderer`;let $=null;const N=new Map;class D{wipRoot=null;currentRoot=null;nextUnitOfWork=null;events=new Map;unsubscribers=[];candidates=new Set;deletions=new Set;fiberMount={level:0,navigation:{},isDeepWalking:!0};componentFiber=null;effects=[];layoutEffects=[];insertionEffects=[];isLayoutEffectsZone=!1;isInserionEffectsZone=!1;isUpdateHookZone=!1;isBatchZone=!1;isHydrateZone=!1;isHot=!1;lazy=new Set}const L={set:e=>{$=e,!N.get($)&&N.set($,new D)},remove:e=>N.delete(e)},O=()=>$,R=(e=$)=>N.get(e),F={get:()=>R()?.wipRoot||null,set:e=>R().wipRoot=e},W={get:e=>R(e)?.currentRoot||null,set:e=>R().currentRoot=e},U={get:()=>R()?.nextUnitOfWork||null,set:e=>R().nextUnitOfWork=e},B={get:()=>R()?.componentFiber,set:e=>R().componentFiber=e},j={get:()=>R().events,addUnsubscriber:e=>R().unsubscribers.push(e),unsubscribe:e=>R(e).unsubscribers.forEach((e=>e()))},K={get:()=>R().candidates,add:e=>R().candidates.add(e),reset:()=>R().candidates=new Set},Z={get:()=>R().deletions,add:e=>R().deletions.add(e),has:e=>R().deletions.has(e),set:e=>R().deletions=e,reset:()=>R().deletions=new Set},G={reset:()=>{R().fiberMount={level:0,navigation:{},isDeepWalking:!0}},getIndex:()=>{const{fiberMount:e}=R();return e.navigation[e.level]},jumpToChild:()=>{const{fiberMount:e}=R();e.level=e.level+1,e.navigation[e.level]=0},jumpToParent:()=>{const{fiberMount:e}=R();e.navigation[e.level]=0,e.level=e.level-1},jumpToSibling:()=>{const{fiberMount:e}=R();e.navigation[e.level]=e.navigation[e.level]+1},deepWalking:{get:()=>R().fiberMount.isDeepWalking,set:e=>R().fiberMount.isDeepWalking=e}},q={get:()=>R().effects,reset:()=>R().effects=[],add:e=>R().effects.push(e)},_={get:()=>R().layoutEffects,reset:()=>R().layoutEffects=[],add:e=>R().layoutEffects.push(e)},z={get:()=>R().insertionEffects,reset:()=>R().insertionEffects=[],add:e=>R().insertionEffects.push(e)},V={get:()=>R()?.isLayoutEffectsZone||!1,set:e=>R().isLayoutEffectsZone=e},X={get:e=>R(e)?.isInserionEffectsZone||!1,set:e=>R().isInserionEffectsZone=e},Y={get:()=>R()?.isUpdateHookZone||!1,set:e=>R().isUpdateHookZone=e},J={get:()=>R()?.isBatchZone||!1,set:e=>R().isBatchZone=e},Q={get:()=>R()?.isHydrateZone||!1,set:e=>R().isHydrateZone=e},ee={get:()=>R()?.isHot||!1,set:e=>R().isHot=e},te=()=>R().lazy.size>0;var ne;!function(e){e.TAG="TAG",e.TEXT="TEXT",e.COMMENT="COMMENT"}(ne||(ne={}));const re=Symbol("virtual-node");class oe{type=null;constructor(e){this.type=e}}class ie extends oe{name=null;attrs={};children=[];constructor(e,t,n){super(ne.TAG),this.name=e||this.name,this.attrs=t||this.attrs,this.children=n||this.children}}class se extends oe{value="";constructor(e){super(ne.TEXT),this.value=e}}class le extends oe{value="";constructor(e){super(ne.COMMENT),this.value=e}}const ae=e=>e instanceof oe,ce=e=>e instanceof ie,ue=e=>e instanceof se,fe=e=>a(e)&&!0===e[re],de=e=>g(e.attrs[r])?null:e.attrs[r],me=e=>e.attrs[i]||null,he=e=>g(e[r])?null:e[r],pe=e=>e[i]||null,ge=()=>new le("dark:matter"),Ee=e=>ue(e)||(e=>e instanceof le)(e);function ve(e){return new se(e+"")}ve.from=e=>ue(e)?e.value:e+"";const ye=Symbol("memo"),be=e=>H(e)&&e.token===ye;var ke;!function(e){e.CREATE="CREATE",e.UPDATE="UPDATE",e.DELETE="DELETE",e.SKIP="SKIP"}(ke||(ke={}));const Te=Symbol("use-effect"),{useEffect:we,hasEffects:xe,dropEffects:Ce}=Ie(Te,q);function Ie(e,t){return{useEffect:function(n,r){const o=B.get().hook,{idx:i,values:s}=o,l=()=>{s[i]={deps:r,token:e,value:void 0},t.add((()=>{s[i].value=n()}))};if(c(s[i]))l();else{const{deps:e,value:t}=s[i];(!r||w(r,e))&&(a(t)&&t(),l())}o.idx++},hasEffects:function(t){const{values:n}=t.hook;return n.some((t=>t?.token===e))},dropEffects:function(t){const{values:n}=t;for(const t of n)if(t.token===e){const e=t.value;a(e)&&e()}}}}const He=Symbol("use-layout-effect"),{useEffect:Me,hasEffects:Ae,dropEffects:Se}=Ie(He,_),Pe=Symbol("use-insertion-effect"),{useEffect:$e,hasEffects:Ne,dropEffects:De}=Ie(Pe,z);function Le(e,t){let n=e,r=!0,o=!1,i=!1;const s={},l=e=>!s[e],a=()=>r=!1,c=()=>i=!0;for(;n&&(t({nextFiber:n,isReturn:o,resetIsDeepWalking:a,stop:c}),!i);)if(n.child&&r&&l(n.child.id)){const e=n.child;o=!1,n=e,s[e.id]=!0}else if(n.nextSibling&&l(n.nextSibling.id)){const e=n.nextSibling;r=!0,o=!1,n=e,s[e.id]=!0}else if(n.parent&&n.parent===e&&n.parent.nextSibling&&l(n.parent.nextSibling.id)){const e=n.parent.nextSibling;r=!0,o=!1,n=e,s[e.id]=!0}else n.parent&&n.parent!==e?(r=!1,o=!0,n=n.parent):n=null}function Oe(e){(e.insertionEffectHost||e.layoutEffectHost||e.effectHost||e.portalHost)&&Le(e,(({nextFiber:t,isReturn:n,stop:r})=>{if(t===e.nextSibling)return r();!n&&H(t.instance)&&(t.insertionEffectHost&&De(t.hook),t.layoutEffectHost&&Se(t.hook),t.effectHost&&Ce(t.hook),t.portalHost&&S.unmountPortal(t))}))}const Re=Symbol("fragment"),Fe=I((({slot:e})=>e||null),{token:Re}),We=e=>H(e)&&e.token===Re,Ue={[ke.CREATE]:!0};class Be{id=0;nativeElement=null;parent=null;child=null;nextSibling=null;alternate=null;move=!1;effectTag=null;instance=null;hook=null;provider=null;effectHost=!1;layoutEffectHost=!1;insertionEffectHost=!1;portalHost=!1;childrenCount=0;childrenElementsCount=0;marker="";isUsed=!1;idx=0;elementIdx=0;batched=null;catchException;static nextId=0;constructor(e=null,t=null,n=0){this.id=++Be.nextId,this.hook=e,this.provider=t,this.idx=n}mutate(e){const t=Object.keys(e);for(const n of t)this[n]=e[n];return this}markEffectHost(){this.effectHost=!0,this.parent&&!this.parent.effectHost&&this.parent.markEffectHost()}markLayoutEffectHost(){this.layoutEffectHost=!0,this.parent&&!this.parent.layoutEffectHost&&this.parent.markLayoutEffectHost()}markInsertionEffectHost(){this.insertionEffectHost=!0,this.parent&&!this.parent.insertionEffectHost&&this.parent.markInsertionEffectHost()}markPortalHost(){this.portalHost=!0,this.parent&&!this.parent.portalHost&&this.parent.markPortalHost()}incrementChildrenElementsCount(e=1,t=!1){!function(e,t=1,n=!1){if(!e.parent)return;const r=Y.get(),o=F.get(),i=r&&o.parent===e.parent;(Ee(e.instance)||ce(e.instance)&&0===e.instance.children.length)&&(e.childrenElementsCount=1),r&&i&&!n||(e.parent.childrenElementsCount+=t,e.parent.nativeElement||e.parent.incrementChildrenElementsCount(t))}(this,e,t)}setError(e){a(this.catchException)?this.catchException(e):this.parent&&this.parent.setError(e)}}function je(){const t=F.get();let n=U.get(),r=!1,o=Boolean(n);const i={fiber$$:null,fiber$:null,instance$:null};for(;n&&!r;)n=Ke(n,i),U.set(n),o=Boolean(n),r=S.shouldYeildToHost();return!n&&t&&function(){if(e&&ee.set(!1),Q.get()&&te())return st(null);const t=F.get(),n=S.detectIsDynamic(),r=Z.get(),o=K.get(),i=Y.get();for(const e of r)Oe(e),S.applyCommit(e);n&&(X.set(!0),z.get().forEach((e=>e())),X.set(!1)),i&&function(e){const t=e.childrenElementsCount-e.alternate.childrenElementsCount;if(0===t)return;const n=function(e){let t=e;for(;t&&(t=t.parent,!t||!t.nativeElement););return t}(e);let r=!1;e.incrementChildrenElementsCount(t,!0),Le(n.child,(({nextFiber:o,resetIsDeepWalking:i,isReturn:s,stop:l})=>o===n?l():o===e?(r=!0,i()):(o.nativeElement&&i(),void(r&&!s&&(o.elementIdx+=t)))))}(t);for(const e of o)e.effectTag!==ke.SKIP&&S.applyCommit(e),e.alternate=null;t.alternate=null,S.finishCommitWork(),n&&(V.set(!0),_.get().forEach((e=>e())),V.set(!1)),n&&function(){const e=q.get();e.length>0&&setTimeout((()=>e.forEach((e=>e()))))}(),st(t)}(),o}function Ke(e,t){let n=!0,r=e,o=e.instance;for(;;){if(n=G.deepWalking.get(),r.hook&&(r.hook.idx=0),n)if(rt(o)&&o.children.length>0){if(Ze(r,t),r=t.fiber$,o=t.instance$,t.fiber$$=null,t.fiber$=null,t.instance$=null,r)return r}else{Ge(r,t);const e=t.fiber$$;if(r=t.fiber$,o=t.instance$,t.fiber$$=null,t.fiber$=null,t.instance$=null,e)return e}else{Ge(r,t);const e=t.fiber$$;if(r=t.fiber$,o=t.instance$,t.fiber$$=null,t.fiber$=null,t.instance$=null,e)return e}if(null===r.parent)return null}}function Ze(e,t){G.jumpToChild();let n=e.instance;const r=e.alternate?e.alternate.child:null,o=new Be(it(r,r?r.instance:null,rt(n)?n.children[0]:null),r?r.provider:null,0);B.set(o),o.parent=e,e.child=o,o.elementIdx=e.nativeElement?0:e.elementIdx,n=Ye(n,0,o),r&&Ve(r,n),qe(o,r,n),r&&be(o.instance)&&Xe(o),K.add(o),t.fiber$$=null,t.fiber$=o,t.instance$=n}function Ge(e,t){G.jumpToSibling();let n=e.parent.instance;const r=G.getIndex();if(rt(n)&&n.children[r]){G.deepWalking.set(!0);const o=e.alternate?e.alternate.nextSibling:null,i=new Be(it(o,o?o.instance:null,rt(n)?n.children[r]:null),o?o.provider:null,r);return B.set(i),i.parent=e.parent,e.nextSibling=i,i.elementIdx=e.elementIdx+(e.nativeElement?1:e.childrenElementsCount),n=Ye(n,r,i),o&&Ve(o,n),qe(i,o,n),o&&be(i.instance)&&Xe(i),K.add(i),t.fiber$$=i,t.fiber$=i,void(t.instance$=n)}G.jumpToParent(),G.deepWalking.set(!1),n=(e=e.parent).instance,rt(e.instance)&&(e.instance.children=[]),t.fiber$$=null,t.fiber$=e,t.instance$=n}function qe(e,t,n){let r=!1;Ue[e.parent.effectTag]&&(e.effectTag=e.parent.effectTag),e.effectTag!==ke.CREATE&&(r=t&&ot(t.instance,n)&&(t?et(t.instance):null)===et(n)),e.instance=n,e.alternate=t||null,e.nativeElement=r?t.nativeElement:null,e.effectTag=r?ke.UPDATE:ke.CREATE,t&&t.move&&(e.move=t.move,t.move=!1),rt(e.instance)&&(e.childrenCount=e.instance.children.length),!e.nativeElement&&ae(e.instance)&&(e.nativeElement=S.createNativeElement(e.instance),e.effectTag=ke.CREATE),e.nativeElement&&e.incrementChildrenElementsCount()}function _e(e,t,n){return 0===e||t.child&&t.child.effectTag===ke.DELETE?(t.child=n,n.parent=t):(t.nextSibling=n,n.parent=t.parent),n}function ze(e,t){return(new Be).mutate({effectTag:ke.CREATE,instance:ge(),parent:e,marker:t+""})}function Ve(t,n){const r=ot(t.instance,n),o=function(e){return H(e)?A(e):fe(e)?pe(e):ce(e)?me(e):null}(n),i=o&&o[l.HAS_NO_MOVES];if(t.isUsed=!0,r){if(rt(t.instance)&&rt(n)&&0!==t.childrenCount&&(!i||t.childrenCount!==n.children.length)){const{prevKeys:r,nextKeys:o,prevKeysMap:i,nextKeysMap:s,keyedFibersMap:l}=function(t,n){let r=t,o=0;const i=[],s=[],l={},a={},c={},u={};for(;r||o<n.length;){if(r){const e=et(r.instance),t=g(e)?Qe(o):e;i.push(t),l[t]=!0,c[t]=r}if(n[o]){const t=n[o],r=et(t),i=g(r)?Qe(o):r;e&&(u[i]&&b(`[Dark]: The key of node [${i}] already has been used!`,[t]),u[i]=!0),s.push(i),a[i]=!0}r=r?r.nextSibling:null,o++}return{prevKeys:i,nextKeys:s,prevKeysMap:l,nextKeysMap:a,keyedFibersMap:c}}(t.child,n.children);let a=[],c=Math.max(r.length,o.length),u=t,f=0,d=0,m=0;for(let n=0;n<c;n++){const h=o[n-m]??null,p=r[n-d]??null,g=l[p]||null,E=l[h]||ze(t,h);h!==p?null===h||i[h]?s[p]?s[p]&&s[h]&&(e&&a.push([[h,p],"move"]),E.effectTag=ke.UPDATE,g.effectTag=ke.UPDATE,E.move=!0,u=_e(n,u,E)):(e&&a.push([p,"remove"]),g.effectTag=ke.DELETE,Z.add(g),m++,f--,c++):(null===p||s[p]?(e&&a.push([h,"insert"]),E.effectTag=ke.CREATE,d++,c++):(e&&a.push([[h,p],"replace"]),E.effectTag=ke.CREATE,g.effectTag=ke.DELETE,Z.add(g)),u=_e(n,u,E)):null!==h&&(e&&a.push([h,"stable"]),E.effectTag=ke.UPDATE,u=_e(n,u,E)),E.idx=f,f++}a=[]}}else(function(e){let t=e.parent;for(;t;){if(t.effectTag===ke.DELETE)return!1;t=t.parent}return!0})(t)&&(t.effectTag=ke.DELETE,Z.add(t))}function Xe(t){if(e&&ee.get())return;const n=t.alternate,r=n.instance,o=t.instance;if(t.move||o.type!==r.type||o.shouldUpdate(r.props,o.props))return;G.deepWalking.set(!1),t.effectTag=ke.SKIP,t.alternate=n,t.nativeElement=n.nativeElement,t.child=n.child,t.hook=n.hook,t.provider=n.provider,t.childrenCount=n.childrenCount,t.childrenElementsCount=n.childrenElementsCount,t.catchException=n.catchException,t.child&&(t.child.parent=t);const i=t.elementIdx-n.elementIdx;0!==i&&Le(t.child,(({nextFiber:e,stop:n})=>e===t.nextSibling||e===t.parent?n():(e.elementIdx+=i,e.parent!==t&&e.nativeElement?n():void 0))),t.incrementChildrenElementsCount(n.childrenElementsCount),n.effectHost&&t.markEffectHost(),n.layoutEffectHost&&t.markLayoutEffectHost(),n.insertionEffectHost&&t.markInsertionEffectHost(),n.portalHost&&t.markPortalHost()}function Ye(e,t,n){let r=null;return rt(e)&&(h(e.children[t])&&e.children.splice(t,1,...k(e.children[t])),r=Je(n,e.children[t]),H(r)&&(xe(n)&&n.markEffectHost(),Ae(n)&&n.markLayoutEffectHost(),Ne(n)&&n.markInsertionEffectHost(),S.detectIsPortal(r)&&n.markPortalHost())),r}function Je(e,t){let n=t;const r=H(n),o=n;if(r)try{let e=o.type(o.props,o.ref);h(e)&&!We(o)?e=Fe({slot:e}):(f(e)||u(e))&&(e=ve(e)),o.children=h(e)?k(e):[e]}catch(t){o.children=[],e.setError(t),b(t)}else fe(n)&&(n=n());if(rt(n)){n.children=r?n.children:h(n.children)?k(n.children):[n.children];for(let e=0;e<n.children.length;e++)n.children[e]||(n.children[e]=tt(n.children[e]));r&&0===o.children.length&&o.children.push(ge())}return n}function Qe(e){return`${t}:${e}`}function et(e){return H(e)?M(e):fe(e)?he(e):ce(e)?de(e):null}function tt(e){return E(e)?ge():e}function nt(e){return fe(e)?e[n]:ce(e)?e.name:ae(e)||H(e)?e.type:null}function rt(e){return ce(e)||H(e)}function ot(t,n,r=!1){if(e&&ee.get()&&H(t)&&H(n))return t.displayName===n.displayName;if(r){const e=n;return t.type===e.type}return nt(t)===nt(n)}function it(e,t,n){return e&&function(e,t){return!!(e&&t&&H(e)&&H(t)&&ot(e,t,!0))&&et(e)===et(t)}(t,n)?e.hook:H(n)?{idx:0,values:[]}:null}function st(e){F.set(null),K.reset(),Z.reset(),z.reset(),_.reset(),q.reset(),Y.get()?Y.set(!1):W.set(e)}const lt=()=>Boolean(F.get()),at=I((({slot:e})=>e),{token:ye});function ct(e){return fe(e)||H(e)}function ut(e,t=!1){return function(e,t){if(h(e)?ct(e[0]):ct(e)){const n=at({slot:Fe({slot:e})});return n.shouldUpdate=()=>t,n}return e}(e(),t)}function ft(e,t){const n=B.get(),{hook:r}=n,{idx:o,values:i}=r;if(c(i[o])){const n=ut(e);return i[o]={deps:t,value:n},r.idx++,n}const s=i[o],l=w(t,s.deps),a=l?e:()=>s.value;return s.deps=t,s.value=ut(a,l),r.idx++,s.value}function dt(e){const t=O(),n=ft((()=>({fiber:null})),[]);return n.fiber=B.get(),r=>{if(X.get())return;const o=function(e){const{rootId:t,fiber:n,forceStart:r=!1,onStart:o}=e;return()=>{n.effectTag!==ke.DELETE&&(r&&o(),n.isUsed||(!r&&o(),L.set(t),Y.set(!0),G.reset(),n.alternate=(new Be).mutate(n),n.marker="🔥",n.effectTag=ke.UPDATE,n.childrenElementsCount=0,n.child=null,F.set(n),B.set(n),n.instance=Je(n,n.instance),U.set(n)))}}({rootId:t,fiber:n.fiber,forceStart:Boolean(e?.timeoutMs),onStart:r||y});V.get()&&(e={...e||{},forceSync:!0}),J.get()?function(e,t){e.batched&&clearTimeout(e.batched),e.batched=setTimeout((()=>{J.set(!1),e.batched=null,t()}))}(n.fiber,(()=>S.scheduleCallback(o,e))):S.scheduleCallback(o,e)}}function mt(e){if(!e)throw new Error("[Dark]: initial value is not object or array");const t=dt();return ft((()=>ht(a(e)?e():e,t)),[])}function ht(e,t){let n=e;if(d(e)&&!p(e)){n=new Proxy(e,{set:function(e,n,r){return e[n]===r||(e[n]=ht(r,t),o=()=>{t()},J.set(!0),o()),!0;var o}});for(const n of Object.keys(e))e[n]=ht(e[n],t)}return n}function pt(e){return(e=e.map((e=>f(e)||u(e)?ve(e.toString()):e)))?Array.isArray(e)?[...e]:[e]:[]}function gt(e,t,...o){if(f(e))return function(e){const t=()=>{const{as:t,slot:n,_void:r=!1,...o}=e,i=r?[]:h(n)?n:n?[n]:[];return new ie(t,o,i)};return t[re]=!0,t[r]=e.key,t[i]=e.flag,t[n]=e.as,t}({...t,as:e,slot:pt(o)});if(a(e)){let n=pt(o);return n=1===n.length?n[0]:n,e({...t,slot:n})}return null}const Et=Symbol("portal");I((({slot:e,...t})=>(ft((()=>t[Et].innerHTML=""),[]),e)),{token:Et});const vt=e=>H(e)&&e.token===Et,yt=e=>vt(e)?e.props[Et]:null;function bt(e){const t=yt(e.instance);t&&(t.innerHTML="")}class kt{type="";sourceEvent=null;target=null;propagation=!0;constructor(e){this.type=e.sourceEvent.type,this.sourceEvent=e.sourceEvent,this.target=e.target}stopPropagation(){this.propagation=!1,this.sourceEvent.stopPropagation()}preventDefault(){this.sourceEvent.preventDefault()}getPropagation(){return this.propagation}}function Tt(e){const{target:t,eventName:n,handler:r}=e,o=j.get(),i=o.get(n);if(i)i.set(t,r);else{const e=e=>{const t=o.get(n).get(e.target),r=e.target;let i=null;a(t)&&(i=new kt({sourceEvent:e,target:r}),t(i)),(i?i.getPropagation():r.parentElement)&&r.parentElement.dispatchEvent(new e.constructor(e.type,e))};o.set(n,new WeakMap([[t,r]])),document.addEventListener(n,e,!0),j.addUnsubscriber((()=>document.removeEventListener(n,e,!0)))}}const wt=e=>e.startsWith("on"),xt=e=>e.slice(2,e.length).toLowerCase(),Ct={[r]:!0,[o]:!0,[i]:!0},It={transform:!0,fill:!0};let Ht=[];const Mt=T("svg,animate,animateMotion,animateTransform,circle,clipPath,defs,desc,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,image,line,linearGradient,marker,mask,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,stop,switch,symbol,text,textPath,tspan,use,view".split(","),(e=>e)),At=T("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr".split(","),(e=>e)),St={[ne.TAG]:e=>{const t=e;return n=t.name,Boolean(Mt[n])?document.createElementNS("http://www.w3.org/2000/svg",t.name):document.createElement(t.name);var n},[ne.TEXT]:e=>document.createTextNode(e.value),[ne.COMMENT]:e=>document.createComment(e.value)};function Pt(e){return St[e.type](e)}function $t(e,t){!function(e,t){a(e)?e(t):function(e){if(!d(e)||p(e))return!1;const t=e;for(const e in t)if("current"===e&&t.hasOwnProperty(e))return!0;return!1}(e)&&(e.current=t)}(e,t)}function Nt(e){const{tagName:t,element:n,attrName:r,attrValue:o}=e,i=Dt[t];let s=!!i&&i(n,r,o);var l,a;return a=r,(l=Object.getPrototypeOf(n)).hasOwnProperty(a)&&Boolean(Object.getOwnPropertyDescriptor(l,a)?.set)&&(n[r]=o),!s&&m(o)&&(s=!r.includes("-")),s}const Dt={input:(e,t,n)=>("value"===t&&m(n)?e.checked=n:"autoFocus"===t&&(e.autofocus=Boolean(n)),!1),textarea:(e,t,n)=>"value"===t&&(e.innerHTML=String(n),!0)};function Lt(e){let t=e;for(;t;)if(t=t.parent,vt(t.instance)&&(t.nativeElement=yt(t.instance)),t.nativeElement)return t;return t}const Ot={[ke.CREATE]:e=>{null!==e.nativeElement&&function(e){const t=Lt(e),n=t.nativeElement,r=n.childNodes;if(Q.get()){const t=r[e.elementIdx];ue(e.instance)&&t instanceof Text&&e.instance.value.length!==t.length&&t.splitText(e.instance.value.length),e.nativeElement=t}else 0===r.length||e.elementIdx>r.length-1?(i=t.instance.name,!Boolean(At[i])&&function(e,t){t.appendChild(e.nativeElement)}(e,n)):function(e,t){t.insertBefore(e.nativeElement,t.childNodes[e.elementIdx])}(e,n);var i;ce(e.instance)&&function(e,t){const n=Object.keys(t.attrs),r=e;for(const i of n){const n=t.attrs[i];i!==o?a(n)?wt(i)&&Tt({target:r,handler:n,eventName:xt(i)}):c(n)||Ct[i]||!Nt({tagName:t.name,element:r,attrValue:n,attrName:i})&&r.setAttribute(i,n):$t(n,e)}}(e.nativeElement,e.instance)}(e)},[ke.UPDATE]:e=>{e.move&&(function(e){const t=function(e){const t=[];return Le(e,(({nextFiber:n,isReturn:r,resetIsDeepWalking:o,stop:i})=>n===e.nextSibling||n===e.parent?i():!r&&n.nativeElement?(!vt(n.instance)&&t.push(n.nativeElement),o()):void 0)),t}(e),n=t[0].parentElement,r=new DocumentFragment,o=e.elementIdx;let i=0;for(const e of t)n.insertBefore(document.createComment(`${o}:${i}`),e),r.appendChild(e),i++;Ht.push((()=>{for(let e=1;e<t.length;e++)n.removeChild(n.childNodes[o+1]);n.replaceChild(r,n.childNodes[o])}))}(e),e.move=!1),null===e.nativeElement||H(e.instance)||function(e){const t=e.nativeElement,n=e.alternate.instance,r=e.instance;Ee(n)&&Ee(r)?n.value!==r.value&&(t.textContent=r.value):function(e,t,n){const r=Object.keys(n.attrs),i=e;for(const s of r){const r=t.attrs[s],l=n.attrs[s];s!==o?c(l)?i.removeAttribute(s):a(r)?wt(s)&&r!==l&&Tt({target:i,handler:l,eventName:xt(s)}):Ct[s]||r===l||(It[s]||!Nt({tagName:n.name,element:i,attrValue:l,attrName:s}))&&i.setAttribute(s,l):$t(r,e)}}(t,n,r)}(e)},[ke.DELETE]:e=>function(e){const t=Lt(e);Le(e,(({nextFiber:n,isReturn:r,resetIsDeepWalking:o,stop:i})=>n===e.nextSibling||n===e.parent?i():!r&&n.nativeElement?(!vt(n.instance)&&t.nativeElement.removeChild(n.nativeElement),o()):void 0))}(e),[ke.SKIP]:()=>{}};function Rt(e){Ot[e.effectTag](e)}function Ft(){for(const e of Ht)e();Ht=[],Q.set(!1)}const Wt={animations:[],hight:[],normal:[],low1:[],low2:[]},Ut=1e5;let Bt=null,jt=0,Kt=!1,Zt=null;class Gt{static nextTaskId=0;id;time;timeoutMs;priority;forceSync;callback;constructor(e){this.id=++Gt.nextTaskId,this.time=e.time,this.timeoutMs=e.timeoutMs,this.priority=e.priority,this.forceSync=e.forceSync,this.callback=e.callback}}const qt=()=>v()>=jt;function _t(e,t){const{priority:n=s.NORMAL,timeoutMs:r=0,forceSync:o=!1}=t||{},i=new Gt({time:v(),timeoutMs:r,priority:n,forceSync:o,callback:e});({[s.ANIMATION]:()=>Wt.animations.push(i),[s.HIGH]:()=>Wt.hight.push(i),[s.NORMAL]:()=>Wt.normal.push(i),[s.LOW]:()=>i.timeoutMs>0?Wt.low2.push(i):Wt.low1.push(i)})[i.priority](),Vt()}function zt(e){if(!e.length)return!1;Zt=e.shift();const t=Zt.priority===s.ANIMATION;return Zt.callback(),Zt.forceSync||t?function(e){for(;e(););Vt(),Zt=null}(je):(Bt=je,Kt||(Kt=!0,Yt.postMessage(null))),!0}function Vt(){lt()||function(){const[e]=Wt.low2;return!!(e&&v()-e.time>e.timeoutMs)&&(zt(Wt.low2),!0)}()||(Wt.low1.length>Ut&&(Wt.low1=[]),0)||Wt.animations.length>0&&zt(Wt.animations)||Wt.hight.length>0&&zt(Wt.hight)||Wt.normal.length>0&&zt(Wt.normal)||Wt.low1.length>0&&requestIdleCallback((()=>zt(Wt.low1)))||Wt.low2.length>0&&requestIdleCallback((()=>zt(Wt.low2)))}let Xt=null,Yt=null;Xt=new MessageChannel,Yt=Xt.port2,Xt.port1.onmessage=function(){if(Bt){jt=v()+4;try{Bt()?Yt.postMessage(null):(Zt=null,Kt=!1,Bt=null,Vt())}catch(e){throw Yt.postMessage(null),e}}else Kt=!1};let Jt=!1;const Qt=new Map;const en=e=>{let t=0;return function(e){let t,n=e.length;for(;0!=n;)t=Math.floor(Math.random()*n),n--,[e[n],e[t]]=[e[t],e[n]];return e}(Array(e).fill(0).map((()=>({id:++t,name:`${t}`}))))},tn=I((({items:e,getKey:t,duration:n=1e3,slot:r})=>{const[o,i]=function(e,t){const n=dt(t),r=ft((()=>({value:a(e)?e():e})),[]),o=(i=e=>{const o=r.value,i=a(e)?e(o):e;if(!Object.is(o,i)){const e=()=>r.value=i;t?.priority===s.LOW?n((()=>e())):(e(),n())}},ft((()=>i),[]));var i;return[r.value,o]}(e),l=function(e=null){return ft((()=>({current:e})),[])}(null),c=ft((()=>({refs:{indexed:{},keyed:{}},rects:{},items:o,timerId:null,timerId2:null,firstRender:!0,isTransition:!1})),[]);we((()=>{const e=()=>{let e=0;for(const t of Array.from(l.current.children))c.rects[e]=t.getBoundingClientRect(),e++};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),Me((()=>{c.firstRender||(c.isTransition=!0,!c.timerId&&u(o,!0),c.items=e,requestAnimationFrame((()=>{document.body.clientHeight,u(e,!1)})))}),[e]),we((()=>{c.firstRender||f(o)}),[o]),we((()=>{c.firstRender=!1}),[o]);const u=(e,r)=>{let o=0;for(const i of e){const e=c.rects[o],s=t(i),l=c.refs.keyed[s];l.style.setProperty("position","absolute"),l.style.setProperty("width",`${e.width}px`),l.style.setProperty("height",`${e.height}px`),l.style.setProperty("transform",`translate(${e.left}px, ${e.top}px)`),r||(l.style.setProperty("transition",`transform ${n}ms ease-in-out, opacity ${n/2}ms ease-in-out`),l.style.setProperty("opacity","0.5")),o++}!r&&c.timerId&&window.clearTimeout(c.timerId),c.timerId=window.setTimeout((()=>{c.timerId=null,i(c.items)}),n)},f=e=>{for(const r of e){const e=t(r),o=c.refs.keyed[e];o.style.setProperty("transition",`opacity ${n/2}ms ease-in-out`),o.style.setProperty("opacity","1"),o.style.removeProperty("position"),o.style.removeProperty("width"),o.style.removeProperty("height"),o.style.removeProperty("transform")}c.isTransition=!1,c.timerId2&&window.clearTimeout(c.timerId2),c.timerId2=window.setTimeout((()=>{if(c.timerId2=null,!c.isTransition)for(const n of e){const e=t(n);c.refs.keyed[e].removeAttribute("style")}}),n/2)};return r({items:o,containerRef:l,itemRef:(e,t)=>n=>{c.refs.indexed[e]=n,c.refs.keyed[t]=n}})})),nn=I((()=>{const e=mt({items:en(100)});return gt(Fe,null,gt("div",{class:"content"},gt(tn,{items:e.items,getKey:e=>e.id,duration:1e3},(({items:e,containerRef:t,itemRef:n})=>gt("div",{ref:t,class:"grid"},e.map(((e,t)=>{const r=e.id;return gt("div",{ref:n(t,r),key:r,class:"grid-item"},gt("span",null,e.name))}))))),gt("div",{class:"button-layout"},gt("button",{class:"button",onClick:()=>{e.items=en(e.items.length)}},"shuffle"))))}));var rn;(rn=document.getElementById("root"),{render:e=>function(e,t,n=!1){if(!Jt&&function(){S.createNativeElement=Pt,S.requestAnimationFrame=requestAnimationFrame.bind(this),S.cancelAnimationFrame=cancelAnimationFrame.bind(this),S.scheduleCallback=_t,S.shouldYeildToHost=qt,S.applyCommit=Rt,S.finishCommitWork=Ft,S.detectIsDynamic=()=>!0,S.detectIsPortal=vt,S.unmountPortal=bt,S.restart=()=>{},Jt=!0}(),!(t instanceof Element))throw new Error("[Dark]: render receives only Element as container!");const r=!c(Qt.get(t));let o=null;r?o=Qt.get(t):(o=Qt.size,Qt.set(t,o),n||(t.innerHTML="")),X.get(o)||S.scheduleCallback((()=>{L.set(o);const r=W.get(),i=Boolean(r),s=(new Be).mutate({nativeElement:t,instance:new ie("root",{},k([e||ge()])),alternate:r,effectTag:i?ke.UPDATE:ke.CREATE});G.reset(),F.set(s),Q.set(n),U.set(s)}),{priority:s.NORMAL,forceSync:n||V.get()})}(e,rn),unmount:()=>function(e){!function(t,n){c(t)||(Oe(W.get(t)),j.unsubscribe(t),L.remove(t),Qt.delete(e),e.innerHTML="")}(Qt.get(e))}(rn)}).render(gt(nn,null))})();
//# sourceMappingURL=build.js.map