(()=>{"use strict";var t,e,n=function(t,e,n,o){this.min=t,this.max=e,this.mean=n,this.last=o},o=function(){function t(t){this.samples=[],this.maxSamples=t,this._i=-1}return t.prototype.addSample=function(t){this._i=(this._i+1)%this.maxSamples,this.samples[this._i]=t},t.prototype.each=function(t){for(var e=this.samples,n=0;n<e.length;n++)t(e[(this._i+1+n)%e.length],n)},t.prototype.calc=function(){var t=this.samples;if(0===t.length)return new n(0,0,0,0);for(var e=t[(this._i+1)%t.length],o=e,s=0,i=0;i<t.length;i++){var r=t[(this._i+1+i)%t.length];r<e&&(e=r),r>o&&(o=r),s+=r}var l=t[this._i],a=s/t.length;return new n(e,o,a,l)},t}(),s=[],i=-1,r=(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}),l=function(){function t(t){var e=this;this._sync=function(){e.sync(),e._dirty=!1},this.name=t,this.element=document.createElement("div"),this.element.style.cssText="padding: 2px;background-color: #020;font-family: monospace;font-size: 12px;color: #0f0",this._dirty=!1,this.invalidate()}return t.prototype.invalidate=function(){var t;this._dirty||(this._dirty=!0,t=this._sync,s.push(t),-1===i&&requestAnimationFrame((function(t){i=-1;var e=s;s=[];for(var n=0;n<e.length;n++)e[n]()})))},t.prototype.sync=function(){throw new Error("sync method not implemented")},t}();!function(t){t[t.HideMin=1]="HideMin",t[t.HideMax=2]="HideMax",t[t.HideMean=4]="HideMean",t[t.HideLast=8]="HideLast",t[t.HideGraph=16]="HideGraph",t[t.RoundValues=32]="RoundValues"}(e||(e={}));var a=function(t){function n(n,o,s,i){var r=t.call(this,n)||this;r.flags=o,r.unitName=s,r.samples=i;var l=document.createElement("div");l.style.cssText="text-align: center",l.textContent=r.name;var a=document.createElement("div");return 0==(o&e.HideMin)?(r.minText=document.createElement("div"),a.appendChild(r.minText)):r.minText=null,0==(o&e.HideMax)?(r.maxText=document.createElement("div"),a.appendChild(r.maxText)):r.maxText=null,0==(o&e.HideMean)?(r.meanText=document.createElement("div"),a.appendChild(r.meanText)):r.meanText=null,0==(o&e.HideLast)?(r.lastText=document.createElement("div"),a.appendChild(r.lastText)):r.lastText=null,r.element.appendChild(l),r.element.appendChild(a),0==(o&e.HideGraph)?(r.canvas=document.createElement("canvas"),r.canvas.style.cssText="display: block; padding: 0; margin: 0",r.canvas.width=100,r.canvas.height=30,r.ctx=r.canvas.getContext("2d"),r.element.appendChild(r.canvas)):(r.canvas=null,r.ctx=null),r}return r(n,t),n.prototype.sync=function(){var t,n,o,s,i=this,r=this.samples.calc(),l=30/(1.2*r.max);0==(this.flags&e.RoundValues)?(t=r.min.toFixed(2),n=r.max.toFixed(2),o=r.mean.toFixed(2),s=r.last.toFixed(2)):(t=Math.round(r.min).toString(),n=Math.round(r.max).toString(),o=Math.round(r.mean).toString(),s=Math.round(r.last).toString()),null!==this.minText&&(this.minText.textContent="min: Â "+t+this.unitName),null!==this.maxText&&(this.maxText.textContent="max: Â "+n+this.unitName),null!==this.meanText&&(this.meanText.textContent="mean: "+o+this.unitName),null!==this.lastText&&(this.lastText.textContent="last: "+s+this.unitName),null!==this.ctx&&(this.ctx.fillStyle="#010",this.ctx.fillRect(0,0,100,30),this.ctx.fillStyle="#0f0",this.samples.each((function(t,e){i.ctx.fillRect(e,30,1,-t*l)})))},n}(l),c=(function(t){function e(e,n){var o=t.call(this,e)||this;return o.counter=n,o.text=document.createElement("div"),o.element.appendChild(o.text),o}r(e,t),e.prototype.sync=function(){this.text.textContent=this.name+": "+this.counter.value}}(l),null);function u(){c||((c=document.createElement("div")).style.cssText="position: fixed;opacity: 0.9;right: 0;bottom: 0",document.body.appendChild(c))}const f="dark:matter",d="dark:idx",h="type",p="key",m="ref",g="flag",v=10;var x,y;!function(t){t[t.ANIMATION=3]="ANIMATION",t[t.HIGH=2]="HIGH",t[t.NORMAL=1]="NORMAL",t[t.LOW=0]="LOW"}(x||(x={})),function(t){t.NM="NM"}(y||(y={}));const E=t=>"function"==typeof t,w=t=>void 0===t,b=t=>"number"==typeof t,k=t=>"string"==typeof t,H=t=>"object"==typeof t,M=t=>"boolean"==typeof t,C=t=>Array.isArray(t),T=t=>null===t,S=t=>T(t)||w(t),$=t=>T(t)||w(t)||!1===t,I=()=>Date.now(),N=()=>{};function F(t){const e=[],n={0:{idx:0,source:t}};let o=0;do{const{source:t,idx:s}=n[o],i=t[s];s>=t.length?(o--,n[o]||(n[o]={idx:0,source:[]}),n[o].idx++):C(i)?(o++,n[o]={idx:0,source:i}):(e.push(i),n[o].idx++)}while(o>0||n[o].idx<n[o].source.length);return e}function A(t,e,n=!1){return t.reduce(((t,o)=>(t[e(o)]=!n||o,t)),{})}function O(t,e){if(t&&e&&t.length>0&&e.length>0)for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1}const L=Symbol("component");class P{type;token;props;ref;dn;su;children=[];constructor(t,e,n,o,s,i){this.type=t,this.token=e||L,this.props=n,o&&(this.ref=o),s&&(this.su=s),i&&(this.dn=i)}}function D(t,e={}){const{token:n,displayName:o,shouldUpdate:s,keepRef:i=!1}=e;return(e={},r)=>(!i&&e.ref&&delete e.ref,new P(t,n,e,r,s,o))}const _=t=>t instanceof P,Z=t=>S(t.props[p])?null:t.props[p],B=t=>t.props[g]||null,G={createElement:()=>{throw new Error(R())},insertElement:()=>{throw new Error(R())},raf:()=>{throw new Error(R())},caf:()=>{throw new Error(R())},schedule:()=>{throw new Error(R())},shouldYield:()=>{throw new Error(R())},commit:()=>{throw new Error(R())},finishCommit:()=>{throw new Error(R())},detectIsDynamic:()=>{throw new Error(R())},detectIsPortal:()=>{throw new Error(R())},unmountPortal:()=>{throw new Error(R())},chunk:()=>{throw new Error(R())}},R=()=>"Function not installed by renderer!",U=()=>!G.detectIsDynamic();let j=null;const z=new Map;class K{root=null;wip=null;unit=null;cur=null;events=new Map;off=[];candidates=new Set;deletions=new Set;mount={level:0,nav:{},deep:!0};effects=[];lEffects=[];iEffects=[];isLEFZone=!1;isIEFZone=!1;uZone=!1;bZone=!1;hZone=!1;sZone=!1;isHot=!1}const q={set:t=>{j=t,!z.get(j)&&z.set(j,new K)},remove:t=>z.delete(t)},V=()=>j,W=(t=j)=>z.get(t),X={get:()=>W()?.wip||null,set:t=>W().wip=t},Y={get:t=>W(t)?.root||null,set:t=>W().root=t},J={get:()=>W()?.unit||null,set:t=>W().unit=t},Q={get:()=>W()?.cur,set:t=>W().cur=t},tt={get:()=>W().events,addUnsubscriber:t=>W().off.push(t),unsubscribe:t=>W(t).off.forEach((t=>t()))},et={get:()=>W().candidates,add:t=>W().candidates.add(t),reset:()=>W().candidates=new Set},nt={get:()=>W().deletions,add:t=>W().deletions.add(t),has:t=>W().deletions.has(t),set:t=>W().deletions=t,reset:()=>W().deletions=new Set},ot={reset:()=>{W().mount={level:0,nav:{},deep:!0}},getIndex:()=>{const{mount:t}=W();return t.nav[t.level]},toChild:()=>{const{mount:t}=W();t.level=t.level+1,t.nav[t.level]=0},toParent:()=>{const{mount:t}=W();t.nav[t.level]=0,t.level=t.level-1},toSibling:()=>{const{mount:t}=W();t.nav[t.level]=t.nav[t.level]+1},deep:{get:()=>W().mount.deep,set:t=>W().mount.deep=t}},st={get:()=>W().effects,reset:()=>W().effects=[],add:t=>W().effects.push(t)},it={get:()=>W().lEffects,reset:()=>W().lEffects=[],add:t=>W().lEffects.push(t)},rt={get:()=>W().iEffects,reset:()=>W().iEffects=[],add:t=>W().iEffects.push(t)},lt={get:()=>W()?.isLEFZone||!1,set:t=>W().isLEFZone=t},at={get:t=>W(t)?.isIEFZone||!1,set:t=>W().isIEFZone=t},ct={get:()=>W()?.uZone||!1,set:t=>W().uZone=t},ut={get:()=>W()?.bZone||!1,set:t=>W().bZone=t},ft={get:()=>W()?.hZone||!1,set:t=>W().hZone=t},dt={get:()=>W()?.sZone||!1,set:t=>W().sZone=t};var ht;!function(t){t.TAG="TAG",t.TEXT="TEXT",t.COMMENT="COMMENT"}(ht||(ht={}));const pt=Symbol("vNode");class mt{type=null;constructor(t){this.type=t}}class gt extends mt{name;attrs;children=[];constructor(t,e,n){super(ht.TAG),this.name=t||this.name,Object.keys(e).length>0&&(this.attrs=e),this.children=n||this.children}}class vt extends mt{value="";constructor(t){super(ht.TEXT),this.value=t}}class xt extends mt{value="";constructor(t){super(ht.COMMENT),this.value=t}}const yt=t=>t instanceof mt,Et=t=>t instanceof gt,wt=t=>t instanceof xt,bt=t=>t instanceof vt,kt=t=>E(t)&&!0===t[pt],Ht=t=>t.attrs&&!S(t.attrs[p])?t.attrs[p]:null,Mt=t=>t.attrs&&t.attrs[g]||null,Ct=t=>S(t[p])?null:t[p],Tt=t=>t[g]||null,St=()=>new xt(f),$t=t=>bt(t)||wt(t),It=t=>wt(t)&&t.value===f;function Nt(t){return new vt(t+"")}Nt.from=t=>bt(t)?t.value:t+"";class Ft{id=0;cc=0;cec=0;idx=0;eidx=0;element=null;parent=null;child;next;alt;move;tag=null;inst=null;hook;provider;efHost;lefHost;iefHost;aHost;pHost;marker;used;shadow;batch;flush;catch;cleanup;static nextId=0;constructor(t=null,e=null,n=0){this.id=++Ft.nextId,this.idx=n,t&&(this.hook=t),e&&(this.provider=e)}mutate(t){const e=Object.keys(t);for(const n of e)this[n]=t[n];return this}markEFHost(){this.efHost=!0,this.parent&&!this.parent.efHost&&this.parent.markEFHost()}markLEFHost(){this.lefHost=!0,this.parent&&!this.parent.lefHost&&this.parent.markLEFHost()}markIEFHost(){this.iefHost=!0,this.parent&&!this.parent.iefHost&&this.parent.markIEFHost()}markAHost(){this.aHost=!0,this.parent&&!this.parent.aHost&&this.parent.markAHost()}markPHost(){this.pHost=!0,this.parent&&!this.parent.pHost&&this.parent.markPHost()}incCEC(t=1,e=!1){if(!this.parent)return;const n=ct.get(),o=X.get(),s=n&&o.parent===this.parent;($t(this.inst)||Et(this.inst)&&0===this.inst.children.length)&&(this.cec=1),n&&s&&!e||(this.parent.cec+=t,this.parent.element||this.parent.incCEC(t))}setError(t){E(this.catch)?this.catch(t):this.parent&&this.parent.setError(t)}static setNextId(t){Ft.nextId=t}}var At;!function(t){t.C="C",t.U="U",t.D="D",t.S="S"}(At||(At={}));const Ot=Symbol("memo"),Lt=t=>_(t)&&t.token===Ot,Pt=Symbol("lazy"),Dt=Symbol("loaded"),_t=t=>_(t)&&t.token===Pt,Zt=t=>_(t)&&t.type[Dt],Bt=Symbol("use-effect"),{useEffect:Gt,hasEffects:Rt,dropEffects:Ut}=jt(Bt,st);function jt(t,e){return{useEffect:function(n,o){const s=Q.get().hook,{idx:i,values:r}=s,l=()=>{r[i]={deps:o,token:t,value:void 0},e.add((()=>{r[i].value=n()}))};if(w(r[i]))l();else{const{deps:t,value:e}=r[i];(!o||O(o,t))&&(E(e)&&e(),l())}s.idx++},hasEffects:function(e){const{values:n}=e.hook;return n.some((e=>e.token===t))},dropEffects:function(e){for(const n of e.values)n.token===t&&n.value&&n.value()}}}const zt=Symbol("use-layout-effect"),{useEffect:Kt,hasEffects:qt,dropEffects:Vt}=jt(zt,it),Wt=Symbol("use-insertion-effect"),{useEffect:Xt,hasEffects:Yt,dropEffects:Jt}=jt(Wt,rt);function Qt(t,e){let n=t,o=!0,s=!1,i=!1;const r={},l=t=>!r[t],a=()=>o=!1,c=()=>i=!0;for(;n&&(e(n,s,a,c),!i);)if(n.child&&o&&l(n.child.id)){const t=n.child;s=!1,n=t,r[t.id]=!0}else if(n.next&&l(n.next.id)){const t=n.next;o=!0,s=!1,n=t,r[t.id]=!0}else if(n.parent&&n.parent===t&&n.parent.next&&l(n.parent.next.id)){const t=n.parent.next;o=!0,s=!1,n=t,r[t.id]=!0}else n.parent&&n.parent!==t?(o=!1,s=!0,n=n.parent):n=null}function te(t){let e=t;for(;e;){if(e.element)return e;e=e.parent}return e}function ee(t){(t.iefHost||t.lefHost||t.efHost||t.aHost||t.pHost)&&Qt(t,((e,n,o,s)=>{if(e===t.next)return s();if(!(e.iefHost||e.lefHost||e.efHost||e.aHost||e.pHost))return o();if(!n&&_(e.inst)){const t=e.hook.values.length>0;e.iefHost&&t&&Jt(e.hook),e.lefHost&&t&&Vt(e.hook),e.efHost&&t&&Ut(e.hook),e.cleanup&&e.cleanup(),e.pHost&&G.unmountPortal(e)}}))}const ne=Symbol("fragment"),oe=D((({slot:t})=>t||null),{token:ne}),se=t=>_(t)&&t.token===ne,ie=new class{map={};on(t,e){return!this.map[t]&&(this.map[t]=new Set),this.map[t].add(e),()=>this.map[t].delete(e)}emit(t,e){this.map[t]&&this.map[t].forEach((t=>t(e)))}};let re=!1;function le(t){if(re)return!1;const e=X.get();let n=J.get(),o=!1,s=Boolean(n);const i={fiber$$:null,fiber$:null,inst$:null};try{for(;n&&!o;)n=ae(n,i),J.set(n),s=Boolean(n),o=t&&G.shouldYield();!n&&e&&function(){const t=X.get(),e=G.detectIsDynamic(),n=nt.get(),o=et.get(),s=ct.get();for(const t of n)ee(t),G.commit(t);e&&(at.set(!0),rt.get().forEach((t=>t())),at.set(!1)),s&&function(t){const e=t.cec-t.alt.cec;if(0===e)return;const n=te(t.parent);let o=!1;t.incCEC(e,!0),Qt(n.child,((s,i,r,l)=>s===n?l():s===t?(o=!0,r()):(s.element&&r(),void(o&&!i&&(s.eidx+=e)))))}(t);for(const t of o)t.tag!==At.S&&G.commit(t),t.alt=null;t.alt=null,G.finishCommit(),e&&(lt.set(!0),it.get().forEach((t=>t())),lt.set(!1)),e&&function(){const t=st.get();t.length>0&&setTimeout((()=>t.forEach((t=>t()))))}(),function(t){X.set(null),et.reset(),nt.reset(),rt.reset(),it.reset(),st.reset(),ft.set(!1),ct.get()?ct.set(!1):Y.set(t),ie.emit("finish")}(t)}()}catch(e){if(!(e instanceof Ce))throw re=!0,e;!t&&setTimeout((()=>le(!1)),v)}return s}function ae(t,e){let n=!0,o=t,s=t.inst;const i=dt.get();for(;;){if(n=ot.deep.get(),o.hook&&(o.hook.idx=0),n)if(be(s)&&s.children.length>0){if(ce(o,e),o=e.fiber$,s=e.inst$,e.fiber$$=null,e.fiber$=null,e.inst$=null,i&&G.chunk(o),o)return o}else{ue(o,e);const t=e.fiber$$;if(o=e.fiber$,s=e.inst$,e.fiber$$=null,e.fiber$=null,e.inst$=null,i&&G.chunk(o),t)return t}else{ue(o,e);const t=e.fiber$$;if(o=e.fiber$,s=e.inst$,e.fiber$$=null,e.fiber$=null,e.inst$=null,i&&G.chunk(o),t)return t}if(null===o.parent)return null}}function ce(t,e){ot.toChild();let n=t.inst;const o=t.alt?t.alt.child:null,s=new Ft(He(o,o?o.inst:null,be(n)?n.children[0]:null),o?o.provider:null,0);Q.set(s),s.parent=t,t.child=s,s.eidx=t.element?0:t.eidx,n=ge(n,0,s),s.inst=n,o&&pe(s,o),fe(s,o,n),o&&Lt(s.inst)&&me(s),et.add(s),e.fiber$$=null,e.fiber$=s,e.inst$=n}function ue(t,e){ot.toSibling();let n=t.parent.inst;const o=ot.getIndex();if(be(n)&&n.children[o]){ot.deep.set(!0);const s=t.alt?t.alt.next:null,i=new Ft(He(s,s?s.inst:null,be(n)?n.children[o]:null),s?s.provider:null,o);return Q.set(i),i.parent=t.parent,t.next=i,i.eidx=t.eidx+(t.element?1:t.cec),n=ge(n,o,i),i.inst=n,s&&pe(i,s),fe(i,s,n),s&&Lt(i.inst)&&me(i),et.add(i),e.fiber$$=i,e.fiber$=i,void(e.inst$=n)}ot.toParent(),ot.deep.set(!1),n=(t=t.parent).inst,be(t.inst)&&(t.inst.children=[]),e.fiber$$=null,e.fiber$=t,e.inst$=n}function fe(t,e,n){let o=!1;t.parent.tag===At.C&&(t.tag=t.parent.tag),t.parent.shadow&&!t.parent.element&&!It(n)&&(t.shadow=!0),t.tag!==At.C&&(o=e&&ke(e.inst,n)&&(e?ye(e.inst):null)===ye(n)),t.inst=n,t.alt=e||null,t.element=t.element||(o?e.element:null),t.tag=o?At.U:At.C,e?.cleanup&&e.cleanup(),e&&e.move&&(t.move=e.move,e.move=!1),be(t.inst)&&(t.cc=t.inst.children.length),!t.element&&yt(t.inst)&&(t.element=G.createElement(t.inst),t.tag=At.C),t.element&&t.incCEC()}function de(t,e,n){return 0===t||e.child&&e.child.tag===At.D?(e.child=n,n.parent=e):(e.next=n,n.parent=e.parent),n}function he(t,e){return(new Ft).mutate({tag:At.C,inst:St(),parent:t,marker:e+""})}function pe(t,e){const n=t.inst,o=ke(e.inst,n),s=function(t){return _(t)?B(t):kt(t)?Tt(t):Et(t)?Mt(t):null}(n),i=s?.[y.NM];if(e.used=!0,o){if(be(e.inst)&&be(n)&&0!==e.cc){const t=e.cc===n.children.length;if(!i||!t){const{prevKeys:t,nextKeys:o,prevKeysMap:s,nextKeysMap:i,keyedFibersMap:r}=function(t,e){let n=t,o=0;const s=[],i=[],r={},l={},a={};for(;n||o<e.length;){if(n){const t=ye(n.inst),e=S(t)?xe(o):t;s.push(e),r[e]=!0,a[e]=n}if(e[o]){const t=ye(e[o]),n=S(t)?xe(o):t;i.push(n),l[n]=!0}n=n?n.next:null,o++}return{prevKeys:s,nextKeys:i,prevKeysMap:r,nextKeysMap:l,keyedFibersMap:a}}(e.child,n.children),l=0===o.length;let a=[],c=Math.max(t.length,o.length),u=e,f=0,d=0,h=0;for(let n=0;n<c;n++){const a=o[n-h]??null,p=t[n-d]??null,m=r[p]||null,g=r[a]||he(e,a);a!==p?null===a||s[a]?i[p]?i[p]&&i[a]&&(g.tag=At.U,m.tag=At.U,g.move=!0,u=de(n,u,g)):(m.tag=At.D,nt.add(m),l&&(m.flush=!0),h++,f--,c++):(null===p||i[p]?(g.tag=At.C,d++,c++):(g.tag=At.C,m.tag=At.D,nt.add(m)),u=de(n,u,g)):null!==a&&(g.tag=At.U,u=de(n,u,g)),g.idx=f,f++}a=[]}}}else(function(t){let e=t.parent;for(;e;){if(e.tag===At.D)return!1;e=e.parent}return!0})(e)&&(e.tag=At.D,nt.add(e))}function me(t){const e=t.alt,n=e.inst,o=t.inst;if(t.move||o.type!==n.type||o.su(n.props,o.props))return;ot.deep.set(!1),t.tag=At.S,t.alt=e,t.element=e.element,t.child=e.child,t.hook=e.hook,t.provider=e.provider,t.cc=e.cc,t.cec=e.cec,t.catch=e.catch,e?.cleanup&&(t.cleanup=e.cleanup),t.child&&(t.child.parent=t);const s=t.eidx-e.eidx;0!==s&&Qt(t.child,((e,n,o,i)=>e===t.next||e===t.parent?i():(e.eidx+=s,e.parent!==t&&e.element?i():void 0))),t.incCEC(e.cec),e.efHost&&t.markEFHost(),e.lefHost&&t.markLEFHost(),e.iefHost&&t.markIEFHost(),e.aHost&&t.markAHost(),e.pHost&&t.markPHost()}function ge(t,e,n){let o=null;return be(t)&&(C(t.children[e])&&t.children.splice(e,1,...F(t.children[e])),o=ve(n,t.children[e]),_(o)&&(Rt(n)&&n.markEFHost(),qt(n)&&n.markLEFHost(),Yt(n)&&n.markIEFHost(),n.cleanup&&n.markAHost(),G.detectIsPortal(o)&&n.markPHost())),o}function ve(t,e){let n=e;const o=_(n),s=n;if(o)try{let e=s.type(s.props,s.ref);if(_t(s)&&!Zt(s)&&(ft.get()||U()))throw ot.toParent(),J.set(t.parent),Ft.setNextId(t.parent.id),new Ce;C(e)&&!se(s)?e=oe({slot:e}):(k(e)||b(e))&&(e=Nt(e)),s.children=C(e)?F(e):[e]}catch(e){if(e instanceof Ce)throw e;s.children=[],t.setError(e),function(...t){!w(console)&&console.error(...t)}(e)}else kt(n)&&(n=n());if(be(n)){n.children=o?n.children:C(n.children)?F(n.children):[n.children];for(let t=0;t<n.children.length;t++)n.children[t]||(n.children[t]=Ee(n.children[t]));o&&0===s.children.length&&s.children.push(St())}return n}function xe(t){return`${d}:${t}`}function ye(t){return _(t)?Z(t):kt(t)?Ct(t):Et(t)?Ht(t):null}function Ee(t){return $(t)?St():t}function we(t){return kt(t)?t[h]:Et(t)?t.name:yt(t)||_(t)?t.type:null}function be(t){return Et(t)||_(t)}function ke(t,e,n=!1){if(n){const n=e;return t.type===n.type}return we(t)===we(e)}function He(t,e,n){return t&&function(t,e){return!!(t&&e&&_(t)&&_(e)&&ke(t,e,!0))&&ye(t)===ye(e)}(e,n)?t.hook:_(n)?{idx:0,values:[]}:null}const Me=()=>Boolean(X.get());class Ce extends Error{}const Te=D((({slot:t})=>t),{token:Ot});function Se(t){return kt(t)||_(t)}function $e(t,e=!1){return function(t,e){if(C(t)?Se(t[0]):Se(t)){const n=Te({slot:oe({slot:t})});return n.su=()=>e,n}return t}(t(),e)}function Ie(t,e){const n=Q.get(),{hook:o}=n,{idx:s,values:i}=o;if(w(i[s])){const n=$e(t);return i[s]={deps:e,value:n},o.idx++,n}const r=i[s],l=O(e,r.deps),a=l?t:()=>r.value;return r.deps=e,r.value=$e(a,l),o.idx++,r.value}function Ne(t){const e=V(),n=Ie((()=>({fiber:null})),[]);return n.fiber=Q.get(),o=>{if(at.get())return;const s=function(t){const{rootId:e,fiber:n,forceStart:o=!1,onStart:s}=t;return()=>{(function(t){let e=t;for(;e;){if(e.tag===At.D)return!1;e=e.parent}return Boolean(t)})(n)&&(o&&s&&s(),n.used||(!o&&s&&s(),q.set(e),ct.set(!0),ot.reset(),n.alt=(new Ft).mutate(n),n.marker="ðŸ”¥",n.tag=At.U,n.cc=0,n.cec=0,n.child=null,X.set(n),Q.set(n),n.inst=ve(n,n.inst),J.set(n)))}}({rootId:e,fiber:n.fiber,forceStart:Boolean(t?.timeoutMs),onStart:o||N});lt.get()&&(t={...t||{},forceSync:!0}),ut.get()?function(t,e){t.batch&&clearTimeout(t.batch),t.batch=setTimeout((()=>{ut.set(!1),t.batch=null,e()}))}(n.fiber,(()=>G.schedule(s,t))):G.schedule(s,t)}}function Fe(t,e){return Ie((()=>t),e)}function Ae(t,e){const n=Ne(e),o=Ie((()=>({value:E(t)?t():t})),[]),s=Fe((t=>{const s=o.value,i=E(t)?t(s):t;if(!Object.is(s,i)){const t=()=>o.value=i;e?.priority===x.LOW?n(t):(t(),n())}}),[]);return[o.value,s]}function Oe(t){return(t=t.map((t=>k(t)||b(t)?Nt(t.toString()):t)))?Array.isArray(t)?[...t]:[t]:[]}function Le(t,e,...n){if(k(t))return function(t){const e=()=>{const{as:e,slot:n,_void:o=!1,...s}=t,i=o?[]:C(n)?n:n?[n]:[];return new gt(e,s,i)};return e[pt]=!0,e[h]=t.as,t.key&&(e[p]=t.key),t.flag&&(e[g]=t.flag),e}({...e,as:t,slot:Oe(n)});if(E(t)){let o=Oe(n);return o=1===o.length?o[0]:o,t({...e,slot:o})}return null}const Pe=(t,e)=>{const n=Object.keys(e);for(const o of n)if("slot"!==o&&e[o]!==t[o])return!0;return!1};function De(t,e=Pe){return D(t,{token:Ot,keepRef:!0,shouldUpdate:e})}function _e(t,...e){return Ie((()=>t.map(((t,n)=>t+(w(e[n])?"":e[n]))).join("").replace(/;\s*/gm,";").replace(/:\s*/gm,":").trim()),[t,...e])}function Ze(t){return t(_e)}const Be=Symbol("portal"),Ge=t=>_(t)&&t.token===Be,Re=t=>Ge(t.inst)?t.element:null;function Ue(t){const e=Re(t);e&&(e.textContent="")}class je{type="";sourceEvent=null;target=null;propagation=!0;constructor(t){this.type=t.sourceEvent.type,this.sourceEvent=t.sourceEvent,this.target=t.target}stopPropagation(){this.propagation=!1,this.sourceEvent.stopPropagation()}preventDefault(){this.sourceEvent.preventDefault()}getPropagation(){return this.propagation}}function ze(t,e,n){const o=tt.get(),s=o.get(e),i=C(n)?t=>n[0](...n.slice(1),t):n;if(s)s.set(t,i);else{const n=t=>{const n=o.get(e).get(t.target),s=t.target;let i=null;E(n)&&(i=new je({sourceEvent:t,target:s}),n(i)),(i?i.getPropagation():s.parentElement)&&s.parentElement.dispatchEvent(new t.constructor(t.type,t))};o.set(e,new WeakMap([[t,i]])),document.addEventListener(e,n,!0),tt.addUnsubscriber((()=>document.removeEventListener(e,n,!0)))}}const Ke=t=>t.startsWith("on"),qe=t=>t.slice(2,t.length).toLowerCase(),Ve={[p]:!0,[m]:!0,[g]:!0},We={transform:!0,fill:!0};let Xe=[];const Ye=A("svg,animate,animateMotion,animateTransform,circle,clipPath,defs,desc,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,image,line,linearGradient,marker,mask,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,stop,switch,symbol,text,textPath,tspan,use,view".split(","),(t=>t)),Je=A("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr".split(","),(t=>t)),Qe={[ht.TAG]:t=>{const e=t;return n=e.name,Boolean(Ye[n])?document.createElementNS("http://www.w3.org/2000/svg",e.name):document.createElement(e.name);var n},[ht.TEXT]:t=>document.createTextNode(t.value),[ht.COMMENT]:t=>document.createComment(t.value)};function tn(t){return Qe[t.type](t)}function en(t,e){!function(t,e){E(t)?t(e):function(t){if(!H(t)||T(t))return!1;const e=t;for(const t in e)if("current"===t&&e.hasOwnProperty(t))return!0;return!1}(t)&&(t.current=e)}(t,e)}function nn(t){const{tagName:e,element:n,attrName:o,attrValue:s}=t,i=on[e];let r=!!i&&i(n,o,s);var l,a;return a=o,(l=Object.getPrototypeOf(n)).hasOwnProperty(a)&&Boolean(Object.getOwnPropertyDescriptor(l,a)?.set)&&(n[o]=s),!r&&M(s)&&(r=!o.includes("-")),r}const on={input:(t,e,n)=>("value"===e&&M(n)?t.checked=n:"autoFocus"===e&&(t.autofocus=Boolean(n)),!1),textarea:(t,e,n)=>"value"===e&&(t.innerHTML=String(n),!0)};const sn={[At.C]:t=>{null===t.element||Ge(t.inst)||function(t){const e=te(t.parent),n=e.element,o=n.childNodes;if(ft.get()){const e=o[t.eidx];bt(t.inst)&&e instanceof Text&&t.inst.value.length!==e.length&&e.splitText(t.inst.value.length),t.element=e}else t.shadow||(0===o.length||t.eidx>o.length-1?(s=e.inst.name,!Boolean(Je[s])&&an(t.element,n)):cn(t.element,n.childNodes[t.eidx],n));var s;Et(t.inst)&&function(t,e){if(!e.attrs)return;const n=Object.keys(e.attrs),o=t;for(const s of n){const n=e.attrs[s];s!==m?Ke(s)?ze(o,qe(s),n):w(n)||Ve[s]||!nn({tagName:e.name,element:o,attrValue:n,attrName:s})&&o.setAttribute(s,n):en(n,t)}}(t.element,t.inst)}(t)},[At.U]:t=>{t.move&&(function(t){const e=function(t,e){const n=[];return Qt(t,((e,o,s,i)=>e===t.next||e===t.parent?i():!o&&e.element?(!G.detectIsPortal(e.inst)&&n.push(e.element),s()):void 0)),n}(t),n=e[0].parentElement,o=new DocumentFragment,s=t.eidx;let i=0;for(const t of e)cn(document.createComment(`${s}:${i}`),t,n),an(t,o),i++;Xe.push((()=>{for(let t=1;t<e.length;t++)dn(n.childNodes[s+1],n);fn(o,n.childNodes[s],n)}))}(t),t.move=!1),null===t.element||Ge(t.inst)||function(t){const e=t.element,n=t.alt.inst,o=t.inst;$t(o)?n.value!==o.value&&(e.textContent=o.value):function(t,e,n){if(!n.attrs)return;const o=Object.keys(n.attrs),s=t;for(const i of o){const o=e.attrs[i],r=n.attrs[i];i!==m?w(r)?s.removeAttribute(i):Ke(i)?o!==r&&ze(s,qe(i),r):Ve[i]||o===r||(We[i]||!nn({tagName:n.name,element:s,attrValue:r,attrName:i}))&&s.setAttribute(i,r):en(o,t)}}(e,n,o)}(t)},[At.D]:function(t){const e=te(t.parent);t.flush?e.element.textContent&&(e.element.textContent=""):Qt(t,((n,o,s,i)=>n===t.next||n===t.parent?i():!o&&n.element?(!n.shadow&&!Ge(n.inst)&&dn(n.element,e.element),s()):void 0))},[At.S]:()=>{}};function rn(t){sn[t.tag](t)}function ln(){Xe.forEach((t=>t())),Xe=[]}const an=(t,e)=>e.appendChild(t),cn=(t,e,n)=>{n.insertBefore(t,e)},un=(t,e,n)=>{n.insertBefore(t,n.childNodes[e])},fn=(t,e,n)=>{n.replaceChild(t,e)},dn=(t,e)=>e.removeChild(t),hn={animations:[],hight:[],normal:[],low1:[],low2:[]},pn=1e5;let mn=null,gn=0,vn=!1;class xn{static nextTaskId=0;id;time;timeoutMs;priority;forceSync;callback;constructor(t){this.id=++xn.nextTaskId,this.time=t.time,this.timeoutMs=t.timeoutMs,this.priority=t.priority,this.forceSync=t.forceSync,this.callback=t.callback}}const yn=()=>I()>=gn;function En(t,e){const{priority:n=x.NORMAL,timeoutMs:o=0,forceSync:s=!1}=e||{},i=new xn({time:I(),timeoutMs:o,priority:n,forceSync:s,callback:t});({[x.ANIMATION]:()=>hn.animations.push(i),[x.HIGH]:()=>hn.hight.push(i),[x.NORMAL]:()=>hn.normal.push(i),[x.LOW]:()=>i.timeoutMs>0?hn.low2.push(i):hn.low1.push(i)})[i.priority](),bn()}function wn(t){if(!t.length)return!1;const e=t.shift(),n=e.priority===x.ANIMATION;return e.callback(),e.forceSync||n?(le(!1),bn()):(mn=le,vn||(vn=!0,Hn.postMessage(null))),!0}function bn(){Me()||vn||function(){const[t]=hn.low2;return!!(t&&I()-t.time>t.timeoutMs)&&(wn(hn.low2),!0)}()||(hn.low1.length>pn&&(hn.low1=[]),0)||hn.animations.length>0&&wn(hn.animations)||hn.hight.length>0&&wn(hn.hight)||hn.normal.length>0&&wn(hn.normal)||hn.low1.length>0&&requestIdleCallback((()=>wn(hn.low1)))||hn.low2.length>0&&requestIdleCallback((()=>wn(hn.low2)))}let kn=null,Hn=null;kn=new MessageChannel,Hn=kn.port2,kn.port1.onmessage=function(){if(mn){gn=I()+4;try{mn(!0)?Hn.postMessage(null):(vn=!1,mn=null,bn())}catch(t){throw Hn.postMessage(null),t}}else vn=!1};let Mn=!1;const Cn=new Map;!function(t){void 0===t&&(t=e.HideMin|e.HideMax|e.HideMean|e.RoundValues),u();var n=new o(100),s=new a("FPS",t,"",n);c.appendChild(s.element);var i=0,r=60;requestAnimationFrame((function t(e){i>0&&(r+=.01652892561983471*(1e3/(e-i)-r)),i=e,n.addSample(r),s.invalidate(),requestAnimationFrame(t)}))}(),function(t){if(void 0===t&&(t=e.HideMin|e.HideMean),u(),void 0!==performance.memory){var n=new o(100),s=new a("Memory",t,"MB",n);c.appendChild(s.element),function t(){n.addSample(Math.round(performance.memory.usedJSHeapSize/1048576)),s.invalidate(),setTimeout(t,30)}()}}();const Tn=document.getElementById("root"),Sn=D((t=>{const[e,n]=Ae(!1,{priority:x.HIGH}),o=1.3*t.size,s=Ze((n=>({dot:n`
      position: absolute;
      background-color: #61dafb;
      text-align: center;
      cursor: pointer;
      width: ${o}px;
      height: ${o}px;
      left: ${t.x}px;
      top: ${t.y}px;
      border-radius: ${o/2}px;
      line-height: ${o}px;
      background-color: ${e?"yellow":"#61dafb"};
    `}))),i=Fe((()=>{n(!0)}),[]),r=Fe((()=>{n(!1)}),[]);return Le("div",{style:s.dot,onMouseEnter:i,onMouseLeave:r},e?`* ${Nt.from(t.slot)} *`:Nt.from(t.slot))})),$n=De(Sn,((t,e)=>t.x!==e.x||t.y!==e.y||t.size!==e.size||Nt.from(t.slot)!==Nt.from(e.slot))),In=De(D((({x:t,y:e,s:n,slot:o})=>n<=25?Le($n,{x:t-12.5,y:e-12.5,size:25},o):Le(oe,null,Le(In,{x:t,y:e-(n/=2)/2,s:n},o),Le(In,{x:t-n,y:e+n/2,s:n},o),Le(In,{x:t+n,y:e+n/2,s:n},o)))),((t,e)=>t.x!==e.x||t.y!==e.y||t.s!==e.s||Nt.from(t.slot)!==Nt.from(e.slot))),Nn=D((t=>{const[e,n]=Ae(!1),[o,s]=Ae(0),i=function(t,e){const{timeoutMs:n}={},[o,s]=Ae(t,{priority:x.LOW,timeoutMs:n}),i=Ie((()=>({value:t})),[]);return i.value!==t&&t!==o&&(i.value=t,s(t)),o}(o),r=t.elapsed/1e3%10,l=1+(r>5?10-r:r)/10;Gt((()=>{setInterval((()=>s((t=>t%10+1))),1e3)}),[]);const a=Ze((t=>({container:t`
      position: absolute;
      left: 50%;
      top: 50%;
      transform-origin: 0 0;
      background-color: #eee;
      transform: scaleX(${l/2.1}) scaleY(0.7);
    `})));return Le("div",{style:"padding: 16px"},Le("label",null,Le("input",{type:"checkbox",onInput:()=>n((t=>!t))}),"Enable deferred updates"),Le("p",null,"If deferred updates enabled timer won't render on slow devices ",Le("br",null)," (You can enable CPU throttling here)"),Le("div",{style:a.container},Le(In,{x:0,y:0,s:1e3},e?i:o)))})),Fn=(new Date).getTime();!function t(){(function(t,e,n=!1){!Mn&&function(){G.createElement=tn,G.insertElement=un,G.raf=requestAnimationFrame.bind(this),G.caf=cancelAnimationFrame.bind(this),G.schedule=En,G.shouldYield=yn,G.commit=rn,G.finishCommit=ln,G.detectIsDynamic=()=>!0,G.detectIsPortal=Ge,G.unmountPortal=Ue,G.chunk=()=>{},Mn=!0}();const o=!w(Cn.get(e));let s=null;o?s=Cn.get(e):(s=Cn.size,Cn.set(e,s),n||(e.innerHTML="")),at.get(s)||G.schedule((()=>{q.set(s);const o=Y.get(),i=Boolean(o),r=(new Ft).mutate({element:e,inst:new gt("dark:root",{},F([t||St()])),alt:o,tag:i?At.U:At.C});ot.reset(),X.set(r),ft.set(n),J.set(r)}),{priority:x.NORMAL,forceSync:lt.get()})})(Le(Nn,{elapsed:(new Date).getTime()-Fn}),Tn),requestAnimationFrame(t)}()})();
//# sourceMappingURL=build.js.map