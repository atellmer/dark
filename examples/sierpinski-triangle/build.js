(()=>{"use strict";var e,t,n=function(e,t,n,i){this.min=e,this.max=t,this.mean=n,this.last=i},i=function(){function e(e){this.samples=[],this.maxSamples=e,this._i=-1}return e.prototype.addSample=function(e){this._i=(this._i+1)%this.maxSamples,this.samples[this._i]=e},e.prototype.each=function(e){for(var t=this.samples,n=0;n<t.length;n++)e(t[(this._i+1+n)%t.length],n)},e.prototype.calc=function(){var e=this.samples;if(0===e.length)return new n(0,0,0,0);for(var t=e[(this._i+1)%e.length],i=t,o=0,r=0;r<e.length;r++){var s=e[(this._i+1+r)%e.length];s<t&&(t=s),s>i&&(i=s),o+=s}var l=e[this._i],a=o/e.length;return new n(t,i,a,l)},e}(),o=[],r=-1,s=(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}),l=function(){function e(e){var t=this;this._sync=function(){t.sync(),t._dirty=!1},this.name=e,this.element=document.createElement("div"),this.element.style.cssText="padding: 2px;background-color: #020;font-family: monospace;font-size: 12px;color: #0f0",this._dirty=!1,this.invalidate()}return e.prototype.invalidate=function(){var e;this._dirty||(this._dirty=!0,e=this._sync,o.push(e),-1===r&&requestAnimationFrame((function(e){r=-1;var t=o;o=[];for(var n=0;n<t.length;n++)t[n]()})))},e.prototype.sync=function(){throw new Error("sync method not implemented")},e}();!function(e){e[e.HideMin=1]="HideMin",e[e.HideMax=2]="HideMax",e[e.HideMean=4]="HideMean",e[e.HideLast=8]="HideLast",e[e.HideGraph=16]="HideGraph",e[e.RoundValues=32]="RoundValues"}(t||(t={}));var a=function(e){function n(n,i,o,r){var s=e.call(this,n)||this;s.flags=i,s.unitName=o,s.samples=r;var l=document.createElement("div");l.style.cssText="text-align: center",l.textContent=s.name;var a=document.createElement("div");return 0==(i&t.HideMin)?(s.minText=document.createElement("div"),a.appendChild(s.minText)):s.minText=null,0==(i&t.HideMax)?(s.maxText=document.createElement("div"),a.appendChild(s.maxText)):s.maxText=null,0==(i&t.HideMean)?(s.meanText=document.createElement("div"),a.appendChild(s.meanText)):s.meanText=null,0==(i&t.HideLast)?(s.lastText=document.createElement("div"),a.appendChild(s.lastText)):s.lastText=null,s.element.appendChild(l),s.element.appendChild(a),0==(i&t.HideGraph)?(s.canvas=document.createElement("canvas"),s.canvas.style.cssText="display: block; padding: 0; margin: 0",s.canvas.width=100,s.canvas.height=30,s.ctx=s.canvas.getContext("2d"),s.element.appendChild(s.canvas)):(s.canvas=null,s.ctx=null),s}return s(n,e),n.prototype.sync=function(){var e,n,i,o,r=this,s=this.samples.calc(),l=30/(1.2*s.max);0==(this.flags&t.RoundValues)?(e=s.min.toFixed(2),n=s.max.toFixed(2),i=s.mean.toFixed(2),o=s.last.toFixed(2)):(e=Math.round(s.min).toString(),n=Math.round(s.max).toString(),i=Math.round(s.mean).toString(),o=Math.round(s.last).toString()),null!==this.minText&&(this.minText.textContent="min: Â "+e+this.unitName),null!==this.maxText&&(this.maxText.textContent="max: Â "+n+this.unitName),null!==this.meanText&&(this.meanText.textContent="mean: "+i+this.unitName),null!==this.lastText&&(this.lastText.textContent="last: "+o+this.unitName),null!==this.ctx&&(this.ctx.fillStyle="#010",this.ctx.fillRect(0,0,100,30),this.ctx.fillStyle="#0f0",this.samples.each((function(e,t){r.ctx.fillRect(t,30,1,-e*l)})))},n}(l),c=(function(e){function t(t,n){var i=e.call(this,t)||this;return i.counter=n,i.text=document.createElement("div"),i.element.appendChild(i.text),i}s(t,e),t.prototype.sync=function(){this.text.textContent=this.name+": "+this.counter.value}}(l),null);function u(){c||((c=document.createElement("div")).style.cssText="position: fixed;opacity: 0.9;right: 0;bottom: 0",document.body.appendChild(c))}const f=!1,d="dark:idx",h="type",m="key",p="ref",g="flag";var E,v;!function(e){e[e.ANIMATION=3]="ANIMATION",e[e.HIGH=2]="HIGH",e[e.NORMAL=1]="NORMAL",e[e.LOW=0]="LOW"}(E||(E={})),function(e){e.HAS_NO_MOVES="HAS_NO_MOVES"}(v||(v={}));const y=e=>"function"==typeof e,x=e=>void 0===e,b=e=>"number"==typeof e,T=e=>"string"==typeof e,k=e=>"object"==typeof e,w=e=>"boolean"==typeof e,C=e=>Array.isArray(e),H=e=>null===e,M=e=>H(e)||x(e),S=e=>H(e)||x(e)||!1===e,I=()=>Date.now(),A=()=>{};function $(...e){!x(console)&&console.error(...e)}function N(e){const t=[],n={0:{idx:0,source:e}};let i=0;do{const{source:e,idx:o}=n[i],r=e[o];o>=e.length?(i--,n[i]||(n[i]={idx:0,source:[]}),n[i].idx++):C(r)?(i++,n[i]={idx:0,source:r}):(t.push(r),n[i].idx++)}while(i>0||n[i].idx<n[i].source.length);return t}function D(e,t,n=!1){return e.reduce(((e,i)=>(e[t(i)]=!n||i,e)),{})}function O(e,t){if(e&&t&&e.length>0&&t.length>0)for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1}const P=Symbol("component");class L{type;token;props;ref;displayName;children=[];shouldUpdate;constructor(e,t,n,i,o,r){this.type=e||null,this.token=t||P,this.props=n||null,this.ref=i||null,this.shouldUpdate=o||null,this.displayName=r||""}}function R(e,t={}){const{token:n,displayName:i,shouldUpdate:o,keepRef:r=!1}=t;return(t={},s)=>(!r&&t.ref&&(delete t.ref,f&&$("[Dark]: To use ref you need to wrap the component with forwardRef!")),new L(e,n,t,s,o,i))}const F=e=>e instanceof L,_=e=>M(e.props[m])?null:e.props[m],U=e=>e.props[g]||null,W={createNativeElement:()=>{throw new Error(B("createNativeElement"))},requestAnimationFrame:()=>{throw new Error(B("requestAnimationFrame"))},cancelAnimationFrame:()=>{throw new Error(B("cancelAnimationFrame"))},scheduleCallback:()=>{throw new Error(B("scheduleCallback"))},shouldYeildToHost:()=>{throw new Error(B("shouldYeildToHost"))},applyCommit:()=>{throw new Error(B("applyCommit"))},finishCommitWork:()=>{throw new Error(B("finishCommitWork"))},detectIsDynamic:()=>{throw new Error(B("detectIsDynamic"))},detectIsPortal:()=>{throw new Error(B("detectIsPortal"))},unmountPortal:()=>{throw new Error(B("unmountPortal"))},restart:()=>{throw new Error(B("restart"))}},B=e=>`${e} not installed by renderer`;let j=null;const G=new Map;class Z{wipRoot=null;currentRoot=null;nextUnitOfWork=null;events=new Map;unsubscribers=[];candidates=new Set;deletions=new Set;fiberMount={level:0,navigation:{},isDeepWalking:!0};componentFiber=null;effects=[];layoutEffects=[];insertionEffects=[];isLayoutEffectsZone=!1;isInserionEffectsZone=!1;isUpdateHookZone=!1;isBatchZone=!1;isHydrateZone=!1;isHot=!1;lazy=new Set}const K={set:e=>{j=e,!G.get(j)&&G.set(j,new Z)},remove:e=>G.delete(e)},q=()=>j,z=(e=j)=>G.get(e),V={get:()=>z()?.wipRoot||null,set:e=>z().wipRoot=e},Y={get:e=>z(e)?.currentRoot||null,set:e=>z().currentRoot=e},X={get:()=>z()?.nextUnitOfWork||null,set:e=>z().nextUnitOfWork=e},J={get:()=>z()?.componentFiber,set:e=>z().componentFiber=e},Q={get:()=>z().events,addUnsubscriber:e=>z().unsubscribers.push(e),unsubscribe:e=>z(e).unsubscribers.forEach((e=>e()))},ee={get:()=>z().candidates,add:e=>z().candidates.add(e),reset:()=>z().candidates=new Set},te={get:()=>z().deletions,add:e=>z().deletions.add(e),has:e=>z().deletions.has(e),set:e=>z().deletions=e,reset:()=>z().deletions=new Set},ne={reset:()=>{z().fiberMount={level:0,navigation:{},isDeepWalking:!0}},getIndex:()=>{const{fiberMount:e}=z();return e.navigation[e.level]},jumpToChild:()=>{const{fiberMount:e}=z();e.level=e.level+1,e.navigation[e.level]=0},jumpToParent:()=>{const{fiberMount:e}=z();e.navigation[e.level]=0,e.level=e.level-1},jumpToSibling:()=>{const{fiberMount:e}=z();e.navigation[e.level]=e.navigation[e.level]+1},deepWalking:{get:()=>z().fiberMount.isDeepWalking,set:e=>z().fiberMount.isDeepWalking=e}},ie={get:()=>z().effects,reset:()=>z().effects=[],add:e=>z().effects.push(e)},oe={get:()=>z().layoutEffects,reset:()=>z().layoutEffects=[],add:e=>z().layoutEffects.push(e)},re={get:()=>z().insertionEffects,reset:()=>z().insertionEffects=[],add:e=>z().insertionEffects.push(e)},se={get:()=>z()?.isLayoutEffectsZone||!1,set:e=>z().isLayoutEffectsZone=e},le={get:e=>z(e)?.isInserionEffectsZone||!1,set:e=>z().isInserionEffectsZone=e},ae={get:()=>z()?.isUpdateHookZone||!1,set:e=>z().isUpdateHookZone=e},ce={get:()=>z()?.isBatchZone||!1,set:e=>z().isBatchZone=e},ue={get:()=>z()?.isHydrateZone||!1,set:e=>z().isHydrateZone=e},fe={get:()=>z()?.isHot||!1,set:e=>z().isHot=e},de=()=>z().lazy.size>0;var he;!function(e){e.TAG="TAG",e.TEXT="TEXT",e.COMMENT="COMMENT"}(he||(he={}));const me=Symbol("virtual-node");class pe{type=null;constructor(e){this.type=e}}class ge extends pe{name=null;attrs={};children=[];constructor(e,t,n){super(he.TAG),this.name=e||this.name,this.attrs=t||this.attrs,this.children=n||this.children}}class Ee extends pe{value="";constructor(e){super(he.TEXT),this.value=e}}class ve extends pe{value="";constructor(e){super(he.COMMENT),this.value=e}}const ye=e=>e instanceof pe,xe=e=>e instanceof ge,be=e=>e instanceof Ee,Te=e=>y(e)&&!0===e[me],ke=e=>M(e.attrs[m])?null:e.attrs[m],we=e=>e.attrs[g]||null,Ce=e=>M(e[m])?null:e[m],He=e=>e[g]||null,Me=()=>new ve("dark:matter"),Se=e=>be(e)||(e=>e instanceof ve)(e);function Ie(e){return new Ee(e+"")}Ie.from=e=>be(e)?e.value:e+"";const Ae=Symbol("memo"),$e=(e,t)=>{const n=Object.keys(t);for(const i of n)if("slot"!==i&&t[i]!==e[i])return!0;return!1},Ne=e=>F(e)&&e.token===Ae;function De(e,t=$e){return R(e,{token:Ae,keepRef:!0,shouldUpdate:t})}var Oe;!function(e){e.CREATE="CREATE",e.UPDATE="UPDATE",e.DELETE="DELETE",e.SKIP="SKIP"}(Oe||(Oe={}));const Pe=Symbol("use-effect"),{useEffect:Le,hasEffects:Re,dropEffects:Fe}=_e(Pe,ie);function _e(e,t){return{useEffect:function(n,i){const o=J.get().hook,{idx:r,values:s}=o,l=()=>{s[r]={deps:i,token:e,value:void 0},t.add((()=>{s[r].value=n()}))};if(x(s[r]))l();else{const{deps:e,value:t}=s[r];(!i||O(i,e))&&(y(t)&&t(),l())}o.idx++},hasEffects:function(t){const{values:n}=t.hook;return n.some((t=>t?.token===e))},dropEffects:function(t){const{values:n}=t;for(const t of n)if(t.token===e){const e=t.value;y(e)&&e()}}}}const Ue=Symbol("use-layout-effect"),{useEffect:We,hasEffects:Be,dropEffects:je}=_e(Ue,oe),Ge=Symbol("use-insertion-effect"),{useEffect:Ze,hasEffects:Ke,dropEffects:qe}=_e(Ge,re);function ze(e,t){let n=e,i=!0,o=!1,r=!1;const s={},l=e=>!s[e],a=()=>i=!1,c=()=>r=!0;for(;n&&(t({nextFiber:n,isReturn:o,resetIsDeepWalking:a,stop:c}),!r);)if(n.child&&i&&l(n.child.id)){const e=n.child;o=!1,n=e,s[e.id]=!0}else if(n.nextSibling&&l(n.nextSibling.id)){const e=n.nextSibling;i=!0,o=!1,n=e,s[e.id]=!0}else if(n.parent&&n.parent===e&&n.parent.nextSibling&&l(n.parent.nextSibling.id)){const e=n.parent.nextSibling;i=!0,o=!1,n=e,s[e.id]=!0}else n.parent&&n.parent!==e?(i=!1,o=!0,n=n.parent):n=null}function Ve(e){(e.insertionEffectHost||e.layoutEffectHost||e.effectHost||e.portalHost)&&ze(e,(({nextFiber:t,isReturn:n,stop:i})=>{if(t===e.nextSibling)return i();!n&&F(t.instance)&&(t.insertionEffectHost&&qe(t.hook),t.layoutEffectHost&&je(t.hook),t.effectHost&&Fe(t.hook),t.portalHost&&W.unmountPortal(t))}))}const Ye=Symbol("fragment"),Xe=R((({slot:e})=>e||null),{token:Ye}),Je=e=>F(e)&&e.token===Ye,Qe={[Oe.CREATE]:!0};class et{id=0;nativeElement=null;parent=null;child=null;nextSibling=null;alternate=null;move=!1;effectTag=null;instance=null;hook=null;provider=null;effectHost=!1;layoutEffectHost=!1;insertionEffectHost=!1;portalHost=!1;childrenCount=0;childrenElementsCount=0;marker="";isUsed=!1;idx=0;elementIdx=0;batched=null;catchException;static nextId=0;constructor(e=null,t=null,n=0){this.id=++et.nextId,this.hook=e,this.provider=t,this.idx=n}mutate(e){const t=Object.keys(e);for(const n of t)this[n]=e[n];return this}markEffectHost(){this.effectHost=!0,this.parent&&!this.parent.effectHost&&this.parent.markEffectHost()}markLayoutEffectHost(){this.layoutEffectHost=!0,this.parent&&!this.parent.layoutEffectHost&&this.parent.markLayoutEffectHost()}markInsertionEffectHost(){this.insertionEffectHost=!0,this.parent&&!this.parent.insertionEffectHost&&this.parent.markInsertionEffectHost()}markPortalHost(){this.portalHost=!0,this.parent&&!this.parent.portalHost&&this.parent.markPortalHost()}incrementChildrenElementsCount(e=1,t=!1){!function(e,t=1,n=!1){if(!e.parent)return;const i=ae.get(),o=V.get(),r=i&&o.parent===e.parent;(Se(e.instance)||xe(e.instance)&&0===e.instance.children.length)&&(e.childrenElementsCount=1),i&&r&&!n||(e.parent.childrenElementsCount+=t,e.parent.nativeElement||e.parent.incrementChildrenElementsCount(t))}(this,e,t)}setError(e){y(this.catchException)?this.catchException(e):this.parent&&this.parent.setError(e)}}function tt(){const e=V.get();let t=X.get(),n=!1,i=Boolean(t);const o={fiber$$:null,fiber$:null,instance$:null};for(;t&&!n;)t=nt(t,o),X.set(t),i=Boolean(t),n=W.shouldYeildToHost();return!t&&e&&function(){if(f&&fe.set(!1),ue.get()&&de())return yt(null);const e=V.get(),t=W.detectIsDynamic(),n=te.get(),i=ee.get(),o=ae.get();for(const e of n)Ve(e),W.applyCommit(e);t&&(le.set(!0),re.get().forEach((e=>e())),le.set(!1)),o&&function(e){const t=e.childrenElementsCount-e.alternate.childrenElementsCount;if(0===t)return;const n=function(e){let t=e;for(;t&&(t=t.parent,!t||!t.nativeElement););return t}(e);let i=!1;e.incrementChildrenElementsCount(t,!0),ze(n.child,(({nextFiber:o,resetIsDeepWalking:r,isReturn:s,stop:l})=>o===n?l():o===e?(i=!0,r()):(o.nativeElement&&r(),void(i&&!s&&(o.elementIdx+=t)))))}(e);for(const e of i)e.effectTag!==Oe.SKIP&&W.applyCommit(e),e.alternate=null;e.alternate=null,W.finishCommitWork(),t&&(se.set(!0),oe.get().forEach((e=>e())),se.set(!1)),t&&function(){const e=ie.get();e.length>0&&setTimeout((()=>e.forEach((e=>e()))))}(),yt(e)}(),i}function nt(e,t){let n=!0,i=e,o=e.instance;for(;;){if(n=ne.deepWalking.get(),i.hook&&(i.hook.idx=0),n)if(gt(o)&&o.children.length>0){if(it(i,t),i=t.fiber$,o=t.instance$,t.fiber$$=null,t.fiber$=null,t.instance$=null,i)return i}else{ot(i,t);const e=t.fiber$$;if(i=t.fiber$,o=t.instance$,t.fiber$$=null,t.fiber$=null,t.instance$=null,e)return e}else{ot(i,t);const e=t.fiber$$;if(i=t.fiber$,o=t.instance$,t.fiber$$=null,t.fiber$=null,t.instance$=null,e)return e}if(null===i.parent)return null}}function it(e,t){ne.jumpToChild();let n=e.instance;const i=e.alternate?e.alternate.child:null,o=new et(vt(i,i?i.instance:null,gt(n)?n.children[0]:null),i?i.provider:null,0);J.set(o),o.parent=e,e.child=o,o.elementIdx=e.nativeElement?0:e.elementIdx,n=ut(n,0,o),i&&at(i,n),rt(o,i,n),i&&Ne(o.instance)&&ct(o),ee.add(o),t.fiber$$=null,t.fiber$=o,t.instance$=n}function ot(e,t){ne.jumpToSibling();let n=e.parent.instance;const i=ne.getIndex();if(gt(n)&&n.children[i]){ne.deepWalking.set(!0);const o=e.alternate?e.alternate.nextSibling:null,r=new et(vt(o,o?o.instance:null,gt(n)?n.children[i]:null),o?o.provider:null,i);return J.set(r),r.parent=e.parent,e.nextSibling=r,r.elementIdx=e.elementIdx+(e.nativeElement?1:e.childrenElementsCount),n=ut(n,i,r),o&&at(o,n),rt(r,o,n),o&&Ne(r.instance)&&ct(r),ee.add(r),t.fiber$$=r,t.fiber$=r,void(t.instance$=n)}ne.jumpToParent(),ne.deepWalking.set(!1),n=(e=e.parent).instance,gt(e.instance)&&(e.instance.children=[]),t.fiber$$=null,t.fiber$=e,t.instance$=n}function rt(e,t,n){let i=!1;Qe[e.parent.effectTag]&&(e.effectTag=e.parent.effectTag),e.effectTag!==Oe.CREATE&&(i=t&&Et(t.instance,n)&&(t?ht(t.instance):null)===ht(n)),e.instance=n,e.alternate=t||null,e.nativeElement=i?t.nativeElement:null,e.effectTag=i?Oe.UPDATE:Oe.CREATE,t&&t.move&&(e.move=t.move,t.move=!1),gt(e.instance)&&(e.childrenCount=e.instance.children.length),!e.nativeElement&&ye(e.instance)&&(e.nativeElement=W.createNativeElement(e.instance),e.effectTag=Oe.CREATE),e.nativeElement&&e.incrementChildrenElementsCount()}function st(e,t,n){return 0===e||t.child&&t.child.effectTag===Oe.DELETE?(t.child=n,n.parent=t):(t.nextSibling=n,n.parent=t.parent),n}function lt(e,t){return(new et).mutate({effectTag:Oe.CREATE,instance:Me(),parent:e,marker:t+""})}function at(e,t){const n=Et(e.instance,t),i=function(e){return F(e)?U(e):Te(e)?He(e):xe(e)?we(e):null}(t),o=i&&i[v.HAS_NO_MOVES];if(e.isUsed=!0,n){if(gt(e.instance)&&gt(t)&&0!==e.childrenCount&&(!o||e.childrenCount!==t.children.length)){const{prevKeys:n,nextKeys:i,prevKeysMap:o,nextKeysMap:r,keyedFibersMap:s}=function(e,t){let n=e,i=0;const o=[],r=[],s={},l={},a={},c={};for(;n||i<t.length;){if(n){const e=ht(n.instance),t=M(e)?dt(i):e;o.push(t),s[t]=!0,a[t]=n}if(t[i]){const e=t[i],n=ht(e),o=M(n)?dt(i):n;f&&(c[o]&&$(`[Dark]: The key of node [${o}] already has been used!`,[e]),c[o]=!0),r.push(o),l[o]=!0}n=n?n.nextSibling:null,i++}return{prevKeys:o,nextKeys:r,prevKeysMap:s,nextKeysMap:l,keyedFibersMap:a}}(e.child,t.children);let l=[],a=Math.max(n.length,i.length),c=e,u=0,d=0,h=0;for(let t=0;t<a;t++){const m=i[t-h]??null,p=n[t-d]??null,g=s[p]||null,E=s[m]||lt(e,m);m!==p?null===m||o[m]?r[p]?r[p]&&r[m]&&(f&&l.push([[m,p],"move"]),E.effectTag=Oe.UPDATE,g.effectTag=Oe.UPDATE,E.move=!0,c=st(t,c,E)):(f&&l.push([p,"remove"]),g.effectTag=Oe.DELETE,te.add(g),h++,u--,a++):(null===p||r[p]?(f&&l.push([m,"insert"]),E.effectTag=Oe.CREATE,d++,a++):(f&&l.push([[m,p],"replace"]),E.effectTag=Oe.CREATE,g.effectTag=Oe.DELETE,te.add(g)),c=st(t,c,E)):null!==m&&(f&&l.push([m,"stable"]),E.effectTag=Oe.UPDATE,c=st(t,c,E)),E.idx=u,u++}l=[]}}else(function(e){let t=e.parent;for(;t;){if(t.effectTag===Oe.DELETE)return!1;t=t.parent}return!0})(e)&&(e.effectTag=Oe.DELETE,te.add(e))}function ct(e){if(f&&fe.get())return;const t=e.alternate,n=t.instance,i=e.instance;if(e.move||i.type!==n.type||i.shouldUpdate(n.props,i.props))return;ne.deepWalking.set(!1),e.effectTag=Oe.SKIP,e.alternate=t,e.nativeElement=t.nativeElement,e.child=t.child,e.hook=t.hook,e.provider=t.provider,e.childrenCount=t.childrenCount,e.childrenElementsCount=t.childrenElementsCount,e.catchException=t.catchException,e.child&&(e.child.parent=e);const o=e.elementIdx-t.elementIdx;0!==o&&ze(e.child,(({nextFiber:t,stop:n})=>t===e.nextSibling||t===e.parent?n():(t.elementIdx+=o,t.parent!==e&&t.nativeElement?n():void 0))),e.incrementChildrenElementsCount(t.childrenElementsCount),t.effectHost&&e.markEffectHost(),t.layoutEffectHost&&e.markLayoutEffectHost(),t.insertionEffectHost&&e.markInsertionEffectHost(),t.portalHost&&e.markPortalHost()}function ut(e,t,n){let i=null;return gt(e)&&(C(e.children[t])&&e.children.splice(t,1,...N(e.children[t])),i=ft(n,e.children[t]),F(i)&&(Re(n)&&n.markEffectHost(),Be(n)&&n.markLayoutEffectHost(),Ke(n)&&n.markInsertionEffectHost(),W.detectIsPortal(i)&&n.markPortalHost())),i}function ft(e,t){let n=t;const i=F(n),o=n;if(i)try{let e=o.type(o.props,o.ref);C(e)&&!Je(o)?e=Xe({slot:e}):(T(e)||b(e))&&(e=Ie(e)),o.children=C(e)?N(e):[e]}catch(t){o.children=[],e.setError(t),$(t)}else Te(n)&&(n=n());if(gt(n)){n.children=i?n.children:C(n.children)?N(n.children):[n.children];for(let e=0;e<n.children.length;e++)n.children[e]||(n.children[e]=mt(n.children[e]));i&&0===o.children.length&&o.children.push(Me())}return n}function dt(e){return`${d}:${e}`}function ht(e){return F(e)?_(e):Te(e)?Ce(e):xe(e)?ke(e):null}function mt(e){return S(e)?Me():e}function pt(e){return Te(e)?e[h]:xe(e)?e.name:ye(e)||F(e)?e.type:null}function gt(e){return xe(e)||F(e)}function Et(e,t,n=!1){if(f&&fe.get()&&F(e)&&F(t))return e.displayName===t.displayName;if(n){const n=t;return e.type===n.type}return pt(e)===pt(t)}function vt(e,t,n){return e&&function(e,t){return!!(e&&t&&F(e)&&F(t)&&Et(e,t,!0))&&ht(e)===ht(t)}(t,n)?e.hook:F(n)?{idx:0,values:[]}:null}function yt(e){V.set(null),ee.reset(),te.reset(),re.reset(),oe.reset(),ie.reset(),ae.get()?ae.set(!1):Y.set(e)}const xt=()=>Boolean(V.get()),bt=R((({slot:e})=>e),{token:Ae});function Tt(e){return Te(e)||F(e)}function kt(e,t=!1){return function(e,t){if(C(e)?Tt(e[0]):Tt(e)){const n=bt({slot:Xe({slot:e})});return n.shouldUpdate=()=>t,n}return e}(e(),t)}function wt(e,t){const n=J.get(),{hook:i}=n,{idx:o,values:r}=i;if(x(r[o])){const n=kt(e);return r[o]={deps:t,value:n},i.idx++,n}const s=r[o],l=O(t,s.deps),a=l?e:()=>s.value;return s.deps=t,s.value=kt(a,l),i.idx++,s.value}function Ct(e,t){return wt((()=>e),t)}function Ht(e,t){const n=function(e){const t=q(),n=wt((()=>({fiber:null})),[]);return n.fiber=J.get(),i=>{if(le.get())return;const o=function(e){const{rootId:t,fiber:n,forceStart:i=!1,onStart:o}=e;return()=>{n.effectTag!==Oe.DELETE&&(i&&o(),n.isUsed||(!i&&o(),K.set(t),ae.set(!0),ne.reset(),n.alternate=(new et).mutate(n),n.marker="ðŸ”¥",n.effectTag=Oe.UPDATE,n.childrenElementsCount=0,n.child=null,V.set(n),J.set(n),n.instance=ft(n,n.instance),X.set(n)))}}({rootId:t,fiber:n.fiber,forceStart:Boolean(e?.timeoutMs),onStart:i||A});se.get()&&(e={...e||{},forceSync:!0}),ce.get()?function(e,t){e.batched&&clearTimeout(e.batched),e.batched=setTimeout((()=>{ce.set(!1),e.batched=null,t()}))}(n.fiber,(()=>W.scheduleCallback(o,e))):W.scheduleCallback(o,e)}}(t),i=wt((()=>({value:y(e)?e():e})),[]),o=Ct((e=>{const o=i.value,r=y(e)?e(o):e;if(!Object.is(o,r)){const e=()=>i.value=r;t?.priority===E.LOW?n((()=>e())):(e(),n())}}),[]);return[i.value,o]}function Mt(e){return(e=e.map((e=>T(e)||b(e)?Ie(e.toString()):e)))?Array.isArray(e)?[...e]:[e]:[]}function St(e,t,...n){if(T(e))return function(e){const t=()=>{const{as:t,slot:n,_void:i=!1,...o}=e,r=i?[]:C(n)?n:n?[n]:[];return new ge(t,o,r)};return t[me]=!0,t[m]=e.key,t[g]=e.flag,t[h]=e.as,t}({...t,as:e,slot:Mt(n)});if(y(e)){let i=Mt(n);return i=1===i.length?i[0]:i,e({...t,slot:i})}return null}function It(e,...t){return wt((()=>e.map(((e,n)=>e+(x(t[n])?"":t[n]))).join("").replace(/;\s*/gm,";").replace(/:\s*/gm,":").trim()),[e,...t])}function At(e){return e(It)}const $t=Symbol("portal");R((({slot:e,...t})=>(wt((()=>t[$t].innerHTML=""),[]),e)),{token:$t});const Nt=e=>F(e)&&e.token===$t,Dt=e=>Nt(e)?e.props[$t]:null;function Ot(e){const t=Dt(e.instance);t&&(t.innerHTML="")}class Pt{type="";sourceEvent=null;target=null;propagation=!0;constructor(e){this.type=e.sourceEvent.type,this.sourceEvent=e.sourceEvent,this.target=e.target}stopPropagation(){this.propagation=!1,this.sourceEvent.stopPropagation()}preventDefault(){this.sourceEvent.preventDefault()}getPropagation(){return this.propagation}}function Lt(e){const{target:t,eventName:n,handler:i}=e,o=Q.get(),r=o.get(n);if(r)r.set(t,i);else{const e=e=>{const t=o.get(n).get(e.target),i=e.target;let r=null;y(t)&&(r=new Pt({sourceEvent:e,target:i}),t(r)),(r?r.getPropagation():i.parentElement)&&i.parentElement.dispatchEvent(new e.constructor(e.type,e))};o.set(n,new WeakMap([[t,i]])),document.addEventListener(n,e,!0),Q.addUnsubscriber((()=>document.removeEventListener(n,e,!0)))}}const Rt=e=>e.startsWith("on"),Ft=e=>e.slice(2,e.length).toLowerCase(),_t={[m]:!0,[p]:!0,[g]:!0},Ut={transform:!0,fill:!0};let Wt=[];const Bt=D("svg,animate,animateMotion,animateTransform,circle,clipPath,defs,desc,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,image,line,linearGradient,marker,mask,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,stop,switch,symbol,text,textPath,tspan,use,view".split(","),(e=>e)),jt=D("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr".split(","),(e=>e)),Gt={[he.TAG]:e=>{const t=e;return n=t.name,Boolean(Bt[n])?document.createElementNS("http://www.w3.org/2000/svg",t.name):document.createElement(t.name);var n},[he.TEXT]:e=>document.createTextNode(e.value),[he.COMMENT]:e=>document.createComment(e.value)};function Zt(e){return Gt[e.type](e)}function Kt(e,t){!function(e,t){y(e)?e(t):function(e){if(!k(e)||H(e))return!1;const t=e;for(const e in t)if("current"===e&&t.hasOwnProperty(e))return!0;return!1}(e)&&(e.current=t)}(e,t)}function qt(e){const{tagName:t,element:n,attrName:i,attrValue:o}=e,r=zt[t];let s=!!r&&r(n,i,o);var l,a;return a=i,(l=Object.getPrototypeOf(n)).hasOwnProperty(a)&&Boolean(Object.getOwnPropertyDescriptor(l,a)?.set)&&(n[i]=o),!s&&w(o)&&(s=!i.includes("-")),s}const zt={input:(e,t,n)=>("value"===t&&w(n)?e.checked=n:"autoFocus"===t&&(e.autofocus=Boolean(n)),!1),textarea:(e,t,n)=>"value"===t&&(e.innerHTML=String(n),!0)};function Vt(e){let t=e;for(;t;)if(t=t.parent,Nt(t.instance)&&(t.nativeElement=Dt(t.instance)),t.nativeElement)return t;return t}const Yt={[Oe.CREATE]:e=>{null!==e.nativeElement&&function(e){const t=Vt(e),n=t.nativeElement,i=n.childNodes;if(ue.get()){const t=i[e.elementIdx];be(e.instance)&&t instanceof Text&&e.instance.value.length!==t.length&&t.splitText(e.instance.value.length),e.nativeElement=t}else 0===i.length||e.elementIdx>i.length-1?(o=t.instance.name,!Boolean(jt[o])&&function(e,t){t.appendChild(e.nativeElement)}(e,n)):function(e,t){t.insertBefore(e.nativeElement,t.childNodes[e.elementIdx])}(e,n);var o;xe(e.instance)&&function(e,t){const n=Object.keys(t.attrs),i=e;for(const o of n){const n=t.attrs[o];o!==p?y(n)?Rt(o)&&Lt({target:i,handler:n,eventName:Ft(o)}):x(n)||_t[o]||!qt({tagName:t.name,element:i,attrValue:n,attrName:o})&&i.setAttribute(o,n):Kt(n,e)}}(e.nativeElement,e.instance)}(e)},[Oe.UPDATE]:e=>{e.move&&(function(e){const t=function(e){const t=[];return ze(e,(({nextFiber:n,isReturn:i,resetIsDeepWalking:o,stop:r})=>n===e.nextSibling||n===e.parent?r():!i&&n.nativeElement?(!Nt(n.instance)&&t.push(n.nativeElement),o()):void 0)),t}(e),n=t[0].parentElement,i=new DocumentFragment,o=e.elementIdx;let r=0;for(const e of t)n.insertBefore(document.createComment(`${o}:${r}`),e),i.appendChild(e),r++;Wt.push((()=>{for(let e=1;e<t.length;e++)n.removeChild(n.childNodes[o+1]);n.replaceChild(i,n.childNodes[o])}))}(e),e.move=!1),null===e.nativeElement||F(e.instance)||function(e){const t=e.nativeElement,n=e.alternate.instance,i=e.instance;Se(n)&&Se(i)?n.value!==i.value&&(t.textContent=i.value):function(e,t,n){const i=Object.keys(n.attrs),o=e;for(const r of i){const i=t.attrs[r],s=n.attrs[r];r!==p?x(s)?o.removeAttribute(r):y(i)?Rt(r)&&i!==s&&Lt({target:o,handler:s,eventName:Ft(r)}):_t[r]||i===s||(Ut[r]||!qt({tagName:n.name,element:o,attrValue:s,attrName:r}))&&o.setAttribute(r,s):Kt(i,e)}}(t,n,i)}(e)},[Oe.DELETE]:e=>function(e){const t=Vt(e);ze(e,(({nextFiber:n,isReturn:i,resetIsDeepWalking:o,stop:r})=>n===e.nextSibling||n===e.parent?r():!i&&n.nativeElement?(!Nt(n.instance)&&t.nativeElement.removeChild(n.nativeElement),o()):void 0))}(e),[Oe.SKIP]:()=>{}};function Xt(e){Yt[e.effectTag](e)}function Jt(){for(const e of Wt)e();Wt=[],ue.set(!1)}const Qt={animations:[],hight:[],normal:[],low1:[],low2:[]},en=1e5;let tn=null,nn=0,on=!1,rn=null;class sn{static nextTaskId=0;id;time;timeoutMs;priority;forceSync;callback;constructor(e){this.id=++sn.nextTaskId,this.time=e.time,this.timeoutMs=e.timeoutMs,this.priority=e.priority,this.forceSync=e.forceSync,this.callback=e.callback}}const ln=()=>I()>=nn;function an(e,t){const{priority:n=E.NORMAL,timeoutMs:i=0,forceSync:o=!1}=t||{},r=new sn({time:I(),timeoutMs:i,priority:n,forceSync:o,callback:e});({[E.ANIMATION]:()=>Qt.animations.push(r),[E.HIGH]:()=>Qt.hight.push(r),[E.NORMAL]:()=>Qt.normal.push(r),[E.LOW]:()=>r.timeoutMs>0?Qt.low2.push(r):Qt.low1.push(r)})[r.priority](),un()}function cn(e){if(!e.length)return!1;rn=e.shift();const t=rn.priority===E.ANIMATION;return rn.callback(),rn.forceSync||t?function(e){for(;e(););un(),rn=null}(tt):(tn=tt,on||(on=!0,dn.postMessage(null))),!0}function un(){xt()||function(){const[e]=Qt.low2;return!!(e&&I()-e.time>e.timeoutMs)&&(cn(Qt.low2),!0)}()||(Qt.low1.length>en&&(Qt.low1=[]),0)||Qt.animations.length>0&&cn(Qt.animations)||Qt.hight.length>0&&cn(Qt.hight)||Qt.normal.length>0&&cn(Qt.normal)||Qt.low1.length>0&&requestIdleCallback((()=>cn(Qt.low1)))||Qt.low2.length>0&&requestIdleCallback((()=>cn(Qt.low2)))}let fn=null,dn=null;fn=new MessageChannel,dn=fn.port2,fn.port1.onmessage=function(){if(tn){nn=I()+4;try{tn()?dn.postMessage(null):(rn=null,on=!1,tn=null,un())}catch(e){throw dn.postMessage(null),e}}else on=!1};let hn=!1;const mn=new Map;!function(e){void 0===e&&(e=t.HideMin|t.HideMax|t.HideMean|t.RoundValues),u();var n=new i(100),o=new a("FPS",e,"",n);c.appendChild(o.element);var r=0,s=60;requestAnimationFrame((function e(t){r>0&&(s+=.01652892561983471*(1e3/(t-r)-s)),r=t,n.addSample(s),o.invalidate(),requestAnimationFrame(e)}))}(),function(e){if(void 0===e&&(e=t.HideMin|t.HideMean),u(),void 0!==performance.memory){var n=new i(100),o=new a("Memory",e,"MB",n);c.appendChild(o.element),function e(){n.addSample(Math.round(performance.memory.usedJSHeapSize/1048576)),o.invalidate(),setTimeout(e,30)}()}}();const pn=document.getElementById("root"),gn=R((e=>{const[t,n]=Ht(!1,{priority:E.HIGH}),i=1.3*e.size,o=At((n=>({dot:n`
      position: absolute;
      background-color: #61dafb;
      text-align: center;
      cursor: pointer;
      width: ${i}px;
      height: ${i}px;
      left: ${e.x}px;
      top: ${e.y}px;
      border-radius: ${i/2}px;
      line-height: ${i}px;
      background-color: ${t?"yellow":"#61dafb"};
    `}))),r=Ct((()=>{n(!0)}),[]),s=Ct((()=>{n(!1)}),[]);return St("div",{style:o.dot,onMouseEnter:r,onMouseLeave:s},t?`* ${Ie.from(e.slot)} *`:Ie.from(e.slot))})),En=De(gn,((e,t)=>e.x!==t.x||e.y!==t.y||e.size!==t.size||Ie.from(e.slot)!==Ie.from(t.slot))),vn=De(R((({x:e,y:t,s:n,slot:i})=>n<=25?St(En,{x:e-12.5,y:t-12.5,size:25},i):St(Xe,null,St(vn,{x:e,y:t-(n/=2)/2,s:n},i),St(vn,{x:e-n,y:t+n/2,s:n},i),St(vn,{x:e+n,y:t+n/2,s:n},i)))),((e,t)=>e.x!==t.x||e.y!==t.y||e.s!==t.s||Ie.from(e.slot)!==Ie.from(t.slot))),yn=R((e=>{const[t,n]=Ht(!1),[i,o]=Ht(0),r=function(e,t){const{timeoutMs:n}={},[i,o]=Ht(e,{priority:E.LOW,timeoutMs:n}),r=wt((()=>({value:e})),[]);return r.value!==e&&e!==i&&(r.value=e,o(e)),i}(i),s=e.elapsed/1e3%10,l=1+(s>5?10-s:s)/10;Le((()=>{setInterval((()=>o((e=>e%10+1))),1e3)}),[]);const a=At((e=>({container:e`
      position: absolute;
      left: 50%;
      top: 50%;
      transform-origin: 0 0;
      background-color: #eee;
      transform: scaleX(${l/2.1}) scaleY(0.7);
    `})));return St("div",{style:"padding: 16px"},St("label",null,St("input",{type:"checkbox",onInput:()=>n((e=>!e))}),"Enable deferred updates"),St("p",null,"If deferred updates enabled timer won't render on slow devices ",St("br",null)," (You can enable CPU throttling here)"),St("div",{style:a.container},St(vn,{x:0,y:0,s:1e3},t?r:i)))})),xn=(new Date).getTime();!function e(){(function(e,t,n=!1){if(!hn&&function(){W.createNativeElement=Zt,W.requestAnimationFrame=requestAnimationFrame.bind(this),W.cancelAnimationFrame=cancelAnimationFrame.bind(this),W.scheduleCallback=an,W.shouldYeildToHost=ln,W.applyCommit=Xt,W.finishCommitWork=Jt,W.detectIsDynamic=()=>!0,W.detectIsPortal=Nt,W.unmountPortal=Ot,W.restart=()=>{},hn=!0}(),!(t instanceof Element))throw new Error("[Dark]: render receives only Element as container!");const i=!x(mn.get(t));let o=null;i?o=mn.get(t):(o=mn.size,mn.set(t,o),n||(t.innerHTML="")),le.get(o)||W.scheduleCallback((()=>{K.set(o);const i=Y.get(),r=Boolean(i),s=(new et).mutate({nativeElement:t,instance:new ge("root",{},N([e||Me()])),alternate:i,effectTag:r?Oe.UPDATE:Oe.CREATE});ne.reset(),V.set(s),ue.set(n),X.set(s)}),{priority:E.NORMAL,forceSync:n||se.get()})})(St(yn,{elapsed:(new Date).getTime()-xn}),pn),requestAnimationFrame(e)}()})();
//# sourceMappingURL=build.js.map