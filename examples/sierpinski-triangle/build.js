(()=>{"use strict";var e,t,n=function(e,t,n,o){this.min=e,this.max=t,this.mean=n,this.last=o},o=function(){function e(e){this.samples=[],this.maxSamples=e,this._i=-1}return e.prototype.addSample=function(e){this._i=(this._i+1)%this.maxSamples,this.samples[this._i]=e},e.prototype.each=function(e){for(var t=this.samples,n=0;n<t.length;n++)e(t[(this._i+1+n)%t.length],n)},e.prototype.calc=function(){var e=this.samples;if(0===e.length)return new n(0,0,0,0);for(var t=e[(this._i+1)%e.length],o=t,i=0,r=0;r<e.length;r++){var l=e[(this._i+1+r)%e.length];l<t&&(t=l),l>o&&(o=l),i+=l}var a=e[this._i],s=i/e.length;return new n(t,o,s,a)},e}(),i=[],r=-1,l=(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}),a=function(){function e(e){var t=this;this._sync=function(){t.sync(),t._dirty=!1},this.name=e,this.element=document.createElement("div"),this.element.style.cssText="padding: 2px;background-color: #020;font-family: monospace;font-size: 12px;color: #0f0",this._dirty=!1,this.invalidate()}return e.prototype.invalidate=function(){var e;this._dirty||(this._dirty=!0,e=this._sync,i.push(e),-1===r&&requestAnimationFrame((function(e){r=-1;var t=i;i=[];for(var n=0;n<t.length;n++)t[n]()})))},e.prototype.sync=function(){throw new Error("sync method not implemented")},e}();!function(e){e[e.HideMin=1]="HideMin",e[e.HideMax=2]="HideMax",e[e.HideMean=4]="HideMean",e[e.HideLast=8]="HideLast",e[e.HideGraph=16]="HideGraph",e[e.RoundValues=32]="RoundValues"}(t||(t={}));var s=function(e){function n(n,o,i,r){var l=e.call(this,n)||this;l.flags=o,l.unitName=i,l.samples=r;var a=document.createElement("div");a.style.cssText="text-align: center",a.textContent=l.name;var s=document.createElement("div");return 0==(o&t.HideMin)?(l.minText=document.createElement("div"),s.appendChild(l.minText)):l.minText=null,0==(o&t.HideMax)?(l.maxText=document.createElement("div"),s.appendChild(l.maxText)):l.maxText=null,0==(o&t.HideMean)?(l.meanText=document.createElement("div"),s.appendChild(l.meanText)):l.meanText=null,0==(o&t.HideLast)?(l.lastText=document.createElement("div"),s.appendChild(l.lastText)):l.lastText=null,l.element.appendChild(a),l.element.appendChild(s),0==(o&t.HideGraph)?(l.canvas=document.createElement("canvas"),l.canvas.style.cssText="display: block; padding: 0; margin: 0",l.canvas.width=100,l.canvas.height=30,l.ctx=l.canvas.getContext("2d"),l.element.appendChild(l.canvas)):(l.canvas=null,l.ctx=null),l}return l(n,e),n.prototype.sync=function(){var e,n,o,i,r=this,l=this.samples.calc(),a=30/(1.2*l.max);0==(this.flags&t.RoundValues)?(e=l.min.toFixed(2),n=l.max.toFixed(2),o=l.mean.toFixed(2),i=l.last.toFixed(2)):(e=Math.round(l.min).toString(),n=Math.round(l.max).toString(),o=Math.round(l.mean).toString(),i=Math.round(l.last).toString()),null!==this.minText&&(this.minText.textContent="min: Â "+e+this.unitName),null!==this.maxText&&(this.maxText.textContent="max: Â "+n+this.unitName),null!==this.meanText&&(this.meanText.textContent="mean: "+o+this.unitName),null!==this.lastText&&(this.lastText.textContent="last: "+i+this.unitName),null!==this.ctx&&(this.ctx.fillStyle="#010",this.ctx.fillRect(0,0,100,30),this.ctx.fillStyle="#0f0",this.samples.each((function(e,t){r.ctx.fillRect(t,30,1,-e*a)})))},n}(a),c=(function(e){function t(t,n){var o=e.call(this,t)||this;return o.counter=n,o.text=document.createElement("div"),o.element.appendChild(o.text),o}l(t,e),t.prototype.sync=function(){this.text.textContent=this.name+": "+this.counter.value}}(a),null);function u(){c||((c=document.createElement("div")).style.cssText="position: fixed;opacity: 0.9;right: 0;bottom: 0",document.body.appendChild(c))}const f="type",d="key",h="ref",m="flag";var p,E;!function(e){e[e.ANIMATION=3]="ANIMATION",e[e.HIGH=2]="HIGH",e[e.NORMAL=1]="NORMAL",e[e.LOW=0]="LOW"}(p||(p={})),function(e){e.HAS_NO_MOVES="HAS_NO_MOVES"}(E||(E={}));const v=e=>"function"==typeof e,g=e=>void 0===e,y=e=>"number"==typeof e,x=e=>"string"==typeof e,b=e=>"boolean"==typeof e,T=e=>Array.isArray(e),k=e=>null===e,w=e=>k(e)||g(e),C=()=>Date.now(),M=()=>{};function H(e){const t=[],n={0:{idx:0,source:e}};let o=0;do{const{source:e,idx:i}=n[o],r=e[i];i>=e.length?(o--,n[o]||(n[o]={idx:0,source:[]}),n[o].idx++):T(r)?(o++,n[o]={idx:0,source:r}):(t.push(r),n[o].idx++)}while(o>0||n[o].idx<n[o].source.length);return t}function S(e,t,n=!1){return e.reduce(((e,o)=>(e[t(o)]=!n||o,e)),{})}function A(e,t){if(!g(e)&&!g(t)&&e.length>0&&t.length>0)for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1}const I=Symbol("component");class ${type;token;props;ref;displayName;children=[];shouldUpdate;constructor(e,t,n,o,i,r){this.type=e||null,this.token=t||I,this.props=n||null,this.ref=o||null,this.shouldUpdate=i||null,this.displayName=r||""}}function N(e,t={}){const{token:n,displayName:o,shouldUpdate:i,keepRef:r=!1}=t;return(t={},l)=>(!r&&t.ref&&delete t.ref,new $(e,n,t,l,i,o))}const O=e=>e instanceof $,D={createNativeElement:()=>{throw new Error(L("createNativeElement"))},requestAnimationFrame:()=>{throw new Error(L("requestAnimationFrame"))},cancelAnimationFrame:()=>{throw new Error(L("cancelAnimationFrame"))},scheduleCallback:()=>{throw new Error(L("scheduleCallback"))},shouldYeildToHost:()=>{throw new Error(L("shouldYeildToHost"))},applyCommit:()=>{throw new Error(L("applyCommit"))},finishCommitWork:()=>{throw new Error(L("finishCommitWork"))},detectIsDynamic:()=>{throw new Error(L("detectIsDynamic"))},detectIsPortal:()=>{throw new Error(L("detectIsPortal"))},unmountPortal:()=>{throw new Error(L("unmountPortal"))},restart:()=>{throw new Error(L("restart"))}},L=e=>`${e} not installed by renderer`;let P=null;const R=new Map;class F{wipRoot=null;currentRoot=null;nextUnitOfWork=null;events=new Map;unsubscribers=[];candidates=new Set;deletions=new Set;fiberMount={level:0,navigation:{},isDeepWalking:!0};componentFiber=null;effects=[];layoutEffects=[];insertionEffects=[];isLayoutEffectsZone=!1;isInserionEffectsZone=!1;isUpdateHookZone=!1;isBatchZone=!1;isHydrateZone=!1;isHot=!1;lazy=new Set}const _=e=>{P=e,!R.get(P)&&R.set(P,new F)},U=()=>P,W=(e=P)=>R.get(e),B=()=>W()?.wipRoot||null,G=e=>W().wipRoot=e,Z=e=>W().nextUnitOfWork=e,j=()=>W()?.componentFiber,K=e=>W().componentFiber=e,z=e=>W().candidates.add(e),V=e=>W().deletions.add(e),q=()=>{W().fiberMount={level:0,navigation:{},isDeepWalking:!0}},Y=()=>W().fiberMount.isDeepWalking,X=e=>W().fiberMount.isDeepWalking=e,J={get:()=>W().effects,reset:()=>W().effects=[],add:e=>W().effects.push(e)},Q={get:()=>W().layoutEffects,reset:()=>W().layoutEffects=[],add:e=>W().layoutEffects.push(e)},ee={get:()=>W().insertionEffects,reset:()=>W().insertionEffects=[],add:e=>W().insertionEffects.push(e)},te=()=>W()?.isLayoutEffectsZone||!1,ne=e=>W().isLayoutEffectsZone=e,oe=e=>W(e)?.isInserionEffectsZone||!1,ie=e=>W().isInserionEffectsZone=e,re=()=>W()?.isUpdateHookZone||!1,le=e=>W().isUpdateHookZone=e,ae=()=>W()?.isHydrateZone||!1,se=e=>W().isHydrateZone=e;var ce;!function(e){e.TAG="TAG",e.TEXT="TEXT",e.COMMENT="COMMENT"}(ce||(ce={}));const ue=Symbol("virtual-node");class fe{type=null;constructor(e){this.type=e}}class de extends fe{name=null;attrs={};children=[];constructor(e,t,n){super(ce.TAG),this.name=e||this.name,this.attrs=t||this.attrs,this.children=n||this.children}}class he extends fe{value="";constructor(e){super(ce.TEXT),this.value=e}}class me extends fe{value="";constructor(e){super(ce.COMMENT),this.value=e}}const pe=e=>e instanceof fe,Ee=e=>e instanceof de,ve=e=>e instanceof he,ge=e=>v(e)&&!0===e[ue],ye=()=>new me("dark:matter"),xe=e=>ve(e)||(e=>e instanceof me)(e);function be(e){return new he(e+"")}be.from=e=>ve(e)?e.value:e+"";const Te=Symbol("memo"),ke=(e,t)=>{const n=Object.keys(t);for(const o of n)if("slot"!==o&&t[o]!==e[o])return!0;return!1},we=e=>O(e)&&e.token===Te;function Ce(e,t=ke){return N((t=>e(t)),{token:Te,keepRef:!0,shouldUpdate:t})}var Me;!function(e){e.CREATE="CREATE",e.UPDATE="UPDATE",e.DELETE="DELETE",e.SKIP="SKIP"}(Me||(Me={}));const He=Symbol("use-effect"),{useEffect:Se,hasEffects:Ae,dropEffects:Ie}=$e(He,J);function $e(e,t){return{useEffect:function(n,o){const i=j().hook,{idx:r,values:l}=i,a=()=>{l[r]={deps:o,token:e,value:void 0},t.add((()=>{l[r].value=n()}))};if(g(l[r]))a();else{const{deps:e,value:t}=l[r];(!o||A(o,e))&&(v(t)&&t(),a())}i.idx++},hasEffects:function(t){const{values:n}=t.hook;return n.some((t=>t?.token===e))},dropEffects:function(t){const{values:n}=t;for(const t of n)if(t.token===e){const e=t.value;v(e)&&e()}}}}const Ne=Symbol("use-layout-effect"),{useEffect:Oe,hasEffects:De,dropEffects:Le}=$e(Ne,Q),Pe=Symbol("use-insertion-effect"),{useEffect:Re,hasEffects:Fe,dropEffects:_e}=$e(Pe,ee);function Ue(e,t){let n=e,o=!0,i=!1,r=!1;const l={},a=e=>!l[e],s=()=>o=!1,c=()=>r=!0;for(;n&&(t({nextFiber:n,isReturn:i,resetIsDeepWalking:s,stop:c}),!r);)if(n.child&&o&&a(n.child.id)){const e=n.child;i=!1,n=e,l[e.id]=!0}else if(n.nextSibling&&a(n.nextSibling.id)){const e=n.nextSibling;o=!0,i=!1,n=e,l[e.id]=!0}else if(n.parent&&n.parent===e&&n.parent.nextSibling&&a(n.parent.nextSibling.id)){const e=n.parent.nextSibling;o=!0,i=!1,n=e,l[e.id]=!0}else n.parent&&n.parent!==e?(o=!1,i=!0,n=n.parent):n=null}function We(e){(e.insertionEffectHost||e.layoutEffectHost||e.effectHost||e.portalHost)&&Ue(e,(({nextFiber:t,isReturn:n,stop:o})=>{if(t===e.nextSibling)return o();!n&&O(t.instance)&&(t.insertionEffectHost&&_e(t.hook),t.layoutEffectHost&&Le(t.hook),t.effectHost&&Ie(t.hook),t.portalHost&&D.unmountPortal(t))}))}const Be=Symbol("fragment"),Ge=N((({slot:e})=>e||null),{token:Be}),Ze={[Me.CREATE]:!0};class je{id=0;nativeElement=null;parent=null;child=null;nextSibling=null;alternate=null;move=!1;effectTag=null;instance=null;hook=null;provider=null;effectHost=!1;layoutEffectHost=!1;insertionEffectHost=!1;portalHost=!1;childrenCount=0;childrenElementsCount=0;marker="";isUsed=!1;idx=0;elementIdx=0;batched=null;catchException;static nextId=0;constructor(e=null,t=null,n=0){this.id=++je.nextId,this.hook=e,this.provider=t,this.idx=n}mutate(e){const t=Object.keys(e);for(const n of t)this[n]=e[n];return this}markEffectHost(){this.effectHost=!0,this.parent&&!this.parent.effectHost&&this.parent.markEffectHost()}markLayoutEffectHost(){this.layoutEffectHost=!0,this.parent&&!this.parent.layoutEffectHost&&this.parent.markLayoutEffectHost()}markInsertionEffectHost(){this.insertionEffectHost=!0,this.parent&&!this.parent.insertionEffectHost&&this.parent.markInsertionEffectHost()}markPortalHost(){this.portalHost=!0,this.parent&&!this.parent.portalHost&&this.parent.markPortalHost()}incrementChildrenElementsCount(e=1,t=!1){!function(e,t=1,n=!1){if(!e.parent)return;const o=re(),i=B(),r=o&&i.parent===e.parent;(xe(e.instance)||Ee(e.instance)&&0===e.instance.children.length)&&(e.childrenElementsCount=1),o&&r&&!n||(e.parent.childrenElementsCount+=t,e.parent.nativeElement||e.parent.incrementChildrenElementsCount(t))}(this,e,t)}setError(e){v(this.catchException)?this.catchException(e):this.parent&&this.parent.setError(e)}}function Ke(){const e=B();let t=W()?.nextUnitOfWork||null,n=!1,o=Boolean(t);const i={fiber$$:null,fiber$:null,instance$:null};for(;t&&!n;)t=ze(t,i),Z(t),o=Boolean(t),n=D.shouldYeildToHost();return!t&&e&&function(){if(ae()&&W().lazy.size>0)return ut(null);const e=B(),t=D.detectIsDynamic(),n=W().deletions,o=W().candidates,i=re();for(const e of n)We(e),D.applyCommit(e);t&&(ie(!0),ee.get().forEach((e=>e())),ie(!1)),i&&function(e){const t=e.childrenElementsCount-e.alternate.childrenElementsCount;if(0===t)return;const n=function(e){let t=e;for(;t&&(t=t.parent,!t||!t.nativeElement););return t}(e);let o=!1;e.incrementChildrenElementsCount(t,!0),Ue(n.child,(({nextFiber:i,resetIsDeepWalking:r,isReturn:l,stop:a})=>i===n?a():i===e?(o=!0,r()):(i.nativeElement&&r(),void(o&&!l&&(i.elementIdx+=t)))))}(e);for(const e of o)D.applyCommit(e),e.alternate=null;e.alternate=null,D.finishCommitWork(),t&&(ne(!0),Q.get().forEach((e=>e())),ne(!1)),t&&function(){const e=J.get();e.length>0&&setTimeout((()=>e.forEach((e=>e()))))}(),ut(e)}(),o}function ze(e,t){let n=!0,o=e,i=e.instance;for(;;){if(n=Y(),o.hook&&(o.hook.idx=0),n)if(at(i)&&i.children.length>0){if(Ve(o,i,t),o=t.fiber$,i=t.instance$,t.fiber$$=null,t.fiber$=null,t.instance$=null,o)return o}else{qe(o,i,t);const e=t.fiber$$;if(o=t.fiber$,i=t.instance$,t.fiber$$=null,t.fiber$=null,t.instance$=null,e)return e}else{qe(o,i,t);const e=t.fiber$$;if(o=t.fiber$,i=t.instance$,t.fiber$$=null,t.fiber$=null,t.instance$=null,e)return e}if(null===o.parent)return null}}function Ve(e,t,n){(()=>{const{fiberMount:e}=W(),t=e.level+1;e.level=t,e.navigation[t]=0})();const o=e.alternate?e.alternate.child:null,i=new je(ct(o,o?o.instance:null,at(t)?t.children[0]:null),o?o.provider:null,0);K(i),i.parent=e,e.child=i,i.elementIdx=e.nativeElement?0:e.elementIdx,t=tt(t,0,i),o&&Qe(o,t),Ye(i,o,t),o&&we(i.instance)&&et(i,o,t),z(i),n.fiber$$=null,n.fiber$=i,n.instance$=t}function qe(e,t,n){(()=>{const{fiberMount:e}=W(),t=e.level,n=e.navigation[t]+1;e.navigation[t]=n})();const o=e.parent.instance,i=W().fiberMount.navigation[W().fiberMount.level];if(at(o)&&o.children[i]){X(!0);const r=e.alternate?e.alternate.nextSibling:null,l=new je(ct(r,r?r.instance:null,at(o)?o.children[i]:null),r?r.provider:null,i);return K(l),l.parent=e.parent,e.nextSibling=l,l.elementIdx=e.elementIdx+(e.nativeElement?1:e.childrenElementsCount),t=tt(o,i,l),r&&Qe(r,t),Ye(l,r,t),r&&we(l.instance)&&et(l,r,t),z(l),n.fiber$$=l,n.fiber$=l,void(n.instance$=t)}(()=>{const{fiberMount:e}=W(),t=e.level,n=t-1;e.navigation[t]=0,e.level=n})(),X(!1),t=(e=e.parent).instance,at(e.instance)&&(e.instance.children=[]),n.fiber$$=null,n.fiber$=e,n.instance$=t}function Ye(e,t,n){let o=!1;if(Ze[e.parent.effectTag]&&(e.effectTag=e.parent.effectTag),e.effectTag!==Me.CREATE){const e=Boolean(t),i=(e?it(t.instance):null)===(e?it(n):null);o=e&&st(t.instance,n)&&i}e.instance=n,e.alternate=t||null,e.nativeElement=o?t.nativeElement:null,e.effectTag=o?Me.UPDATE:Me.CREATE,t&&t.move&&(e.move=t.move,t.move=!1),at(e.instance)&&(e.childrenCount=e.instance.children.length),!e.nativeElement&&pe(e.instance)&&(e.nativeElement=D.createNativeElement(e.instance),e.effectTag=Me.CREATE),e.nativeElement&&e.incrementChildrenElementsCount()}function Xe(e,t,n){return 0===e||t.child&&t.child.effectTag===Me.DELETE?(t.child=n,n.parent=t):(t.nextSibling=n,n.parent=t.parent),n}function Je(e,t){return(new je).mutate({effectTag:Me.CREATE,instance:ye(),parent:e,marker:t+""})}function Qe(e,t){const n=st(e.instance,t),o=function(e){return O(e)?(e=>e.props[m]||null)(e):ge(e)?e[m]||null:Ee(e)?e.attrs[m]||null:null}(t),i=o&&o[E.HAS_NO_MOVES];if(e.isUsed=!0,n){if(at(e.instance)&&at(t)&&(!i||e.childrenCount!==t.children.length)){const{prevKeys:n,nextKeys:o,prevKeysMap:i,nextKeysMap:r,keyedFibersMap:l}=function(e,t){let n=e,o=0;const i=[],r=[],l={},a={},s={};for(;n||o<t.length;){if(n){const e=it(n.instance),t=w(e)?ot(o):e;i.push(t),l[t]=!0,s[t]=n}if(t[o]){const e=it(t[o]),n=w(e)?ot(o):e;r.push(n),a[n]=!0}n=n?n.nextSibling:null,o++}return{prevKeys:i,nextKeys:r,prevKeysMap:l,nextKeysMap:a,keyedFibersMap:s}}(e.child,t.children);let a=[],s=Math.max(n.length,o.length),c=e,u=0,f=0,d=0;for(let t=0;t<s;t++){const a=o[t-d]??null,h=n[t-f]??null,m=l[h]||null,p=l[a]||Je(e,a);a!==h?null===a||i[a]?r[h]?r[h]&&r[a]&&(p.effectTag=Me.UPDATE,m.effectTag=Me.UPDATE,p.move=!0,c=Xe(t,c,p)):(m.effectTag=Me.DELETE,V(m),d++,u--,s++):(null===h||r[h]?(p.effectTag=Me.CREATE,f++,s++):(p.effectTag=Me.CREATE,m.effectTag=Me.DELETE,V(m)),c=Xe(t,c,p)):null!==a&&(p.effectTag=Me.UPDATE,c=Xe(t,c,p)),p.idx=u,u++}a=[]}}else(function(e){let t=e.parent;for(;t;){if(t.effectTag===Me.DELETE)return!1;t=t.parent}return!0})(e)&&(e.effectTag=Me.DELETE,V(e))}function et(e,t,n){const o=t.instance,i=n;if(e.move||i.type!==o.type||i.shouldUpdate(o.props,i.props))return;X(!1),e.effectTag=Me.SKIP,e.alternate=t,e.nativeElement=t.nativeElement,e.child=t.child,e.hook=t.hook,e.provider=t.provider,e.childrenCount=t.childrenCount,e.childrenElementsCount=t.childrenElementsCount,e.catchException=t.catchException;const r=e.elementIdx-t.elementIdx,l=0!==r;Ue(e.child,(({nextFiber:n,stop:o})=>{if(n===e.nextSibling||n===e.parent)return o();if(n.parent===t&&(n.parent=e),l){if(n.elementIdx+=r,n.parent!==e&&n.nativeElement)return o()}else if(n===t.child.child)return o()})),e.incrementChildrenElementsCount(t.childrenElementsCount),t.effectHost&&e.markEffectHost(),t.layoutEffectHost&&e.markLayoutEffectHost(),t.insertionEffectHost&&e.markInsertionEffectHost(),t.portalHost&&e.markPortalHost()}function tt(e,t,n){let o=null;return at(e)&&(T(e.children[t])&&e.children.splice(t,1,...H(e.children[t])),o=nt(n,e.children[t]),O(o)&&(Ae(n)&&n.markEffectHost(),De(n)&&n.markLayoutEffectHost(),Fe(n)&&n.markInsertionEffectHost(),D.detectIsPortal(o)&&n.markPortalHost())),o}function nt(e,t){const n=O(t),o=t;if(n)try{let e=o.type(o.props,o.ref);T(e)&&!(e=>O(e)&&e.token===Be)(o)?e=Ge({slot:e}):(x(e)||y(e))&&(e=be(e)),o.children=T(e)?H(e):[e]}catch(t){o.children=[],e.setError(t),function(...e){!g(console)&&console.error(...e)}(t)}else ge(t)&&(t=t());if(at(t)){t.children=n?t.children:T(t.children)?H(t.children):[t.children];for(let e=0;e<t.children.length;e++)t.children[e]||(t.children[e]=rt(t.children[e]));n&&0===o.children.length&&o.children.push(ye())}return t}function ot(e){return`dark:idx:${e}`}function it(e){var t,n;return O(e)?(e=>w(e.props[d])?null:e.props[d])(e):ge(e)?w((n=e)[d])?null:n[d]:Ee(e)?w((t=e).attrs[d])?null:t.attrs[d]:null}function rt(e){return k(t=e)||g(t)||!1===t?ye():e;var t}function lt(e){return ge(e)?e[f]:Ee(e)?e.name:pe(e)||O(e)?e.type:null}function at(e){return Ee(e)||O(e)}function st(e,t,n=!1){if(n){const n=t;return e.type===n.type}return lt(e)===lt(t)}function ct(e,t,n){return e&&function(e,t){return!!(e&&t&&O(e)&&O(t)&&st(e,t,!0))&&it(e)===it(t)}(t,n)?e.hook:O(n)?{idx:0,values:[]}:null}function ut(e){var t;G(null),W().candidates=new Set,W().deletions=new Set,ee.reset(),Q.reset(),J.reset(),re()?le(!1):(t=e,W().currentRoot=t)}const ft=N((({slot:e})=>e),{token:Te});function dt(e,t=!1){return function(e,t){const n=e=>ge(e)||O(e);if(T(e)?n(e[0]):n(e)){const n=ft({slot:Ge({slot:e})});return n.shouldUpdate=()=>t,n}return e}(e(),t)}function ht(e,t){const n=j(),{hook:o}=n,{idx:i,values:r}=o;if(g(r[i])){const n=dt(e);return r[i]={deps:t,value:n},o.idx++,n}const l=r[i],a=A(t,l.deps),s=a?e:()=>l.value;return l.deps=t,l.value=dt(s,a),o.idx++,l.value}function mt(e){const t=U(),n=ht((()=>({fiber:null})),[]);return n.fiber=j(),o=>{if(oe())return;const i=function(e){const{rootId:t,fiber:n,forceStart:o=!1,onStart:i}=e;return()=>{n.effectTag!==Me.DELETE&&(o&&i(),n.isUsed||(!o&&i(),_(t),le(!0),q(),n.alternate=(new je).mutate(n),n.marker="ðŸ”¥",n.effectTag=Me.UPDATE,n.childrenElementsCount=0,n.child=null,G(n),K(n),n.instance=nt(n,n.instance),Z(n)))}}({rootId:t,fiber:n.fiber,forceStart:Boolean(e?.timeoutMs),onStart:o||M});te()&&(e={...e||{},forceSync:!0}),W()?.isBatchZone?function(e,t){e.batched&&clearTimeout(e.batched),e.batched=setTimeout((()=>{var n;n=!1,W().isBatchZone=n,e.batched=null,t()}))}(n.fiber,(()=>D.scheduleCallback(i,e))):D.scheduleCallback(i,e)}}function pt(e,t){return ht((()=>e),t)}function Et(e,t){const n=mt(t),o=ht((()=>({value:v(e)?e():e})),[]),i=pt((e=>{const i=o.value,r=v(e)?e(i):e;if(!Object.is(i,r)){const e=()=>o.value=r;t?.priority===p.LOW?n((()=>e())):(e(),n())}}),[]);return[o.value,i]}function vt(e){return(e=e.map((e=>x(e)||y(e)?be(e.toString()):e)))?Array.isArray(e)?[...e]:[e]:[]}function gt(e,t,...n){if(x(e))return function(e){const t=()=>{const{as:t,slot:n,_void:o=!1,...i}=e,r=o?[]:T(n)?n:n?[n]:[];return new de(t,i,r)};return t[ue]=!0,t[d]=e.key,t[m]=e.flag,t[f]=e.as,t}({...t,as:e,slot:vt(n)});if(v(e)){let o=vt(n);return o=1===o.length?o[0]:o,e({...t,slot:o})}return null}function yt(e,...t){return ht((()=>e.map(((e,n)=>e+(g(t[n])?"":t[n]))).join("").replace(/;\s*/gm,";").replace(/:\s*/gm,":").trim()),[e,...t])}function xt(e){return e(yt)}const bt=Symbol("portal");N((({slot:e,...t})=>(ht((()=>t[bt].innerHTML=""),[]),e)),{token:bt});const Tt=e=>O(e)&&e.token===bt,kt=e=>Tt(e)?e.props[bt]:null;function wt(e){const t=kt(e.instance);t&&(t.innerHTML="")}class Ct{type="";sourceEvent=null;target=null;propagation=!0;constructor(e){this.type=e.sourceEvent.type,this.sourceEvent=e.sourceEvent,this.target=e.target}stopPropagation(){this.propagation=!1,this.sourceEvent.stopPropagation()}preventDefault(){this.sourceEvent.preventDefault()}getPropagation(){return this.propagation}}function Mt(e){const{target:t,eventName:n,handler:o}=e,i=W().events,r=i.get(n);if(r)r.set(t,o);else{const e=e=>{const t=i.get(n).get(e.target),o=e.target;let r=null;v(t)&&(r=new Ct({sourceEvent:e,target:o}),t(r)),(r?r.getPropagation():o.parentElement)&&o.parentElement.dispatchEvent(new e.constructor(e.type,e))};i.set(n,new WeakMap([[t,o]])),document.addEventListener(n,e,!0),l=()=>document.removeEventListener(n,e,!0),W().unsubscribers.push(l)}var l}const Ht=e=>e.startsWith("on"),St=e=>e.slice(2,e.length).toLowerCase(),At={[d]:!0,[h]:!0,[m]:!0},It={transform:!0,fill:!0};let $t=[];const Nt=S("svg,animate,animateMotion,animateTransform,circle,clipPath,defs,desc,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,image,line,linearGradient,marker,mask,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,stop,switch,symbol,text,textPath,tspan,use,view".split(","),(e=>e)),Ot=S("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr".split(","),(e=>e)),Dt={[ce.TAG]:e=>{const t=e;return n=t.name,Boolean(Nt[n])?document.createElementNS("http://www.w3.org/2000/svg",t.name):document.createElement(t.name);var n},[ce.TEXT]:e=>document.createTextNode(e.value),[ce.COMMENT]:e=>document.createComment(e.value)};function Lt(e){return Dt[e.type](e)}function Pt(e,t){!function(e,t){v(e)?e(t):function(e){if("object"!=typeof e||k(e))return!1;const t=e;for(const e in t)if("current"===e&&t.hasOwnProperty(e))return!0;return!1}(e)&&(e.current=t)}(e,t)}function Rt(e){const{tagName:t,element:n,attrName:o,attrValue:i}=e,r=Ft[t];let l=!!r&&r(n,o,i);var a,s;return s=o,(a=Object.getPrototypeOf(n)).hasOwnProperty(s)&&Boolean(Object.getOwnPropertyDescriptor(a,s)?.set)&&(n[o]=i),!l&&b(i)&&(l=!o.includes("-")),l}const Ft={input:(e,t,n)=>("value"===t&&b(n)?e.checked=n:"autoFocus"===t&&(e.autofocus=Boolean(n)),!1),textarea:(e,t,n)=>"value"===t&&(e.innerHTML=String(n),!0)};function _t(e){let t=e;for(;t;)if(t=t.parent,Tt(t.instance)&&(t.nativeElement=kt(t.instance)),t.nativeElement)return t;return t}const Ut={[Me.CREATE]:e=>{null!==e.nativeElement&&function(e){const t=_t(e),n=t.nativeElement,o=n.childNodes;if(ae()){const t=o[e.elementIdx];ve(e.instance)&&t instanceof Text&&e.instance.value.length!==t.length&&t.splitText(e.instance.value.length),e.nativeElement=t}else 0===o.length||e.elementIdx>o.length-1?(i=t.instance.name,!Boolean(Ot[i])&&function(e,t){t.appendChild(e.nativeElement)}(e,n)):function(e,t){t.insertBefore(e.nativeElement,t.childNodes[e.elementIdx])}(e,n);var i;Ee(e.instance)&&function(e,t){const n=Object.keys(t.attrs),o=e;for(const i of n){const n=t.attrs[i];i!==h?v(n)?Ht(i)&&Mt({target:o,handler:n,eventName:St(i)}):g(n)||At[i]||!Rt({tagName:t.name,element:o,attrValue:n,attrName:i})&&o.setAttribute(i,n):Pt(n,e)}}(e.nativeElement,e.instance)}(e)},[Me.UPDATE]:e=>{e.move&&(function(e){const t=function(e){const t=[];return Ue(e,(({nextFiber:n,isReturn:o,resetIsDeepWalking:i,stop:r})=>n===e.nextSibling||n===e.parent?r():!o&&n.nativeElement?(!Tt(n.instance)&&t.push(n.nativeElement),i()):void 0)),t}(e),n=t[0].parentElement,o=new DocumentFragment,i=e.elementIdx;let r=0;for(const e of t)n.insertBefore(document.createComment(`${i}:${r}`),e),o.appendChild(e),r++;$t.push((()=>{for(let e=1;e<t.length;e++)n.removeChild(n.childNodes[i+1]);n.replaceChild(o,n.childNodes[i])}))}(e),e.move=!1),null===e.nativeElement||O(e.instance)||function(e){const t=e.nativeElement,n=e.alternate.instance,o=e.instance;xe(n)&&xe(o)?n.value!==o.value&&(t.textContent=o.value):function(e,t,n){const o=Object.keys(n.attrs),i=e;for(const r of o){const o=t.attrs[r],l=n.attrs[r];r!==h?g(l)?i.removeAttribute(r):v(o)?Ht(r)&&o!==l&&Mt({target:i,handler:l,eventName:St(r)}):At[r]||o===l||(It[r]||!Rt({tagName:n.name,element:i,attrValue:l,attrName:r}))&&i.setAttribute(r,l):Pt(o,e)}}(t,n,o)}(e)},[Me.DELETE]:e=>function(e){const t=_t(e);Ue(e,(({nextFiber:n,isReturn:o,resetIsDeepWalking:i,stop:r})=>n===e.nextSibling||n===e.parent?r():!o&&n.nativeElement?(!Tt(n.instance)&&t.nativeElement.removeChild(n.nativeElement),i()):void 0))}(e),[Me.SKIP]:()=>{}};function Wt(e){Ut[e.effectTag](e)}function Bt(){for(const e of $t)e();$t=[],se(!1)}const Gt={animations:[],hight:[],normal:[],low1:[],low2:[]};let Zt=null,jt=0,Kt=!1,zt=null;class Vt{static nextTaskId=0;id;time;timeoutMs;priority;forceSync;callback;constructor(e){this.id=++Vt.nextTaskId,this.time=e.time,this.timeoutMs=e.timeoutMs,this.priority=e.priority,this.forceSync=e.forceSync,this.callback=e.callback}}const qt=()=>C()>=jt;function Yt(e,t){const{priority:n=p.NORMAL,timeoutMs:o=0,forceSync:i=!1}=t||{},r=new Vt({time:C(),timeoutMs:o,priority:n,forceSync:i,callback:e});({[p.ANIMATION]:()=>Gt.animations.push(r),[p.HIGH]:()=>Gt.hight.push(r),[p.NORMAL]:()=>Gt.normal.push(r),[p.LOW]:()=>r.timeoutMs>0?Gt.low2.push(r):Gt.low1.push(r)})[r.priority](),Jt()}function Xt(e){if(!e.length)return!1;zt=e.shift();const t=zt.priority===p.ANIMATION;return zt.callback(),zt.forceSync||t?function(e){for(;e(););Jt(),zt=null}(Ke):(Zt=Ke,Kt||(Kt=!0,en.postMessage(null))),!0}function Jt(){Boolean(B())||function(){const[e]=Gt.low2;return!!(e&&C()-e.time>e.timeoutMs)&&(Xt(Gt.low2),!0)}()||(Gt.low1.length>1e5&&(Gt.low1=[]),0)||Xt(Gt.animations)||Xt(Gt.hight)||Xt(Gt.normal)||requestIdleCallback((()=>Xt(Gt.low1)||Xt(Gt.low2)))}let Qt=null,en=null;Qt=new MessageChannel,en=Qt.port2,Qt.port1.onmessage=function(){if(Zt){jt=C()+4;try{Zt()?en.postMessage(null):(zt=null,Kt=!1,Zt=null,Jt())}catch(e){throw en.postMessage(null),e}}else Kt=!1};let tn=!1;const nn=new Map;function on(e,t,n=!1){if(!tn&&function(){D.createNativeElement=Lt,D.requestAnimationFrame=requestAnimationFrame.bind(this),D.cancelAnimationFrame=cancelAnimationFrame.bind(this),D.scheduleCallback=Yt,D.shouldYeildToHost=qt,D.applyCommit=Wt,D.finishCommitWork=Bt,D.detectIsDynamic=()=>!0,D.detectIsPortal=Tt,D.unmountPortal=wt,D.restart=()=>{},tn=!0}(),!(t instanceof Element))throw new Error("[Dark]: render receives only Element as container!");const o=!g(nn.get(t));let i=null;o?i=nn.get(t):(i=nn.size,nn.set(t,i),n||(t.innerHTML="")),oe(i)||D.scheduleCallback((()=>{_(i);const o=W(a)?.currentRoot||null,r=Boolean(o),l=(new je).mutate({nativeElement:t,instance:new de("root",{},H([e||ye()])),alternate:o,effectTag:r?Me.UPDATE:Me.CREATE});var a;q(),G(l),se(n),Z(l)}),{priority:p.NORMAL,forceSync:n||te()})}!function(e){void 0===e&&(e=t.HideMin|t.HideMax|t.HideMean|t.RoundValues),u();var n=new o(100),i=new s("FPS",e,"",n);c.appendChild(i.element);var r=0,l=60;requestAnimationFrame((function e(t){r>0&&(l+=.01652892561983471*(1e3/(t-r)-l)),r=t,n.addSample(l),i.invalidate(),requestAnimationFrame(e)}))}(),function(e){if(void 0===e&&(e=t.HideMin|t.HideMean),u(),void 0!==performance.memory){var n=new o(100),i=new s("Memory",e,"MB",n);c.appendChild(i.element),function e(){n.addSample(Math.round(performance.memory.usedJSHeapSize/1048576)),i.invalidate(),setTimeout(e,30)}()}}();const rn=document.getElementById("root"),ln=N((e=>{const[t,n]=Et(!1,{priority:p.HIGH}),o=1.3*e.size,i=xt((n=>({dot:n`
      position: absolute;
      background-color: #61dafb;
      text-align: center;
      cursor: pointer;
      width: ${o}px;
      height: ${o}px;
      left: ${e.x}px;
      top: ${e.y}px;
      border-radius: ${o/2}px;
      line-height: ${o}px;
      background-color: ${t?"yellow":"#61dafb"};
    `}))),r=pt((()=>{n(!0)}),[]),l=pt((()=>{n(!1)}),[]);return gt("div",{style:i.dot,onMouseEnter:r,onMouseLeave:l},t?`* ${be.from(e.slot)} *`:be.from(e.slot))})),an=Ce(ln,((e,t)=>e.x!==t.x||e.y!==t.y||e.size!==t.size||be.from(e.slot)!==be.from(t.slot))),sn=Ce(N((({x:e,y:t,s:n,slot:o})=>n<=25?gt(an,{x:e-12.5,y:t-12.5,size:25},o):gt(Ge,null,gt(sn,{x:e,y:t-(n/=2)/2,s:n},o),gt(sn,{x:e-n,y:t+n/2,s:n},o),gt(sn,{x:e+n,y:t+n/2,s:n},o)))),((e,t)=>e.x!==t.x||e.y!==t.y||e.s!==t.s||be.from(e.slot)!==be.from(t.slot))),cn=N((e=>{const[t,n]=Et(!1),[o,i]=Et(0),r=function(e,t){const{timeoutMs:n}={},[o,i]=Et(e,{priority:p.LOW,timeoutMs:n}),r=ht((()=>({value:e})),[]);return r.value!==e&&e!==o&&(r.value=e,i(e)),o}(o),l=e.elapsed/1e3%10,a=1+(l>5?10-l:l)/10;Se((()=>{setInterval((()=>i((e=>e%10+1))),1e3)}),[]);const s=xt((e=>({container:e`
      position: absolute;
      left: 50%;
      top: 50%;
      transform-origin: 0 0;
      background-color: #eee;
      transform: scaleX(${a/2.1}) scaleY(0.7);
    `})));return gt("div",{style:"padding: 16px"},gt("label",null,gt("input",{type:"checkbox",onInput:()=>n((e=>!e))}),"Enable deferred updates"),gt("p",null,"If deferred updates enabled timer won't render on slow devices ",gt("br",null)," (You can enable CPU throttling here)"),gt("div",{style:s.container},gt(sn,{x:0,y:0,s:1e3},t?r:o)))})),un=(new Date).getTime();!function e(){on(gt(cn,{elapsed:(new Date).getTime()-un}),rn),requestAnimationFrame(e)}()})();
//# sourceMappingURL=build.js.map