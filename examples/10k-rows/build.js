(()=>{"use strict";const e="type",t="key",n="ref",r="flag";var o,i;!function(e){e[e.ANIMATION=3]="ANIMATION",e[e.HIGH=2]="HIGH",e[e.NORMAL=1]="NORMAL",e[e.LOW=0]="LOW"}(o||(o={})),function(e){e.HAS_NO_MOVES="HAS_NO_MOVES"}(i||(i={}));const s=e=>"function"==typeof e,l=e=>void 0===e,a=e=>"number"==typeof e,c=e=>"string"==typeof e,u=e=>"boolean"==typeof e,f=e=>Array.isArray(e),d=e=>null===e,p=e=>d(e)||l(e),h=()=>Date.now(),m=()=>{};function E(e){const t=[],n={0:{idx:0,source:e}};let r=0;do{const{source:e,idx:o}=n[r],i=e[o];o>=e.length?(r--,n[r].idx++):f(i)?(r++,n[r]={idx:0,source:i}):(t.push(i),n[r].idx++)}while(r>0||n[r].idx<n[r].source.length);return t}function g(e,t,n=!1){return e.reduce(((e,r)=>(e[t(r)]=!n||r,e)),{})}function v(e,t){if(!l(e)&&!l(t)&&e.length>0&&t.length>0)for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1}var b;!function(e){e.TAG="TAG",e.TEXT="TEXT",e.COMMENT="COMMENT"}(b||(b={}));const y=Symbol("virtual-node");class k{type=null;constructor(e){this.type=e.type}}class w extends k{type=b.TAG;name=null;isVoid=!1;attrs={};children=[];constructor(e){super(e),this.name=e.name||this.name,this.isVoid=e.isVoid||this.isVoid,this.attrs=e.attrs||this.attrs,this.children=e.children||this.children}}class T extends k{type=b.TEXT;value="";constructor(e){super({}),this.value=e}}class x extends k{type=b.COMMENT;value="";constructor(e){super({}),this.value=e}}const C=e=>e instanceof k,M=e=>e instanceof w,H=e=>e instanceof T,S=e=>s(e)&&!0===e[y],A=()=>new x("dark:matter");function I(n){const o=()=>{const{as:e,slot:t,isVoid:r=!1,...o}=n,i=r?[]:f(t)?t:t?[t]:[];return new w({name:e,isVoid:r,attrs:{...o},children:i})};return o[y]=!0,o[t]=n.key,o[r]=n.flag,o[e]=n.as,o}function N(e){return new T(e+"")}N.from=e=>H(e)?e.value:e+"";const P={displayName:"",defaultProps:{},token:Symbol("component")};class O{type;token;props;ref;displayName;children=[];shouldUpdate;constructor(e,t,n,r,o,i){this.type=e||null,this.token=t||null,this.props=n||null,this.ref=r||null,this.shouldUpdate=o||null,this.displayName=i||""}}function D(e,t={}){const n={...P,...t},{token:r,defaultProps:o,displayName:i,shouldUpdate:s}=n;return(t={},n)=>{const l={...o,...t};return l.ref&&delete l.ref,new O(e,r,l,n,s,i)}}const L=e=>e instanceof O,R=Symbol("memo"),$=(e,t)=>{const n=Object.keys(t);for(const r of n)if("slot"!==r&&t[r]!==e[r])return!0;return!1},F=e=>L(e)&&e.token===R;function U(e,t=$){return function(e){return t=>{const{ref:n,...r}=t||{};return e(r,n)}}(D(((t,n)=>(n&&(t.ref=n),e(t))),{token:R,shouldUpdate:t}))}let W=null;const B=new Map;class K{wipRoot=null;currentRoot=null;nextUnitOfWork=null;events=new Map;unsubscribers=[];deletions=new Set;fiberMount={level:0,navigation:{},isDeepWalking:!0};componentFiber=null;effects=[];layoutEffects=[];insertionEffects=[];isLayoutEffectsZone=!1;isInserionEffectsZone=!1;isUpdateHookZone=!1;isBatchZone=!1;trackUpdate}const V=e=>{W=e,!B.get(W)&&B.set(W,new K)},Z=()=>W,j=(e=W)=>B.get(e),G=()=>j()?.wipRoot||null,q=e=>j().wipRoot=e,_=e=>j(e)?.currentRoot||null,X=e=>j().nextUnitOfWork=e,Y=()=>j()?.componentFiber,z=e=>j().componentFiber=e,J=e=>j().deletions.add(e),Q=()=>{j().fiberMount={level:0,navigation:{},isDeepWalking:!0}},ee=()=>j().fiberMount.isDeepWalking,te=e=>j().fiberMount.isDeepWalking=e,ne={get:()=>j().effects,reset:()=>j().effects=[],add:e=>j().effects.push(e)},re={get:()=>j().layoutEffects,reset:()=>j().layoutEffects=[],add:e=>j().layoutEffects.push(e)},oe={get:()=>j().insertionEffects,reset:()=>j().insertionEffects=[],add:e=>j().insertionEffects.push(e)},ie=()=>j()?.isLayoutEffectsZone||!1,se=e=>j().isLayoutEffectsZone=e,le=e=>j(e)?.isInserionEffectsZone||!1,ae=e=>j().isInserionEffectsZone=e,ce=()=>j()?.isUpdateHookZone||!1,ue=e=>j().isUpdateHookZone=e,fe=Symbol("use-effect"),{useEffect:de,hasEffects:pe,dropEffects:he}=me(fe,ne);function me(e,t){return{useEffect:function(n,r){const o=Y().hook,{idx:i,values:a}=o,c=()=>{a[i]={deps:r,token:e,value:void 0},t.add((()=>{a[i].value=n()}))};if(l(a[i]))c();else{const{deps:e,value:t}=a[i];(!r||v(r,e))&&(s(t)&&t(),c())}o.idx++},hasEffects:function(t){const{values:n}=t.hook;return n.some((t=>t?.token===e))},dropEffects:function(t){const{values:n}=t;for(const t of n)if(t.token===e){const e=t.value;s(e)&&e()}}}}const Ee=Symbol("fragment"),ge=D((({slot:e})=>e||null),{token:Ee}),ve=D((({slot:e})=>e),{token:R});function be(e,t=!1){return function(e,t){const n=e=>S(e)||L(e);if(f(e)?n(e[0]):n(e)){const n=ve({slot:ge({slot:e})});return n.shouldUpdate=()=>t,n}return e}(e(),t)}function ye(e,t){const n=Y(),{hook:r}=n,{idx:o,values:i}=r;if(l(i[o])){const n=be(e);return i[o]={deps:t,value:n},r.idx++,n}const s=i[o],a=v(t,s.deps),c=a?e:()=>s.value;return s.deps=t,s.value=be(c,a),r.idx++,s.value}const ke={createNativeElement:()=>{throw new Error("createNativeElement not installed by renderer")},requestAnimationFrame:()=>{throw new Error("requestAnimationFrame not installed by renderer")},cancelAnimationFrame:()=>{throw new Error("cancelAnimationFrame not installed by renderer")},scheduleCallback:()=>{throw new Error("scheduleCallback not installed by renderer")},shouldYeildToHost:()=>{throw new Error("shouldYeildToHost not installed by renderer")},applyCommit:()=>{throw new Error("applyCommit not installed by renderer")},finishCommitWork:()=>{throw new Error("finishCommitWork not installed by renderer")},detectIsPortal:()=>{throw new Error("detectIsPortal not installed by renderer")},unmountPortal:()=>{throw new Error("unmountPortal not installed by renderer")}};var we;!function(e){e.CREATE="CREATE",e.UPDATE="UPDATE",e.DELETE="DELETE",e.SKIP="SKIP"}(we||(we={}));const Te={[we.CREATE]:!0,[we.SKIP]:!0},xe=Symbol("use-layout-effect"),{useEffect:Ce,hasEffects:Me,dropEffects:He}=me(xe,re),Se=Symbol("use-insertion-effect"),{useEffect:Ae,hasEffects:Ie,dropEffects:Ne}=me(Se,oe);function Pe(e,t){let n=e,r=!0,o=!1,i=!1;const s={},l=e=>!s[e],a=()=>r=!1,c=()=>i=!0;for(;n&&(t({nextFiber:n,isReturn:o,resetIsDeepWalking:a,stop:c}),!i);)if(n.child&&r&&l(n.child.id)){const e=n.child;o=!1,n=e,s[e.id]=!0}else if(n.nextSibling&&l(n.nextSibling.id)){const e=n.nextSibling;r=!0,o=!1,n=e,s[e.id]=!0}else if(n.parent&&n.parent===e&&n.parent.nextSibling&&l(n.parent.nextSibling.id)){const e=n.parent.nextSibling;r=!0,o=!1,n=e,s[e.id]=!0}else n.parent&&n.parent!==e?(r=!1,o=!0,n=n.parent):n=null}function Oe(e){(e.insertionEffectHost||e.layoutEffectHost||e.effectHost||e.portalHost)&&Pe(e,(({nextFiber:t,isReturn:n,stop:r})=>{if(t===e.nextSibling)return r();!n&&L(t.instance)&&(t.insertionEffectHost&&Ne(t.hook),t.layoutEffectHost&&He(t.hook),t.effectHost&&he(t.hook),t.portalHost&&ke.unmountPortal(t))}))}class De{id=0;nativeElement=null;parent=null;child=null;nextSibling=null;alternate=null;move=!1;effectTag=null;instance=null;hook=null;provider=null;effectHost=!1;layoutEffectHost=!1;insertionEffectHost=!1;portalHost=!1;childrenCount=0;childrenElementsCount=0;marker="";isUsed=!1;idx=0;elementIdx=0;batched=null;catchException;static nextId=0;constructor(e=null,t=null,n=0){this.id=++De.nextId,this.hook=e,this.provider=t,this.idx=n}mutate(e){const t=Object.keys(e);for(const n of t)this[n]=e[n];return this}markEffectHost(){this.effectHost=!0,this.parent&&!this.parent.effectHost&&this.parent.markEffectHost()}markLayoutEffectHost(){this.layoutEffectHost=!0,this.parent&&!this.parent.layoutEffectHost&&this.parent.markLayoutEffectHost()}markInsertionEffectHost(){this.insertionEffectHost=!0,this.parent&&!this.parent.insertionEffectHost&&this.parent.markInsertionEffectHost()}markPortalHost(){this.portalHost=!0,this.parent&&!this.parent.portalHost&&this.parent.markPortalHost()}incrementChildrenElementsCount(e=1,t=!1){!function(e,t=1,n=!1){if(!e.parent)return;const r=ce(),o=G(),i=r&&o.parent===e.parent;(H(e.instance)||e.instance instanceof x||M(e.instance)&&0===e.instance.children.length)&&(e.childrenElementsCount=1),r&&i&&!n||(e.parent.childrenElementsCount+=t,e.parent.nativeElement||e.parent.incrementChildrenElementsCount(t))}(this,e,t)}setError(e){s(this.catchException)?this.catchException(e):this.parent&&this.parent.setError(e)}}function Le(){const e=G();let t=j()?.nextUnitOfWork||null,n=!1,r=Boolean(t);for(;t&&!n;)t=Re(t),X(t),r=Boolean(t),n=ke.shouldYeildToHost();return!t&&e&&function(){const e=G(),t=oe.get(),n=j().deletions,r=ce();for(const e of n)Oe(e),ke.applyCommit(e);var o,i;ae(!0),t.forEach((e=>e())),ae(!1),r&&function(e){const t=e.childrenElementsCount-e.alternate.childrenElementsCount;if(0===t)return;const n=function(e){let t=e;for(;t&&(t=t.parent,!t||!t.nativeElement););return t}(e);let r=!1;e.incrementChildrenElementsCount(t,!0),Pe(n.child,(({nextFiber:o,resetIsDeepWalking:i,isReturn:s,stop:l})=>o===n?l():o===e?(r=!0,i()):(o.nativeElement&&i(),void(r&&!s&&(o.elementIdx+=t)))))}(e),i=()=>{const t=re.get(),n=ne.get();se(!0),t.forEach((e=>e())),se(!1),setTimeout((()=>{n.forEach((e=>e()))})),q(null),j().deletions=new Set,oe.reset(),re.reset(),ne.reset(),r?ue(!1):(e=>{j().currentRoot=e})(e)},Pe((o=e).child,(({nextFiber:e,isReturn:t,resetIsDeepWalking:n,stop:r})=>{const i=e.effectTag===we.SKIP;if(e===o)return r();i?n():t||ke.applyCommit(e),e.alternate=null})),o.alternate=null,ke.finishCommitWork(),i()}(),r}function Re(e){let t=!0,n=e,r=e.instance;for(;;){if(t=ee(),n.hook&&(n.hook.idx=0),t)if(Ye(r)&&r.children.length>0){const{fiber$:e,instance$:t}=$e(n,r);if(n=e,r=t,e)return e}else{const{fiber$$:e,fiber$:t,instance$:o}=Fe(n,r);if(n=t,r=o,e)return e}else{const{fiber$$:e,fiber$:t,instance$:o}=Fe(n,r);if(n=t,r=o,e)return e}if(null===n.parent)return null}}function $e(e,t){(()=>{const{fiberMount:e}=j(),t=e.level+1;e.level=t,e.navigation[t]=0})();const n=e.alternate?e.alternate.child:null,r=ze(n,n?n.instance:null,Ye(t)&&t.children[0]||null),o=n?n.provider:null,i=new De(r,o,0);return z(i),i.parent=e,e.child=i,i.elementIdx=e.nativeElement?0:e.elementIdx,t=Ze(t,0,i)||t,n&&Ke(n,t),Ue(i,n,t),n&&F(i.instance)&&Ve(i,n,t),Te[i.parent.effectTag]&&(i.effectTag=i.parent.effectTag),{fiber$:i,instance$:t}}function Fe(e,t){(()=>{const{fiberMount:e}=j(),t=e.level,n=e.navigation[t]+1;e.navigation[t]=n})();const n=e.parent.instance,r=j().fiberMount.navigation[j().fiberMount.level];if(Ye(n)&&n.children[r]){te(!0);const o=e.alternate?e.alternate.nextSibling:null,i=ze(o,o?o.instance:null,Ye(n)&&n.children[r]||null),s=o?o.provider:null,l=new De(i,s,r);return z(l),l.parent=e.parent,e.nextSibling=l,l.elementIdx=e.elementIdx+e.childrenElementsCount,t=Ze(n,r,l)||t,o&&Ke(o,t),Ue(l,o,t),o&&F(l.instance)&&Ve(l,o,t),Te[l.parent.effectTag]&&(l.effectTag=l.parent.effectTag),{fiber$$:l,fiber$:l,instance$:t}}return(()=>{const{fiberMount:e}=j(),t=e.level,n=t-1;e.navigation[t]=0,e.level=n})(),te(!1),t=(e=e.parent).instance,Ye(e.instance)&&(e.instance.children=[]),{fiber$$:null,fiber$:e,instance$:t}}function Ue(e,t,n){const r=Boolean(t),o=(r?qe(t.instance):null)===(r?qe(n):null),i=r&&Xe(t.instance)===Xe(n)&&o;e.instance=n,e.alternate=t||null,e.nativeElement=i?t.nativeElement:null,e.effectTag=i?we.UPDATE:we.CREATE,t&&t.move&&(e.move=t.move,t.move=!1),Ye(e.instance)&&(e.childrenCount=e.instance.children.length),!e.nativeElement&&C(e.instance)&&(e.nativeElement=ke.createNativeElement(e.instance),e.effectTag=we.CREATE),e.nativeElement&&e.incrementChildrenElementsCount()}function We(e,t,n){return 0===e||t.child&&t.child.effectTag===we.DELETE?(t.child=n,n.parent=t):(t.nextSibling=n,n.parent=t.parent),n}function Be(e,t){const n=A();return(new De).mutate({instance:n,parent:e,marker:t+"",effectTag:we.CREATE})}function Ke(e,t){const n=Xe(e.instance),o=Xe(t)===n,s=function(e){return L(e)?e.props[r]||null:S(e)?(e=>e[r]||null)(e):M(e)?e.attrs[r]||null:null}(t),l=s&&s[i.HAS_NO_MOVES];if(e.isUsed=!0,o){if(Ye(e.instance)&&Ye(t)&&(!l||e.childrenCount!==t.children.length)){const{prevKeys:n,nextKeys:r,prevKeysMap:o,nextKeysMap:i,keyedFibersMap:s}=function(e,t){let n=e,r=0;const o=[],i=[],s={},l={},a={};for(;n||r<t.length;){if(n){const e=qe(n.instance),t=p(e)?Ge(r):e;o.push(t),s[t]=!0,a[t]=n}if(t[r]){const e=qe(t[r]),n=p(e)?Ge(r):e;i.push(n),l[n]=!0}n=n?n.nextSibling:null,r++}return{prevKeys:o,nextKeys:i,prevKeysMap:s,nextKeysMap:l,keyedFibersMap:a}}(e.child,t.children);let l=[],a=Math.max(n.length,r.length),c=e,u=0,f=0,d=0;for(let t=0;t<a;t++){const p=r[t-d]??null,h=n[t-f]??null,m=s[h]||null,E=s[p]||Be(e,p);p!==h?null===p||o[p]?i[h]?i[h]&&i[p]&&(l.push([[p,h],"move"]),E.effectTag=we.UPDATE,m.effectTag=we.UPDATE,E.move=!0,c=We(t,c,E)):(l.push([h,"remove"]),m.effectTag=we.DELETE,J(m),d++,u--,a++):(null===h||i[h]?(l.push([p,"insert"]),E.effectTag=we.CREATE,f++,a++):(l.push([[p,h],"replace"]),E.effectTag=we.CREATE,m.effectTag=we.DELETE,J(m)),c=We(t,c,E)):null!==p&&(l.push([p,"stable"]),E.effectTag=we.UPDATE,c=We(t,c,E)),E.idx=u,u++}l=[]}}else e.effectTag=we.DELETE,a=e.parent,j().deletions.has(a)||J(e);var a}function Ve(e,t,n){const r=t.instance,o=n;if(e.move||o.type!==r.type)return;const i=r.props,s=o.props;if(!o.shouldUpdate(i,s)){te(!1);const n=e.elementIdx-t.elementIdx,r=0!==n;e.mutate({...t,alternate:t,id:e.id,idx:e.idx,parent:e.parent,nextSibling:e.nextSibling,elementIdx:e.elementIdx,effectTag:we.SKIP}),Pe(e.child,(({nextFiber:o,stop:i})=>{if(o===e.nextSibling||o===e.parent)return i();if(o.parent===t&&(o.parent=e),r){if(o.elementIdx+=n,o.parent!==e&&o.nativeElement)return i()}else if(o===t.child.child)return i()})),e.incrementChildrenElementsCount(t.childrenElementsCount),t.effectHost&&e.markEffectHost(),t.layoutEffectHost&&e.markLayoutEffectHost(),t.insertionEffectHost&&e.markInsertionEffectHost(),t.portalHost&&e.markPortalHost()}}function Ze(e,t,n){let r=null;if(Ye(e)){const o=f(e.children[t])?E([e.children[t]]):[e.children[t]];e.children.splice(t,1,...o),r=e.children[t],r=je(n,r)}return L(r)&&(pe(n)&&n.markEffectHost(),Me(n)&&n.markLayoutEffectHost(),Ie(n)&&n.markInsertionEffectHost(),ke.detectIsPortal(r)&&n.markPortalHost()),r}function je(e,t){const n=L(t),r=t;if(n)try{let e=r.type(r.props,r.ref);f(e)&&!(e=>L(e)&&e.token===Ee)(r)?e=ge({slot:e}):(c(e)||a(e))&&(e=N(e)),r.children=f(e)?E([e]):[e]}catch(t){r.children=[],e.setError(t),function(...e){!l(console)&&console.error(...e)}(t)}else S(t)&&(t=t());if(Ye(t)){for(let e=0;e<t.children.length;e++)t.children[e]||(t.children[e]=_e(t.children[e]));t.children=n?t.children:f(t.children)?E([t.children]):[t.children],n&&0===r.children.length&&r.children.push(A())}return t}function Ge(e){return`dark:idx:${e}`}function qe(e){var n,r;return L(e)?p((r=e).props[t])?null:r.props[t]:S(e)?(e=>p(e[t])?null:e[t])(e):M(e)?p((n=e).attrs[t])?null:n.attrs[t]:null}function _e(e){return d(t=e)||l(t)||!1===t?A():e;var t}function Xe(t){return S(t)?t[e]:M(t)?t.name:C(t)||L(t)?t.type:null}function Ye(e){return M(e)||L(e)}function ze(e,t,n){return e&&function(e,t){return!!(e&&t&&L(e)&&L(t)&&e.type===t.type)&&(e?qe(e):null)===(t?qe(t):null)}(t,n)?e.hook:L(n)?{idx:0,values:[]}:null}function Je(e){const t=Z(),n=ye((()=>({fiber:null})),[]);return n.fiber=Y(),r=>{if(le())return;const o=function(e){const{rootId:t,fiber:n,forceStart:r=!1,onStart:o}=e;return()=>{n.effectTag!==we.DELETE&&(r&&o(),n.isUsed||(!r&&o(),V(t),ue(!0),Q(),n.alternate=(new De).mutate({...n}),n.marker="🍒",n.effectTag=we.UPDATE,n.childrenElementsCount=0,n.child=null,q(n),z(n),n.instance=je(n,n.instance),X(n)))}}({rootId:t,fiber:n.fiber,forceStart:Boolean(e?.timeoutMs),onStart:r||m});ie()&&(e={...e||{},forceSync:!0}),j()?.isBatchZone?function(e,t){e.batched&&window.clearTimeout(e.batched),e.batched=window.setTimeout((()=>{var n;n=!1,j().isBatchZone=n,e.batched=null,t()}))}(n.fiber,(()=>ke.scheduleCallback(o,e))):ke.scheduleCallback(o,e)}}function Qe(e){const{defaultValue:t}=e,n=Y(),r=ye((()=>function(e,t){let n=t;for(;n;){if(n.provider&&n.provider.get(e))return n.provider.get(e);n=n.parent}return null}(e,n)),[]),o=r?r.value:t,i=Je(),s=ye((()=>({value:o})),[]),l=Boolean(r);return de((()=>{if(!l)return;const e=r.subscribe((e=>{Object.is(s.value,e)||i()}));return()=>e()}),[l]),s.value=o,o}function et(e,t){return ye((()=>e),t)}const tt=D((e=>{const{list:t,getKey:n,slot:r}=e,o=ye((()=>({list:t,subscribers:new Set})),[]),i=ye((()=>({value:g(t,(e=>n(e)),!0)})),[t,n]),s=ye((()=>{if(o.list.length!==t.length)return!1;let e=0;for(const r of t){if(n(r)!==n(o.list[e]))return!1;e++}return!0}),[t]);ye((()=>{o.list=[...t]}),[t]),de((()=>{s&&o.subscribers.forEach((e=>e(i.value)))}),[t]);const l=et((e=>(o.subscribers.add(e),()=>o.subscribers.delete(e))),[]),a=ye((()=>({subscribe:l,map:i.value})),[]);return a.map=i.value,rt.Provider({value:a,slot:nt({canSplit:s,slot:r})})})),nt=U(D((({slot:e})=>e)),((e,t)=>!1===t.canSplit)),rt=function(e,t){const{displayName:n="Context"}={},r={displayName:n,defaultValue:null,Provider:null,Consumer:null};return r.Provider=function(e,t,n){return D((({value:t=null,slot:n})=>{const r=Y();if(!r.provider){const n={value:t,subscribers:new Set,subscribe:e=>(n.subscribers.add(e),()=>n.subscribers.delete(e))};r.provider=new Map,r.provider.set(e,n)}const o=r.provider.get(e);return de((()=>{o.subscribers.forEach((e=>e(t)))}),[t]),o.value=t,n}),{displayName:`${n}.Provider`})}(r,0,n),r.Consumer=function(e,t){return D((({slot:t})=>{const n=Qe(e);return s(t)?t(n):null}),{displayName:`${t}.Consumer`})}(r,n),r}();function ot(e){return(e=e.map((e=>c(e)||a(e)?N(e.toString()):e)))?Array.isArray(e)?[...e]:[e]:[]}function it(e,t,...n){if(c(e))return I({...t,as:e,slot:ot(n)});if(s(e)){let r=ot(n);return r=1===r.length?r[0]:r,e({...t,slot:r})}return null}const st=Symbol("portal");D((({slot:e,...t})=>(ye((()=>t[st].innerHTML=""),[]),e)),{token:st});const lt=e=>L(e)&&e.token===st,at=e=>lt(e)?e.props[st]:null;class ct{type="";sourceEvent=null;target=null;propagation=!0;constructor(e){this.type=e.sourceEvent.type,this.sourceEvent=e.sourceEvent,this.target=e.target}stopPropagation(){this.propagation=!1,this.sourceEvent.stopPropagation()}preventDefault(){this.sourceEvent.preventDefault()}getPropagation(){return this.propagation}}function ut(e){const{target:t,eventName:n,handler:r}=e,o=j().events,i=o.get(n);if(i)i.set(t,r);else{const e=e=>{const t=o.get(n).get(e.target),r=e.target;let i=null;s(t)&&(i=new ct({sourceEvent:e,target:r}),t(i)),(i?i.getPropagation():r.parentElement)&&r.parentElement.dispatchEvent(new e.constructor(e.type,e))};o.set(n,new WeakMap([[t,r]])),document.addEventListener(n,e,!0),l=()=>document.removeEventListener(n,e,!0),j().unsubscribers.push(l)}var l}const ft=e=>e.startsWith("on"),dt=e=>e.slice(2,e.length).toLowerCase(),pt={[t]:!0,[n]:!0,[r]:!0};let ht=new Map,mt=[];const Et=g("svg,animate,animateMotion,animateTransform,circle,clipPath,defs,desc,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,image,line,linearGradient,marker,mask,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,stop,switch,symbol,text,textPath,tspan,use,view".split(","),(e=>e)),gt=g("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr".split(","),(e=>e)),vt={[b.TAG]:e=>{const t=e;var n;return n=t.name,Boolean(Et[n])?document.createElementNS("http://www.w3.org/2000/svg",t.name):document.createElement(t.name)},[b.TEXT]:e=>{const t=e;return document.createTextNode(t.value)},[b.COMMENT]:e=>{const t=e;return document.createComment(t.value)}};function bt(e,t){s(e)?e(t):(e=>{if("object"!=typeof e||d(e))return!1;const t=e;for(const e in t)if("current"===e&&t.hasOwnProperty(e))return!0;return!1})(e)&&(e.current=t)}function yt(e){const{tagName:t,element:n,attrName:r,attrValue:o}=e,i=kt[t];let s=!!i&&i(n,r,o);var l,a;return a=r,(l=Object.getPrototypeOf(n)).hasOwnProperty(a)&&Boolean(Object.getOwnPropertyDescriptor(l,a)?.set)&&(n[r]=o),!s&&u(o)&&(s=!r.includes("-")),s}const kt={input:(e,t,n)=>("value"===t&&u(n)?e.checked=n:"autoFocus"===t&&(e.autofocus=Boolean(n)),!1),textarea:(e,t,n)=>"value"===t&&(e.innerHTML=String(n),!0)};function wt(e){let t=e;for(;t;)if(t=t.parent,lt(t.instance)&&(t.nativeElement=at(t.instance)),t.nativeElement)return t;return t}const Tt={[we.CREATE]:e=>{null!==e.nativeElement&&function(e){const t=wt(e),r=t.nativeElement,o=r.childNodes,i=0===o.length,a=i?0:e.elementIdx;i||a>o.length-1?(c=t.instance.name,!Boolean(gt[c])&&function(e,t){const{fragment:n}=ht.get(t)||{fragment:document.createDocumentFragment(),callback:()=>{}};ht.set(t,{fragment:n,callback:()=>{t.appendChild(n)}}),n.appendChild(e.nativeElement)}(e,r)):function(e,t,n){t.insertBefore(e.nativeElement,t.childNodes[n])}(e,r,a);var c;!function(e,t){if(!M(t))return;const r=Object.keys(t.attrs);for(const o of r){const r=t.attrs[o];o!==n?s(r)?ft(o)&&ut({target:e,handler:r,eventName:dt(o)}):l(r)||pt[o]||!yt({tagName:t.name,attrValue:r,attrName:o,element:e})&&e.setAttribute(o,r):bt(r,e)}}(e.nativeElement,e.instance)}(e)},[we.UPDATE]:e=>{e.move&&(function(e){const t=function(e){const t=[];return Pe(e,(({nextFiber:n,isReturn:r,resetIsDeepWalking:o,stop:i})=>n===e.nextSibling||n===e.parent?i():!r&&n.nativeElement?(!lt(n.instance)&&t.push(n.nativeElement),o()):void 0)),t}(e),n=t[0].parentElement,r=new DocumentFragment,o=e.elementIdx;let i=0;for(const e of t)n.insertBefore(document.createComment(`${o}:${i}`),e),r.appendChild(e),i++;mt.push((()=>{for(let e=1;e<t.length;e++)n.removeChild(n.childNodes[o+1]);n.replaceChild(r,n.childNodes[o])}))}(e),e.move=!1),null!==e.nativeElement&&C(e.alternate.instance)&&C(e.instance)&&function(e){const t=e.nativeElement,r=e.alternate.instance,o=e.instance;H(r)&&H(o)&&r.value!==o.value?t.textContent=o.value:M(r)&&M(o)&&function(e,t,r){const o=new Set([...Object.keys(t.attrs),...Object.keys(r.attrs)]);for(const i of o){const o=t.attrs[i],a=r.attrs[i];i!==n?l(a)?e.removeAttribute(i):s(o)?ft(i)&&o!==a&&ut({target:e,handler:a,eventName:dt(i)}):pt[i]||o===a||!yt({tagName:r.name,attrValue:a,attrName:i,element:e})&&e.setAttribute(i,a):bt(o,e)}}(t,r,o)}(e)},[we.DELETE]:e=>function(e){const t=wt(e);Pe(e,(({nextFiber:n,isReturn:r,resetIsDeepWalking:o,stop:i})=>n===e.nextSibling||n===e.parent?i():!r&&n.nativeElement?(!lt(n.instance)&&t.nativeElement.removeChild(n.nativeElement),o()):void 0))}(e),[we.SKIP]:()=>{}},xt={animations:[],hight:[],normal:[],low1:[],low2:[]};let Ct=null,Mt=0,Ht=!1,St=null;class At{static nextTaskId=0;id;time;timeoutMs;priority;forceSync;callback;constructor(e){this.id=++At.nextTaskId,this.time=e.time,this.timeoutMs=e.timeoutMs,this.priority=e.priority,this.forceSync=e.forceSync,this.callback=e.callback}}function It(e){if(!e.length)return!1;St=e.shift();const t=St.priority===o.ANIMATION;return St.callback(),St.forceSync||t?function(e){for(;e(););Nt(),St=null}(Le):(Ct=Le,Ht||(Ht=!0,Ot.postMessage(null))),!0}function Nt(){Boolean(G())||function(){const[e]=xt.low2;return!!(e&&h()-e.time>e.timeoutMs)&&(It(xt.low2),!0)}()||(xt.low1.length>1e5&&(xt.low1=[]),0)||It(xt.animations)||It(xt.hight)||It(xt.normal)||requestIdleCallback((()=>It(xt.low1)||It(xt.low2)))}let Pt=null,Ot=null;Pt=new MessageChannel,Ot=Pt.port2,Pt.port1.onmessage=function(){if(Ct){Mt=h()+4;try{Ct()?Ot.postMessage(null):(St=null,Ht=!1,Ct=null,Nt())}catch(e){throw Ot.postMessage(null),e}}else Ht=!1},ke.createNativeElement=function(e){return vt[e.type](e)},ke.requestAnimationFrame=requestAnimationFrame.bind(void 0),ke.cancelAnimationFrame=cancelAnimationFrame.bind(void 0),ke.scheduleCallback=function(e,t){const{priority:n=o.NORMAL,timeoutMs:r=0,forceSync:i=!1}=t||{},s=new At({time:h(),timeoutMs:r,priority:n,forceSync:i,callback:e});({[o.ANIMATION]:()=>xt.animations.push(s),[o.HIGH]:()=>xt.hight.push(s),[o.NORMAL]:()=>xt.normal.push(s),[o.LOW]:()=>s.timeoutMs>0?xt.low2.push(s):xt.low1.push(s)})[s.priority](),Nt()},ke.shouldYeildToHost=()=>h()>=Mt,ke.applyCommit=function(e){Tt[e.effectTag](e)},ke.finishCommitWork=function(){for(const{callback:e}of ht.values())e();for(const e of mt)e();ht=new Map,mt=[]},ke.detectIsPortal=lt,ke.unmountPortal=function(e){const t=at(e.instance);t&&(t.innerHTML="")};const Dt=new Map,Lt=(e={})=>I({...e,as:"button"}),Rt=(()=>{let e,t;return{start:n=>{e=performance.now(),t=n},stop:()=>{const n=t;t&&setTimeout((()=>{t=null;const r=performance.now()-e;console.log(`${n}: ${r}`)}))}}})();let $t=0;const Ft=(e,t="")=>Array(e).fill(0).map((()=>({id:++$t,name:`item: ${$t} ${t}`,selected:!1}))),Ut={list:[]},Wt=U(D((({onCreate:e,onPrepend:t,onAppend:n,onInsertDifferent:r,onUpdateAll:o,onSwap:i,onClear:s})=>((e={})=>I({...e,as:"div"}))({style:"width: 100%; height: 64px; background-color: blueviolet; display: flex; align-items: center; padding: 16px;",slot:[Lt({slot:N("create 10000 rows"),onClick:e}),Lt({slot:N("Prepend 1000 rows"),onClick:t}),Lt({slot:N("Append 1000 rows"),onClick:n}),Lt({slot:N("insert different"),onClick:r}),Lt({slot:N("update every 10th row"),onClick:o}),Lt({slot:N("swap rows"),onClick:i}),Lt({slot:N("clear rows"),onClick:s}),Lt({slot:N("unmount app"),onClick:()=>{jt.unmount()}})]})))),Bt=U(D((({id:e,onRemove:t,onHighlight:n})=>{const{name:r,selected:o}=function(e,t){const{subscribe:n,map:r}=Qe(rt),o=Je({forceSync:!0}),i=e(r),s=t(i),l=ye((()=>({detectedChange:s})),[]);return de((()=>{const r=n((n=>{const r=t(e(n));Object.is(l.detectedChange,r)||o(),l.detectedChange=r}));return()=>r()}),[]),l.detectedChange=s,i}((t=>t[e]),(e=>`${e.name}:${e.selected}`)),i=et((()=>t(e)),[]),s=et((()=>n(e)),[]);return it("tr",{class:o?"selected":void 0},it("td",{class:"cell"},r),it("td",{class:"cell"},"qqq"),it("td",{class:"cell"},"xxx"),it("td",{class:"cell"},it("button",{onClick:i},"remove"),it("button",{onClick:s},"highlight")))}))),Kt=U(D((({items:e,onRemove:t,onHighlight:n})=>it("table",{class:"table"},it("tbody",null,e.map((e=>it(Bt,{key:e.id,id:e.id,onRemove:t,onHighlight:n})))))))),Vt=D((()=>{const e=et((()=>{Ut.list=Ft(1e4),Rt.start("create"),qt(),Rt.stop()}),[]),t=et((()=>{Ut.list.unshift(...Ft(1e3,"!!!")),Ut.list=[...Ut.list],Rt.start("prepend"),qt(),Rt.stop()}),[]),n=et((()=>{Ut.list.push(...Ft(1e3,"!!!")),Ut.list=[...Ut.list],Rt.start("append"),qt(),Rt.stop()}),[]),r=et((()=>{const[e,t,n,...r]=Ut.list;Ut.list=[...Ft(5,"***"),e,t,n,...Ft(2,"***"),...r].filter(Boolean),Rt.start("insert different"),qt(),Rt.stop()}),[]),o=et((()=>{Ut.list=Ut.list.map(((e,t)=>({...e,name:(t+1)%10==0?e.name+"!!!":e.name}))),Rt.start("update every 10th"),qt(),Rt.stop()}),[]),i=et((e=>{Ut.list=Ut.list.filter((t=>t.id!==e)),Rt.start("remove"),qt(),Rt.stop()}),[]),s=et((e=>{const t=Ut.list.findIndex((t=>t.id===e));Ut.list[t].selected=!Ut.list[t].selected,Ut.list=[...Ut.list],Rt.start("highlight"),qt(),Rt.stop()}),[]),l=et((()=>{if(0===Ut.list.length)return;const e=Ut.list[1];Ut.list[1]=Ut.list[Ut.list.length-2],Ut.list[Ut.list.length-2]=e,Ut.list=[...Ut.list],Rt.start("swap"),qt(),Rt.stop()}),[]),a=et((()=>{Ut.list=[],Rt.start("clear"),qt(),Rt.stop()}),[]);return it(ge,null,it(Wt,{onCreate:e,onPrepend:t,onAppend:n,onInsertDifferent:r,onUpdateAll:o,onSwap:l,onClear:a}),it(tt,{list:Ut.list,getKey:Zt},it(Kt,{items:Ut.list,onRemove:i,onHighlight:s})))})),Zt=e=>e.id,jt=(Gt=document.getElementById("root"),{render:e=>function(e,t){if(!(t instanceof Element))throw new Error("[Dark]: render receives only Element as container!");const n=!l(Dt.get(t));let r=null;n?r=Dt.get(t):(r=Dt.size,Dt.set(t,r),t.innerHTML=""),le(r)||ke.scheduleCallback((()=>{V(r);const o=_(),i=(new De).mutate({nativeElement:t,instance:new w({name:"root",children:E([e||A()])}),alternate:o,effectTag:n?we.UPDATE:we.CREATE});o&&(o.alternate=null),Q(),q(i),X(i)}),{priority:o.NORMAL,forceSync:ie()})}(e,Gt),unmount:()=>{!function(e,t){l(e)||(Oe(_(e)),j(e).unsubscribers.forEach((e=>e())),(e=>{B.delete(e)})(e),Dt.delete(Gt),Gt.innerHTML="")}(Dt.get(Gt))}});var Gt;function qt(){jt.render(it(Vt,null))}qt()})();
//# sourceMappingURL=build.js.map