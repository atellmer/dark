(()=>{"use strict";const e="@dark-engine/core",t="key",n="C",s="U",i=32;var o,r;!function(e){e[e.LOW=0]="LOW",e[e.NORMAL=1]="NORMAL",e[e.HIGH=2]="HIGH"}(o||(o={})),function(e){e.SKIP_SCAN_OPT="__skipScanOpt",e.MEMO_SLOT_OPT="__memoSlotOpt",e.STATIC_SLOT_OPT="__staticSlotOpt"}(r||(r={}));const a={[t]:!0,ref:!0,[r.SKIP_SCAN_OPT]:!0,[r.MEMO_SLOT_OPT]:!0,[r.STATIC_SLOT_OPT]:!0},l=e=>"function"==typeof e,c=e=>void 0===e,u=e=>"string"==typeof e,h=e=>"string"==typeof e||"number"==typeof e,d=e=>"object"==typeof e,f=e=>"boolean"==typeof e,p=e=>Array.isArray(e),m=e=>null===e,g=e=>m(e)||c(e),y=e=>e instanceof Promise,k=(e,t)=>Object.is(e,t),v=()=>Date.now(),b=()=>!0,I=()=>!1,x=e=>e,E=(...e)=>!c(console)&&console.error(...e),w=(t,n=e)=>function(e){throw e}(new Error(((t,n=e)=>`[${n}]: ${t}`)(t,n)));function T(e,t=x){if(!p(e))return[t(e)];if(0===e.length)return[];const n=[],s=[e[0]];let i=0;for(;s.length>0;){const o=s.pop();if(p(o))for(let e=o.length-1;e>=0;e--)s.push(o[e]);else n.push(t(o)),0===s.length&&i<e.length-1&&(i++,s.push(e[i]))}return n}function M(e,t){if(e===t||0===e.length&&0===t.length)return!1;const n=Math.max(e.length,t.length);for(let s=0;s<n;s++)if(!k(e[s],t[s]))return!0;return!1}const S=e=>`dark:idx:${e}`,C=e=>{return(t=e,Object.keys(t)).map((t=>e[t]));var t},A=Symbol("inject");class O{type=null;props=null;token=null;displayName=null;shouldUpdate=null;children=[];constructor(e,t,n,s,i){this.type=e,this.props=n,t&&(this.token=t),s&&(this.shouldUpdate=s),i&&(this.displayName=i)}}function L(e,t={}){const{token:n,displayName:s}=t,i=(t={})=>{const{token:o=n,shouldUpdate:r}=i[A]||P;return new O(e,o,t,r,s)};return i.displayName=s,i}const P={},N=e=>e instanceof O,$=Symbol("vNode"),_="type";class R{type=null;constructor(e){this.type=e}}class D extends R{name;attrs;children;constructor(e,t,n){super(X.TAG),this.name=e,this.attrs=t,this.children=n}}class Z extends R{value;constructor(e){super(X.TEXT),this.value=String(e)}}class B extends R{value="";constructor(e){super(X.COMMENT),this.value=e}}function F(e){const n=()=>{const{as:t,slot:n,_void:s=!1,...i}=e,o=s?[]:p(n)?n:g(n)?[]:[n];return new D(t,i,o)};return n[$]=!0,n[_]=e.as,n[t]=e.key,n}const H=e=>new Z(e);H.from=e=>q(e)?e.value:String(e);const U=e=>e instanceof R,W=e=>e instanceof D,q=e=>e instanceof Z,j=e=>l(e)&&!0===e[$],K=()=>new B("dark:matter");function G(e){return N(e)?e.props[t]??null:j(e)?e[t]??null:W(e)&&(n=e).attrs?n.attrs[t]??null:null;var n}function V(e,t){return N(e)?((e,t)=>Boolean(e.props[t]))(e,t):j(e)?((e,t)=>Boolean(e[t]))(e,t):!!W(e)&&((e,t)=>Boolean(e.attrs[t]))(e,t)}function z(e){return N(e)?e.type:j(e)?e[_]:W(e)?e.name:U(e)?e.type:null}function Y(e){return W(e)||N(e)}function Q(e,t,n=!1){return n?e.type===t.type:z(e)===z(t)}var X;function J(e,n,s){const{children:i,slot:o,...r}=n,a=c(i)?c(o)?[]:o:i,h=p(a)?a:[a];if(!s&&g(s)||(r[t]=s),u(e)){const t=r||{};return t.as=e,t.slot=h,F(t)}if(l(e)){const t=r||{};return t.slot=1===h.length?h[0]:h,e(t)}return null}!function(e){e.TAG="TAG",e.TEXT="TEXT",e.COMMENT="COMMENT"}(X||(X={}));const ee=Symbol("fragment"),te=L((({slot:e})=>e||null),{token:ee,displayName:"Fragment"});class ne{subscribers=new Map;on(e,t){return!this.subscribers.has(e)&&this.subscribers.set(e,new Set),this.subscribers.get(e).add(t),()=>this.subscribers.has(e)&&this.subscribers.get(e).delete(t)}emit(e,t){this.subscribers.has(e)&&this.subscribers.get(e).forEach((e=>e(t)))}kill(){this.subscribers=new Map}__getSize(){return this.subscribers.size}}class se{id=0;cc=0;cec=0;idx=0;eidx=0;mask=0;element=null;tag=null;parent=null;child=null;next=null;alt=null;inst=null;hook=null;constructor(e=0,t=null){this.id=se.incrementId(),this.idx=e,this.hook=t}mutate(e){for(const t in e)this[t]=e[t];return this}markHost(e){this.mask|=e,this.parent&&!(this.parent.mask&e)&&this.parent.markHost(e)}increment(e=1){this.parent&&(this.parent.cec+=e,this.parent.element||this.parent.hook?.getIsWip()||this.parent.increment(e))}setError(e){if(this.hook?.hasCatch())this.hook.catch(e),E(e);else{if(!this.parent)throw e;this.parent.setError(e)}}static incrementId(){return++se.nextId}static setNextId(e){se.nextId=e}static nextId=0}class ie{idx=0;values=[];owner=null;atoms=null;mask=0;box=null;__getMask(e){return Boolean(this.mask&e)}__mark(e,t){t?this.mask|=e:this.mask&=~e}__box(){this.box||(this.box={})}getIsWip(){return this.__getMask(1)}setIsWip(e){this.__mark(1,e)}getIsPortal(){return this.__getMask(2)}setIsPortal(e){this.__mark(2,e)}getIsSuspense(){return this.__getMask(4)}setIsSuspense(e){this.__mark(4,e)}getIsPending(){return this.__getMask(8)}setIsPeinding(e){this.__mark(8,e)}getProviders(){return this.box?.providers}setProviders(e){this.__box(),this.box.providers=e}getBatch(){return this.box?.batch}setBatch(e){this.__box(),this.box.batch=e}hasCatch(){return l(this.box?.catch)}setCatch(e){this.__box(),this.box.catch=e}catch(e){this.box?.catch(e)}incrementPending(){this.__box(),c(this.box.pendings)&&(this.box.pendings=0),this.box.pendings++}getPendings(){return this.box?.pendings}}class oe{store=new Map;add(e,t){!this.store.has(e)&&this.store.set(e,new Set),this.store.get(e).add(t)}resolve(e){for(const[t,n]of this.store){const s=Array.from(n);if(this.store.delete(t),s.length>0){t.setIsPeinding(!0),t.incrementPending();const n=t.getPendings();e(t),Promise.allSettled(s).then((()=>{n===t.getPendings()&&(t.setIsPeinding(!1),e(t))}))}}}}class re{root=null;wip=null;cursor=null;unit=null;mountDeep=!0;mountLevel=0;mountNav={};events=new Map;unsubs=new Set;actions={};candidates=new Set;deletions=new Set;cancels=[];asyncEffects=new Set;layoutEffects=new Set;insertionEffects=new Set;resourceId=0;resources=new Map;awaiter=new oe;onTransitionEnd=null;isLayoutEffectsZone=!1;isInsertionEffectsZone=!1;isUpdateZone=!1;isBatchZone=!1;isHydrateZone=!1;isStreamZone=!1;isTransitionZone=!1;isEventZone=!1;isHot=!1;isDynamic=fe.detectIsDynamic();isServer=pe();emitter=new ne;resetActions(){this.actions={}}getActionsById(e){return this.actions[e]}addActionMap(e,t){this.actions[e]={map:t,replace:null,insert:null,remove:null,move:null,stable:null}}addReplaceAction(e,t){!this.actions[e].replace&&(this.actions[e].replace={}),this.actions[e].replace[t]=!0}addInsertAction(e,t){!this.actions[e].insert&&(this.actions[e].insert={}),this.actions[e].insert[t]=!0}addRemoveAction(e,t){!this.actions[e].remove&&(this.actions[e].remove={}),this.actions[e].remove[t]=!0}addMoveAction(e,t){!this.actions[e].move&&(this.actions[e].move={}),this.actions[e].move[t]=!0}addStableAction(e,t){!this.actions[e].stable&&(this.actions[e].stable={}),this.actions[e].stable[t]=!0}fork(){const e=new re;return e.root=null,e.wip=null,e.cursor=null,e.unit=this.unit,e.mountDeep=this.mountDeep,e.mountLevel=this.mountLevel,e.mountNav={...this.mountNav},e.events=this.events,e.unsubs=this.unsubs,e.actions={...this.actions},e.candidates=new Set([...this.candidates]),e.deletions=new Set([...this.deletions]),e.asyncEffects=new Set([...this.asyncEffects]),e.layoutEffects=new Set([...this.layoutEffects]),e.isUpdateZone=this.isUpdateZone,e.emitter=this.emitter,e.awaiter=this.awaiter,e}getRoot(){return this.root}setRoot(e){this.root=e}keepRoot(){!this.isUpdateZone&&this.setRoot(this.wip)}getWorkInProgress(){return this.wip}setWorkInProgress(e){this.wip=e}getNextUnitOfWork(){return this.unit}setNextUnitOfWork(e){this.unit=e}getCursorFiber(){return this.cursor}setCursorFiber(e){this.cursor=e}navToChild(){this.mountLevel=this.mountLevel+1,this.mountNav[this.mountLevel]=0}navToSibling(){this.mountNav[this.mountLevel]=this.mountNav[this.mountLevel]+1}navToParent(){this.mountLevel=this.mountLevel-1}navToPrev(){0===this.getMountIndex()?(this.navToParent(),this.setMountDeep(!0)):(this.mountNav[this.mountLevel]=this.mountNav[this.mountLevel]-1,this.setMountDeep(!1))}getMountIndex(){return this.mountNav[this.mountLevel]}getMountDeep(){return this.mountDeep}setMountDeep(e){this.mountDeep=e}resetMount(){this.mountLevel=0,this.mountNav={},this.mountDeep=!0}getEvents(){return this.events}addEventUnsubscriber(e){this.unsubs.add(e)}unsubscribeEvents(){this.unsubs.forEach((e=>e())),this.unsubs=new Set}getCandidates(){return this.candidates}addCandidate(e){this.candidates.add(e)}resetCandidates(){this.candidates=new Set}getDeletions(){return this.deletions}hasDeletion(e){let t=e;for(;t;){if(this.deletions.has(t))return!0;t=t.parent}return!1}addDeletion(e){!this.hasDeletion(e)&&this.deletions.add(e)}resetDeletions(){this.deletions=new Set}addAsyncEffect(e){this.asyncEffects.add(e)}resetAsyncEffects(){this.asyncEffects=new Set}runAsyncEffects(){if(!this.isDynamic)return;const e=this.asyncEffects;e.size>0&&setTimeout((()=>e.forEach((e=>e()))))}addLayoutEffect(e){this.layoutEffects.add(e)}resetLayoutEffects(){this.layoutEffects=new Set}runLayoutEffects(){this.isDynamic&&(this.setIsLayoutEffectsZone(!0),this.layoutEffects.forEach((e=>e())),this.setIsLayoutEffectsZone(!1))}addInsertionEffect(e){this.insertionEffects.add(e)}resetInsertionEffects(){this.insertionEffects=new Set}runInsertionEffects(){this.isDynamic&&(this.setIsInsertionEffectsZone(!0),this.insertionEffects.forEach((e=>e())),this.setIsInsertionEffectsZone(!1))}addCancel(e){this.cancels.push(e)}applyCancels(){for(let e=this.cancels.length-1;e>=0;e--)this.cancels[e]()}resetCancels(){this.cancels=[]}getIsLayoutEffectsZone(){return this.isLayoutEffectsZone}setIsLayoutEffectsZone(e){this.isLayoutEffectsZone=e}getIsInsertionEffectsZone(){return this.isInsertionEffectsZone}setIsInsertionEffectsZone(e){this.isInsertionEffectsZone=e}getIsUpdateZone(){return this.isUpdateZone}setIsUpdateZone(e){this.isUpdateZone=e}getIsBatchZone(){return this.isBatchZone}setIsBatchZone(e){this.isBatchZone=e}getIsHydrateZone(){return this.isHydrateZone}setIsHydrateZone(e){this.isHydrateZone=e}getIsStreamZone(){return this.isStreamZone}setIsStreamZone(e){this.isStreamZone=e}getIsTransitionZone(){return this.isTransitionZone}setIsTransitionZone(e){this.isTransitionZone=e}getIsEventZone(){return this.isEventZone}setIsEventZone(e){this.isEventZone=e}getIsHot(){return this.isHot}setIsHot(e){this.isHot=e}getOnTransitionEnd(){return this.onTransitionEnd}setOnTransitionEnd(e){this.onTransitionEnd=e}cleanup(){this.keepRoot(),this.setWorkInProgress(null),this.setNextUnitOfWork(null),this.setCursorFiber(null),this.resetMount(),this.resetCandidates(),this.resetDeletions(),this.resetCancels(),this.resetInsertionEffects(),this.resetLayoutEffects(),this.resetAsyncEffects(),this.setIsHydrateZone(!1),this.setIsUpdateZone(!1),this.resetActions()}getEmitter(){return this.emitter}getResource(e){return this.resources.get(e)}setResource(e,t){this.resources.set(e,t)}getResources(){return this.resources}getResourceId(){return this.resourceId}setResourceId(e){this.resourceId=e}getNextResourceId(){return++this.resourceId}getAwaiter(){return this.awaiter}runAfterCommit(){this.resources=new Map,this.isServer&&(this.resourceId=0)}}let ae=null;const le=new Map,ce=()=>ae,ue=e=>{ae=e,!le.has(ae)&&le.set(ae,new re)},he=(e=ae)=>le.get(e),de=()=>w("The function was not installed by renderer!"),fe={createElement:de,toggle:de,raf:de,caf:de,spawn:de,commit:de,finishCommit:de,detectIsDynamic:de},pe=()=>!fe.detectIsDynamic(),me=()=>he().getIsHydrateZone();function ge(){return he().getCursorFiber()}function ye(){const e=pe(),t=me();return{isServer:e,isHydration:t,isSSR:e||t}}const ke=Symbol("memo"),ve=(e,t)=>{for(const n in t)if("slot"!==n&&t[n]!==e[n])return!0;return!1},be=e=>N(e)&&e.token===ke,Ie=function(e,t=ve){return e[A]={token:ke,shouldUpdate:t},e}(L((({getValue:e})=>e())),((e,t)=>M(e.deps,t.deps)));function xe(e,t){const n=ge(),{hook:s}=n,{idx:i,values:o}=s,r=o[i]||(o[i]={deps:t,value:e()});let a=null,l=null;return function(e){return N(e)||j(e)}(r.value)?(a=r.value,l=Ie({getValue:e,deps:t})):(a=M(r.deps,t)?e():r.value,l=a),r.deps=t,r.value=a,s.idx++,l}function Ee(e,t){let n=!0,s=!1;const i=()=>n=!1,o=()=>s=!0,r=[e];for(;0!==r.length;){const a=r.pop();if(t(a,i,o),s)break;a!==e&&a.next&&r.push(a.next),n&&a.child&&r.push(a.child),n=!0}}function we(e){let t=e;for(;t;){if(t.element)return t;t=t.parent}return t}function Te(e){let t=e;for(;t;){if("D"===t.tag)return!1;t=t.parent}return Boolean(e)}function Me(e,t){let n=e;for(;n;){if(n.hook?.getIsSuspense()&&(!t||n.hook.getIsPending()))return n;n=n.parent}return null}function Se(e,t,n,s){const i=n.getActionsById(e.id),o=e.inst.children;t.element&&(e.element=t.element);for(let t=0;t<o.length;t++){const n=Ae(o[t],t),r=i.map[n];Ce(o,e,i.map,t,e.eidx),s&&s(r,n)}e.cc=o.length,n.setMountDeep(!1)}function Ce(e,t,n,s,i){const o=s-1,r=s+1,a=Ae(e[s],s),l=Ae(e[o],o),c=Ae(e[r],r),u=n[a],h=n[l],d=n[c],f=0===s,p=s===e.length-1;f&&(t.child=u),u.alt=null,u.parent=t,u.tag="S",u.idx=s,u.eidx=h?h.eidx+(h.element?1:h.cec):i,d&&(u.next=d),p&&(u.next=null),Oe(u)}function Ae(e,t){const n=G(e);return null!==n?n:S(t)}function Oe(e,t=e){e.increment(t.element?1:t.cec),1&t.mask&&e.markHost(1),2&t.mask&&e.markHost(2),4&t.mask&&e.markHost(4),8&t.mask&&e.markHost(8)}class Le extends ne{port1=null;port2=null;constructor(){super(),this.port1=new Pe(this),this.port2=new Pe(this)}}class Pe{channel;offs=[];constructor(e){this.channel=e}on(e,t){const n=this.channel.on(e,t);this.offs.push(n)}postMessage(e){fe.spawn((()=>{this.channel.emit("message",e)}))}unref(){this.offs.forEach((e=>e()))}}class Ne{__id;priority;forceAsync=!1;isTransition=!1;isObsolete=!1;callback=null;createLoc=null;onRestore=null;onTransitionEnd=null;static nextTaskId=0;constructor(e,t,n){this.__id=++Ne.nextTaskId,this.callback=e,this.priority=t,this.forceAsync=n}getPriority(){return this.priority}getForceAsync(){return this.forceAsync}setIsTransition(e){this.isTransition=e}getIsTransition(){return this.isTransition}run(){this.isObsolete=!1,this.callback(this.onRestore),this.onRestore=null}complete(){this.isTransition&&!this.isObsolete&&l(this.onTransitionEnd)&&this.onTransitionEnd()}markAsObsolete(){this.isObsolete=!0}getIsObsolete(){return this.isObsolete}setOnRestore(e){this.onRestore=e}setCreateLoc(e){this.createLoc=e}loc(){const[e]=this.createLoc().split(":");return e}$loc(){return this.createLoc()}setOnTransitionEnd(e){this.onTransitionEnd=e}}const $e=()=>">",_e=new class{queue={[o.HIGH]:[],[o.NORMAL]:[],[o.LOW]:[]};deadline=0;task=null;scheduledCallback=null;isMessageLoopRunning=!1;channel=null;port=null;constructor(){this.channel=new Le,this.port=this.channel.port2,this.channel.port1.on("message",this.performWorkUntilDeadline.bind(this))}reset(){this.deadline=0,this.task=null,this.scheduledCallback=null,this.isMessageLoopRunning=!1}shouldYield(){return v()>=this.deadline}schedule(e,t){const n=function(e,t){const{priority:n=o.NORMAL,forceAsync:s=!1,isTransition:i=!1,loc:r,onTransitionEnd:a}=t,l=new Ne(e,n,s);return l.setIsTransition(i),l.setOnTransitionEnd(a),l.setCreateLoc(r||$e),l}(e,t);this.put(n),this.execute()}detectIsTransition(){return this.task.getIsTransition()}hasPrimaryTask(){const{high:e,normal:t}=this.getQueues();return e.length>0||t.length>0}retain(e){const{high:t,normal:n,low:s}=this.getQueues(),i=[...t,...n],{hasHostUpdate:o,hasChildUpdate:r}=function(e,t){const n=e.loc();let s=!1,i=!1,o=!1;for(let e=0;e<t.length;e++){const r=t[e].loc();r.length<n.length&&0===n.indexOf(r)?s=!0:r===n?i=!0:r.length>n.length&&0===r.indexOf(n)&&(o=!0)}return{hasTopUpdate:s,hasHostUpdate:i,hasChildUpdate:o}}(this.task,i);o||r?(!function(e,t){const n=e.$loc();return t.some((e=>e.$loc()===n))}(this.task,[...i,...s])?this.defer(this.task):this.complete(this.task),this.task.markAsObsolete()):(this.task.setOnRestore(e),this.defer(this.task))}complete(e){e.complete()}put(e){const t=this.queue[e.getPriority()];if(e.getIsTransition()){const n=e.loc(),s=t.filter((e=>e.loc()!==n));t.splice(0,t.length,...s)}t.push(e)}pick(e){return 0!==e.length&&(this.task=e.shift(),this.run(this.task),!0)}run(e){try{e.run(),e.getForceAsync()?this.requestCallbackAsync(Ye):this.requestCallback(Ye)}catch(t){if(!y(t))throw t;t.finally((()=>{this.run(e)}))}}execute(){if(!mt()&&!this.isMessageLoopRunning){const{high:e,normal:t,low:n}=this.getQueues();this.pick(e)||this.pick(t)||this.pick(n)}}requestCallbackAsync(e){this.scheduledCallback=e,this.isMessageLoopRunning||(this.isMessageLoopRunning=!0,this.port.postMessage(null))}requestCallback(e){const t=e(!1);y(t)?t.finally((()=>{this.requestCallback(e)})):(this.task=null,this.execute())}performWorkUntilDeadline(){if(this.scheduledCallback){this.deadline=v()+6;const e=this.scheduledCallback(!0);y(e)?e.finally((()=>{this.port.postMessage(null)})):e?this.port.postMessage(null):(this.complete(this.task),this.reset(),this.execute())}else this.isMessageLoopRunning=!1}defer(e){const{low:t}=this.getQueues();t.unshift(e)}getQueues(){return{high:this.queue[o.HIGH],normal:this.queue[o.NORMAL],low:this.queue[o.LOW]}}};function Re(e){const t=he();t.setIsTransitionZone(!0),e(),t.setIsTransitionZone(!1)}const De=Symbol("use-effect");function Ze(e,t){return{useEffect:function(n,s=[{}]){const i=he(),o=ge(),r=xe((()=>({token:e,cleanup:void 0})),[]),a=t===Be.INSERTION,c=t===Be.LAYOUT,u=t===Be.ASYNC;a&&o.markHost(1),c&&o.markHost(2),u&&o.markHost(4),xe((()=>{const e=()=>{r.cleanup=n(),u&&l(r.cleanup)&&!Te(o)&&r.cleanup()};return a&&i.addInsertionEffect(e),c&&i.addLayoutEffect(e),u&&i.addAsyncEffect(e),l(r.cleanup)&&r.cleanup(),null}),s)},dropEffects:function(t){for(const{value:n}of t.values)n&&n.token===e&&l(n.cleanup)&&n.cleanup()}}}var Be;!function(e){e.ASYNC="ASYNC",e.LAYOUT="LAYOUT",e.INSERTION="INSERTION"}(Be||(Be={}));const{useEffect:Fe,dropEffects:He}=Ze(De,Be.ASYNC),Ue=Symbol("use-insertion-effect"),{useEffect:We,dropEffects:qe}=Ze(Ue,Be.INSERTION),je=Symbol("use-layout-effect"),{useEffect:Ke,dropEffects:Ge}=Ze(je,Be.LAYOUT);function Ve(e){15&e.mask&&Ee(e,ze)}function ze(e,t){const{hook:n}=e;if(!(15&e.mask))return t();if(n?.values.length>0){const t=n;1&e.mask&&qe(t),2&e.mask&&Ge(t),4&e.mask&&He(t)}if(n?.atoms){for(const[e,t]of n.atoms)t();n.atoms=null}}function Ye(e){const t=he(),n=t.getWorkInProgress();let s=t.getNextUnitOfWork(),i=!1;try{for(;s&&!i;)if(s=Qe(s,t),i=e&&_e.shouldYield(),t.setNextUnitOfWork(s),i&&_e.detectIsTransition()&&_e.hasPrimaryTask())return ut(t),!1;!s&&n&&function(e){const t=ce(),n=e.getWorkInProgress(),s=e.getDeletions(),i=e.getCandidates(),o=e.getIsUpdateZone(),r=e.getAwaiter(),a=[],l=_e.detectIsTransition(),c=n.inst;for(const e of s)8&e.mask&&!(7&e.mask)?a.push(e):Ve(e),e.tag="D",fe.commit(e);o&&function(e){const t=e.cec-e.alt.cec;if(0===t)return;const n=we(e.parent);e.hook.setIsWip(!1),e.increment(t),Ee(n.child,ct(t,e,{isRight:!1}))}(n),e.runInsertionEffects();for(const e of i){const t=e.inst;"S"!==e.tag&&fe.commit(e),e.alt=null,t.children&&(t.children=null)}n.alt=null,n.hook?.setIsWip(!1),c.children=null,fe.finishCommit(),e.runLayoutEffects(),e.runAsyncEffects(),r.resolve(rt(t,l)),a.length>0&&fe.raf(at(a)),lt(e)}(t)}catch(n){if(y(n))return n;{const s=t.getEmitter();if(t.keepRoot(),s.emit("error",String(n)),!e)throw n;return E("err",n),!1}}return Boolean(s)}function Qe(e,t){const n=t.getWorkInProgress(),s=t.getMountDeep(),i=t.getIsStreamZone(),o=t.getEmitter(),r=e.inst.children,a=s&&r&&r.length>0;if(e.hook&&(e.hook.idx=0),a){const n=function(e,t){t.navToChild();const n=e.child&&e.child.hook||null,s=Je(e.inst.children,0),i=tt(nt(e,s,0,t),s,0);return i.hook=n||i.hook,i.parent=e,e.child=i,i.eidx=e.element?0:e.eidx,et(i,e,s,t),i}(e,t);return i&&o.emit("chunk",n),n}for(;e.parent&&e!==n;){const n=Xe(e,t);if(i&&o.emit("chunk",e),n)return i&&o.emit("chunk",n),n;e=e.parent}return null}function Xe(e,t){t.navToSibling();const n=e.next&&e.next.hook||null,s=e.parent.inst,i=t.getMountIndex(),o=Je(s.children,i);if(!Boolean(o))return t.navToParent(),t.setMountDeep(!1),null;t.setMountDeep(!0);const r=tt(nt(e,o,i,t),o,i);return r.hook=n||r.hook,r.parent=e.parent,e.next=r,r.eidx=e.eidx+(e.element?e.hook?.getIsPortal()?0:1:e.cec),et(r,e,o,t),r}function Je(e,t){let n=null;if(e&&t<e.length){const s=e[t];e[t]=p(s)?te({slot:s}):h(s)?H(s):s||function(e){return g(t=e)||!1===t?K():e;var t}(s),n=e[t]}return n}function et(e,t,o,a){const{alt:l}=e,c=!l||!be(o)||function(e,t,n){const s=e.alt,i=s.inst,o=t;if(o.type!==i.type||o.shouldUpdate(i.props,o.props))return!0;n.setMountDeep(!1),e.tag="S",e.child=s.child,e.child.parent=e,e.hook=s.hook,e.cc=s.cc,e.cec=s.cec,s.element&&(e.element=s.element);const r=e.eidx-s.eidx;return 0!==r&&Ee(e.child,st(r)),Oe(e,s),!1}(e,o,a);a.setCursorFiber(e),e.inst=o,l&&l.mask&i&&(e.mask|=i,l.mask&=-33),e.hook&&(e.hook.owner=e),c?(e.inst=it(e,t,a),l&&function(e,t,n){const{id:o,inst:a}=e,l=Q(t.inst,a),c=a.children;if(l){if(Y(t.inst)&&c&&0!==t.cc){const l=t.cc===c.length;if(!V(a,r.SKIP_SCAN_OPT)||!l){const{prevKeys:l,nextKeys:u,prevKeysMap:h,nextKeysMap:d,keyedFibersMap:f}=function(e,t){let n=e,s=0;const i=[],o=[],r={},a={},l={},c={};for(;n||s<t.length;){if(n){const e=G(n.inst),t=g(e)?S(s):e;r[t]||(r[t]=!0,i.push(t)),l[t]=n}if(s<t.length){const e=G(t[s]),n=g(e)?S(s):e;a[n]||(a[n]=!0,o.push(n)),c[n]=!0}n=n?n.next:null,s++}return{prevKeys:i,nextKeys:o,prevKeysMap:r,nextKeysMap:a,keyedFibersMap:l}}(t.child,c),p=0===u.length;let m=Math.max(l.length,u.length),y=0,k=0;n.addActionMap(o,f);for(let e=0;e<m;e++){const t=u[e-k]??null,s=l[e-y]??null,i=f[s]||null;t!==s?null===t||h[t]?d[s]?d[s]&&d[t]&&n.addMoveAction(o,t):(n.addRemoveAction(o,s),n.addDeletion(i),p&&(i.mask|=16),k++,m++):null===s||d[s]?(n.addInsertAction(o,t),y++,m++):(n.addReplaceAction(o,t),n.addDeletion(i)):null!==t&&n.addStableAction(o,t)}V(a,r.STATIC_SLOT_OPT)&&function(e,t,n){const s=n.getActionsById(e.id),i=e.inst;t.element&&(e.element=t.element);for(let t=0;t<i.children.length;t++)Ce(i.children,e,s.map,t,e.eidx);e.cc=i.children.length,n.setMountDeep(!1)}(e,t,n),V(a,r.MEMO_SLOT_OPT)&&function(e,t,n){const o=n.getActionsById(e.id),r=Boolean(o.move),a=Boolean(o.remove),l=Boolean(o.insert),c=Boolean(o.replace);(r&&!a||a&&!r)&&!l&&!c&&function(e,t){if(!Y(e.inst))return;const n=t.getActionsById(e.id),s=e.inst.children;for(let e=0;e<s.length;e++){const t=s[e],i=G(t);if(null===i)return!1;const o=n.map[i];if(!o)return!1;const r=o.inst,a=t;if(!be(a)||!be(r)||a.type!==r.type||a.shouldUpdate(r.props,a.props))return!1}return!0}(e,n)&&(r&&function(e,t,n){const o=n.getActionsById(e.id);Se(e,t,n,((e,t)=>{o.move[t]&&(e.alt=(new se).mutate(e),e.tag=s,e.mask|=i,n.addCandidate(e))}))}(e,t,n),a&&Se(e,t,n))}(e,t,n)}}}else n.addDeletion(t)}(e,l,a),function(e,t){const i=e.inst;let o=!1;e.parent.tag===n&&(e.tag=e.parent.tag),o=t&&e.tag!==n&&Q(t.inst,i)&&G(t.inst)===G(i),e.tag=o?s:n,e.element||(o&&t.element?e.element=t.element:U(e.inst)&&(e.element=fe.createElement(e.inst))),e.element&&!e.hook?.getIsPortal()&&e.increment()}(e,l)):e.mask&i&&(e.tag=s),a.addCandidate(e)}function tt(e,t,n){const s=e?e.inst:null,i=new se(n,function(e,t,n){return e&&function(e,t){return N(e)&&N(t)&&Q(e,t,!0)&&G(e)===G(t)}(t,n)?e.hook:N(n)?new ie:null}(e,s,t));return i.alt=e||null,i}function nt(e,t,s,o){const r=0===s,a=r?e:e.parent;if(!e.hook?.getIsWip()&&a.tag===n)return null;const l=r?e.id:e.parent.id,c=G(t),u=o.getActionsById(l);let h=null;if(null!==c&&u){const e=u.move&&Boolean(u.move[c]),t=u.stable&&Boolean(u.stable[c]);(e||t)&&(h=u.map[c],e&&(h.mask|=i))}else h=e.alt?r?e.alt.child:e.alt.next:u&&u.map[S(s)]||null;return h}const st=e=>(t,n)=>{if(t.eidx+=e,t.element)return n()};function it(e,t,n){let s=e.inst;const i=N(s),o=s;if(i)try{let e=o.type(o.props);p(e)?(!N(r=o)||r.token!==ee)&&(e=te({slot:e})):h(e)&&(e=H(e)),o.children=e}catch(s){if(y(s)){const i=s,o=pe()||me(),r=ot(e,t,n);if(o)throw r(),s;{const t=function(e){return Me(e,!0)||Me(e,!1)||null}(e);if(!t)throw r(),s;t.hook.setIsPeinding(!0),n.getAwaiter().add(t.hook,i)}}else o.children=[],e.setError(s)}else j(s)&&(s=s());var r;return Y(s)&&(s.children=p(s.children)?s.children:[s.children],i&&0===o.children.length&&o.children.push(K()),e.cc=s.children.length),s}const ot=(e,t,n)=>()=>{t?(e.hook.owner=null,e.hook.idx=0,n.navToPrev(),n.setNextUnitOfWork(t),se.setNextId(t.id)):(e.id=se.incrementId(),e.cec=e.alt.cec)},rt=(e,t)=>n=>{const s=dt(e,n);t?Re(s):s()},at=e=>()=>e.forEach(Ve);function lt(e,t=!1){e.cleanup(),!t&&e.getEmitter().emit("finish"),e.runAfterCommit()}const ct=(e,t,n)=>(s,i)=>{if(s===t)return n.isRight=!0,i();s.element&&i(),n.isRight&&(s.eidx+=e)};function ut(e){const t=e.fork(),n=e.getWorkInProgress(),s=ht(t,n.child),{alt:i}=n;n.child=i.child,n.cc=i.cc,n.cec=i.cec,n.hook?.setIsWip(!1),n.alt=null,n.hook.idx=0,n.hook.owner=n,e.runInsertionEffects(),e.applyCancels(),lt(e,!0),_e.retain(s)}const ht=(e,t)=>n=>{const{fiber:i,setValue:o,resetValue:r}=n,a=he();l(o)&&o(),l(r)&&e.addCancel(r),i.alt=(new se).mutate(i),i.tag=s,i.child=t,i.hook?.setIsWip(!0),t.parent=i,e.setRoot(a.getRoot()),e.setWorkInProgress(i),((e,t=ae)=>{Object.assign(le.get(t),e)})(e)};function dt(e,t){const{idx:n}=t;return i=>{const r=he();if(r.getIsInsertionEffectsZone())return;const a=l(i),c=r.getIsTransitionZone(),u=r.getIsBatchZone(),h=r.getIsEventZone(),d=c?o.LOW:h?o.HIGH:o.NORMAL,f=c,p=c?r.getOnTransitionEnd():null,m=function(e){const{rootId:t,hook:n,isTransition:i,tools:o=pt}=e;return e=>{ue(t);const r=l(e),{shouldUpdate:a,setValue:c,resetValue:u}=o(),h=he(),d=n.owner,f=d.alt||d;f.tag&&a()&&Te(f)&&!r?(l(c)&&c(),l(u)&&i&&h.addCancel(u),f.alt=null,f.alt=(new se).mutate(f),f.tag=s,f.cc=0,f.cec=0,f.child=null,f.hook.setIsWip(!0),n.idx=0,n.owner=f,h.setIsUpdateZone(!0),h.resetMount(),h.setWorkInProgress(f),h.setCursorFiber(f),f.inst=it(f,null,h),h.setNextUnitOfWork(f)):r&&e({fiber:f,setValue:c,resetValue:u})}}({rootId:e,hook:t,isTransition:c,tools:a?i:void 0}),g={priority:d,forceAsync:f,isTransition:c,loc:ft(e,n,t),onTransitionEnd:p};u?function(e,t,n){if(he().getIsTransitionZone())t();else{const n=e.getBatch()||{timer:null,changes:[]};e.setBatch(n),n.changes.push((()=>a&&i().setValue())),n.timer&&clearTimeout(n.timer),n.timer=setTimeout((()=>{n.changes.splice(-1),n.changes.forEach((e=>e())),e.setBatch(null),t()}))}}(t,(()=>_e.schedule(m,g))):_e.schedule(m,g)}}const ft=(e,t,n)=>()=>function(e,t,n){const s=n.owner;let i=s,o=`${s.idx}:${t}`;for(;i;)i=i.parent,i&&(o=`${i.idx}.${o}`);return o=`[${e}]${o}`,o}(e,t,n),pt=()=>({shouldUpdate:b,setValue:null,resetValue:null}),mt=()=>Boolean(he()?.getWorkInProgress());function gt(){return dt(ce(),ge().hook)}function yt(e){const{get:t,set:n,reset:s,next:i,shouldUpdate:o=b}=e,r=he().getIsBatchZone();return()=>{const e=t(),a=l(i)?i(e):i;return{shouldUpdate:()=>r||o(e,a),setValue:()=>n(a),resetValue:()=>s(e)}}}const kt="class",vt="style",bt="value",It="__danger",xt=new Set(["svg","animate","animateMotion","animateTransform","circle","clipPath","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialGradient","rect","stop","switch","symbol","text","textPath","tspan","use","view"]),Et=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"]),wt=()=>!c(globalThis.window),Tt=e=>w(e,"@dark-engine/platform-browser"),Mt=e=>e.innerHTML="";class St{type="";sourceEvent=null;target=null;propagation=!0;constructor(e){this.type=e.sourceEvent.type,this.sourceEvent=e.sourceEvent,this.target=e.target}stopPropagation(){this.propagation=!1,this.sourceEvent.stopPropagation()}preventDefault(){this.sourceEvent.preventDefault()}getPropagation(){return this.propagation}}function Ct(e,t,n){const s=he(),i=s.getEvents(),o=i.get(t),r=p(n)?e=>n[0](...n.slice(1),e):n;if(o)o.set(e,r);else{const n=e=>{const n=i.get(t).get(e.target),o=e.target;let r=null;if(l(n)&&(r=new St({sourceEvent:e,target:o}),s.setIsEventZone(!0),n(r),s.setIsEventZone(!1)),o.parentElement&&(!r||r.getPropagation())){const t=e.constructor;o.parentElement.dispatchEvent(new t(e.type,e))}};i.set(t,new WeakMap([[e,r]])),document.addEventListener(t,n,!0),s.addEventUnsubscriber((()=>document.removeEventListener(t,n,!0)))}}const At=e=>e.startsWith("on"),Ot=e=>e.slice(2,e.length).toLowerCase();let Lt=[],Pt=[];function Nt(e){switch(e.type){case X.TAG:const t=e.name;return(e=>xt.has(e))(t)?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);case X.TEXT:return document.createTextNode(e.value);case X.COMMENT:return document.createComment(e.value)}}function $t(e,t,n,s){return"$"===t[0]?null:t===It?(r=e,a=String(n),r.innerHTML!==a&&(r.innerHTML=a),null):"ref"===t?(o=e,l(i=n)?i(o):function(e){if(!d(e)||m(e))return!1;const t=e;for(const e in t)if("current"===e&&t.hasOwnProperty(e))return!0;return!1}(i)&&(i.current=o),null):t!==kt&&"className"!==t||n===s?t===vt&&n&&n!==s&&d(n)?(function(e,t){for(const n in t)Ht.setStyleProp.call(e.style,n,String(t[n]))}(e,n),null):("_as"===t&&(t=t.slice(1,"_as".length)),t):(function(e,t,n){n?Ht.setAttribute.call(e,t,n):Ht.removeAttribute.call(e,t)}(e,kt,n),null);var i,o,r,a}const _t={readonly:"readOnly"};function Rt(e,t,n,s){const i=Dt[t],o=_t[n]||n;let r=!!i&&i(e,n,s);return function(e,t){const n=Object.getPrototypeOf(e),s=Object.getOwnPropertyDescriptor(n,t);return Boolean(s?.set)}(e,o)&&(e[o]=s),!r&&f(s)&&(r=!o.includes("-")),r}const Dt={input:(e,t,n)=>(t===bt&&Pt.push((()=>{f(n)?e.checked=n:e.value=String(n)})),!1),textarea:(e,t,n)=>t===bt&&(e.innerText=String(n),!0)};function Zt(e){const t=e.element,n=e.alt.inst,s=e.inst;var i;q(i=s)||(e=>e instanceof B)(i)?n.value!==s.value&&(t.nodeValue=s.value):function(e,t,n){const s=function(e,t){const n=new Set,s=Object.keys(e.attrs),i=Object.keys(t.attrs),o=Math.max(s.length,i.length);for(let e=0;e<o;e++)n.add(s[e]||i[e]);return n}(t,n),i=e;for(let e of s){const s=t.attrs[e],o=n.attrs[e],r=$t(i,e,o,s);null!==r&&(e=r,c(o)?Ht.removeAttribute.call(i,e):At(e)?s!==o&&Ct(i,Ot(e),o):a[e]||s===o||!Rt(i,n.name,e,o)&&Ht.setAttribute.call(i,e,o))}}(t,n,s)}function Bt(e){switch(e.tag){case n:if(!e.element||e.hook?.getIsPortal())return;!function(e){const t=we(e.parent),n=t.element,s=n.childNodes,i=me();if(i){let t=s[e.eidx];t instanceof DocumentType&&(t=t.nextSibling),q(e.inst)&&t instanceof Text&&e.inst.value.length!==t.length&&t.splitText(e.inst.value.length),e.element.nodeName!==t.nodeName&&Tt("Inconsistent element for hydration!"),e.element=t}else W(t.inst)&&t.inst.attrs[It]&&Tt("The element with danger content can't have a children!"),0===s.length||e.eidx>s.length-1?(o=t.inst.name,!Et.has(o)&&Ht.appendElement.call(n,e.element)):Ht.insertElement.call(n,e.element,n.childNodes[e.eidx]);var o;W(e.inst)&&function(e,t,n){const s=e;for(let e in t.attrs){const i=t.attrs[e],o=$t(s,e,i);null!==o&&(e=o,At(e)?Ct(s,Ot(e),i):n||c(i)||a[e]||!Rt(s,t.name,e,i)&&Ht.setAttribute.call(s,e,i))}}(e.element,e.inst,i)}(e);break;case s:if(e.mask&i&&(function(e){const t=function(e,t){const n=[];return Ee(e,function(e,t){return(n,s)=>{if(n.element)return!n.hook?.getIsPortal()&&e.push(t(n)),s()}}(n,(e=>e.element))),n}(e),n=t[0].parentElement,s=new DocumentFragment,i=e.eidx;let o=0;for(const e of t)Ht.insertElement.call(n,document.createComment(`${i}:${o}`),e),Ht.appendElement.call(s,e),o++;Lt.push((()=>{for(let e=1;e<t.length;e++)Ht.removeElement.call(n,n.childNodes[i+1]);Ht.replaceElement.call(n,s,n.childNodes[i])}))}(e),e.mask&=-33),!e.element||e.hook?.getIsPortal())return;Zt(e);break;case"D":!function(e){const t=we(e.parent);var n;16&e.mask?t.element.children.length>0&&Mt(t.element):Ee(e,(n=t.element,(e,t)=>{if(e.element)return!e.hook?.getIsPortal()&&Ht.removeElement.call(n,e.element),t()}))}(e)}}function Ft(){Lt.forEach((e=>e())),Pt.forEach((e=>e())),Lt=[],Pt=[]}const Ht=function(){if(!wt())return{};const e=Node.prototype,t=Element.prototype;return{appendElement:e.appendChild,insertElement:e.insertBefore,replaceElement:e.replaceChild,removeElement:e.removeChild,hasAttribute:t.hasAttribute,setAttribute:t.setAttribute,removeAttribute:t.removeAttribute,setStyleProp:CSSStyleDeclaration.prototype.setProperty}}(),Ut=(e,t)=>{t?Ht.hasAttribute.call(e,vt)&&Ht.removeAttribute.call(e,vt):Ht.setStyleProp.call(e.style,"display","none","important")},Wt=wt(),qt=new Map,jt=Wt&&requestAnimationFrame.bind(void 0),Kt=Wt&&cancelAnimationFrame.bind(void 0),Gt=jt;let Vt=!1;let zt=1e6;const Yt="dark-styled",Qt="{",Xt="}",Jt=".",en="@media",tn="@container",nn="@keyframes",sn="[$]",on=e=>document.querySelector(e),rn=e=>Array.from(document.querySelectorAll(e)),an=()=>document.createElement("style"),ln=(e,t,n)=>e.setAttribute(t,n),cn=(e,t)=>e.appendChild(t),un=()=>void 0!==globalThis.window,hn=e=>w(e,"@dark-engine/styled");class dn{name;token;constructor(e,t){this.name=e,this.token=t}getName(){return this.name}getToken(){return this.token}}const fn=e=>e instanceof dn;class pn{name="";value="";parent;isDynamic=!1;normalize(){this.name=this.name.trim(),this.value=this.value.trim()}markAsDynamic(){this.isDynamic=!0,wn(this.parent)&&!this.parent.isDynamic&&this.parent.markAsDynamic()}}class mn extends pn{generate(){return`${this.name}:${this.value};`}}class gn extends pn{name=">";children=[];normalize(){super.normalize(),this.value=this.value.replace(En,",")}generate(...e){const t=e[0],n=e[1],s=e[2];let i=`${this.value.replaceAll("&",`${Jt}${t}`)}${Qt}`,o="";for(const e of this.children){const[r,a,l,c,u]=xn({token:e,className:t,props:n,fns:s});i+=r,o+=u}return i+=`${Xt}${o}`,i}}class yn extends pn{name=en;children=[];generate(...e){const t=e[0],n=e[1],s=e[2];let i=t?`${this.value}${Qt}${Jt}${t}${Qt}`:`${this.value}${Qt}`,o="";for(const e of this.children){const[r,a]=xn({token:e,className:t,props:n,fns:s});i+=r,o+=a}return i+=t?`${Xt}${o}${Xt}`:`${o}${Xt}`,i}}class kn extends pn{name=tn;children=[];generate(...e){const t=e[0],n=e[1],s=e[2];let i=t?`${this.value}${Qt}${Jt}${t}${Qt}`:`${this.value}${Qt}`,o="";for(const e of this.children){const[r,a]=xn({token:e,className:t,props:n,fns:s});i+=r,o+=a}return i+=t?`${Xt}${o}${Xt}`:`${o}${Xt}`,i}}class vn extends pn{name=nn;children=[];generate(...e){const t=e[0],n=e[1];let s=`${this.value}${Qt}`;for(const e of this.children){const[i,o]=xn({token:e,props:t,fns:n});s+=i,s+=o}return s+=`${Xt}`,s}}class bn extends pn{name=sn;args=[];style=null;end="";isSealed=!1;add(e){this.args.push(e)}seal(e){this.isSealed=!0,this.end=e}getIsSealed(){return this.isSealed}getEnd(){return this.end}generate(...e){const t=e[0],n=e[1],s=e[2],i=this.style,[o,...r]=this.args,a=s[o](n);let l="",c="",u="",h="",d="";if(Ln(a))for(const e of a.children){const[i,o,r,a,f]=xn({token:e,className:t,props:n,fns:s});l+=i,c+=o,u+=r,h+=a,d+=f}else if(i){const e=r.reduce(((e,t)=>e+" "+s[t](n)),"")+this.end;fn(a)?(i.value=Pn(this.name,a.getName())+e,l+=i.generate(),d+=a.getToken().generate(n,s)):(i.value=Pn(this.name,a)+e,l+=i.generate())}return[l,c,u,h,d]}}class In{children=[];generate(e={}){const{className:t=null,props:n,fns:s}=e;let i=t?`${Jt}${t}${Qt}`:"",o="",r="",a="",l="";for(const e of this.children){const[c,u,h,d,f]=xn({token:e,className:t,props:n,fns:s});i+=c,o+=u,r+=h,a+=d,l+=f}return i+=t?`${Xt}${o}${r}${a}${l}`:`${o}${r}${a}${l}`,i}}function xn(e){const{token:t,className:n=null,props:s,fns:i}=e;let o="",r="",a="",l="",c="";if(Tn(t))o+=t.generate();else if(An(t))r+=t.generate(n,s,i);else if(Mn(t))a+=t.generate(n,s,i);else if(Sn(t))l+=t.generate(n,s,i);else if(Cn(t))c+=t.generate(s,i);else if(On(t)){const[e,u,h,d,f]=t.generate(n,s,i);o+=e,r+=u,a+=h,l+=d,c+=f}return[o,r,a,l,c]}const En=new RegExp(",\\s*","g"),wn=e=>e instanceof pn,Tn=e=>e instanceof mn,Mn=e=>e instanceof yn,Sn=e=>e instanceof kn,Cn=e=>e instanceof vn,An=e=>e instanceof gn,On=e=>e instanceof bn,Ln=e=>e instanceof In,Pn=(e,t)=>e.replace(sn,t);function Nn(e,t){const{displayName:n="Component"}=t||{},s=L((({value:t=e,slot:n})=>{const i=ge(),{hook:o}=i;let r=o.getProviders();r||(r=new Map,r.set(s,{value:t,emitter:new ne}),o.setProviders(r));const a=r.get(s);return Ke((()=>{a.emitter.emit("publish",t)}),[t]),a.value=t,n}),{displayName:`Context(${n})`});return s.defaultValue=e,Object.freeze(s),s}function $n(e){const{defaultValue:t}=e,n=ge(),s=xe((()=>({value:null,provider:_n(e,n)})),[]),i=gt(),{provider:o}=s,r=o?o.value:t;return Ke((()=>{if(o)return o.emitter.on("publish",(e=>{!k(s.value,e)&&i()}))}),[]),s.value=r,r}function _n(e,t){let n=t;for(;n;){const t=n.hook?.getProviders();if(t?.has(e))return t.get(e);n=n.parent}return null}const Rn=Nn(null,{displayName:"Theme"}),Dn=()=>$n(Rn);var Zn;L((({theme:e,slot:t})=>Rn({value:e,slot:t}))),function(e){e[e.GLOBAL=0]="GLOBAL",e[e.COMPONENT=1]="COMPONENT"}(Zn||(Zn={}));const Bn=Nn(null,{displayName:"Manager"});function Fn(){return $n(Bn)}function Hn(e,t,n,s){const i=s[s.length-1];if(Gn(e)||Vn(e))return!1;if(Tn(i)&&!i.value)return!1;for(let e=t;e<n.length;e++){const t=n[e];if(t===Qt)return!1;if(";"===t)return!0}return!0}L((({manager:e,slot:t})=>Bn({value:e,slot:t})));const Un=e=>e.endsWith("\n"),Wn=e=>e.endsWith("/*"),qn=e=>e.endsWith("*/"),jn=e=>e.endsWith(sn),Kn=e=>e.endsWith("url("),Gn=e=>e.trim().startsWith(en),Vn=e=>e.trim().startsWith(tn),zn=e=>e.trim().startsWith(nn),Yn=e=>e.substring(0,e.length-1),Qn=e=>e.replace("/*","").trim(),Xn={0:"a",1:"b",2:"c",3:"d",4:"e",5:"f",6:"g",7:"h",8:"i",9:"j"};let Jn=null,es=null,ts=null,ns=!1;const ss=Symbol("styled");function is(e){const t=u(e),n=t?t=>F({as:e,...t}):e,s=`styled.${t?e:n.displayName||"Component"}`;return!ns&&un()&&(hs(rn(`[${Yt}="ic"]`),cs),ns=!0),function(e,t){let n=e=>e;const s=ys(e),i=s?function(e){const{className:t,...n}=e[ss];return n}(e):null,o=(o,...r)=>{const a=s?((e,t)=>{const[n]=t,s=[...e],i=[];let o=null;for(let e=0;e<t.length;e++)e>0&&i.push(t[e]);return s[s.length-1]=s[s.length-1]+n,o=[...s,...i],Object.assign(o,{raw:o}),o})(i.source,o):o,c=s?[...i.args,...r]:r,u=s?e=>n(i.transform(e)):n,h=ks(c),[d,f]=function(e){const t=new In,n=[];for(const s of e.children)if(s.isDynamic){const e=new In;e.children.push(s),n.push(e)}else t.children.push(s);return[t,n]}(ps(a,...c)),[p,m,g]=ls({sheet:d,cache:Jn}),y=L((t=>{const{as:n,...o}=t,r=Dn(),{isServer:a,isHydration:c}=ye(),d=l(n),y=d?o:t,k=d?n:s?i.factory:e,[v,b,I]=xe((()=>{const[e,n,s]=f.reduce(((e,n)=>{const[s,i,o]=ls({sheet:n,cache:Jn,props:{...t,theme:r},fns:h}),[a,l,c]=e;return a.push(s),l.push(i),c.push(o),e}),[[],[m],[g]]);return[(i=[...ms(t),p,...e],((e,t=(e=>e))=>{const n=[],s=new Set;for(const i of e){const e=t(i);!s.has(e)&&n.push(i),s.add(e)}return n})(i.filter(Boolean)).join(" ")),rs(n,es),rs(s,es)];var i}),[...C(t),r]);if(We((()=>{os(b,c),os(I,c)}),[...b,...I]),a){const e=Fn();b.forEach((t=>e.collectComponentStyle(t))),I.forEach((t=>e.collectComponentStyle(t))),e.reset(as)}return l(y.slot)&&!j(y.slot)&&(y.slot=y.slot((e=>`${v}_${e}`))),k({...u(y),className:v})}),{displayName:t});return y[ss]={className:p,source:a,args:c,factory:i?.factory||e,transform:i?e=>n(i.transform(e)):n},y};return o.attrs=e=>(n=l(e)?e:n,o),o}(n,s)}function os(e,t){ts=ts||ds()||cs();const n=ts.textContent;for(const s of e)t?-1===n.indexOf(s)&&us(s,ts):us(s,ts)}function rs(e,t){const n=[];for(const s of e)s&&!t.has(s)&&(n.push(s),t.add(s));return n}function as(){Jn=new Map,es=new Set,ts=null,ns=!1}function ls(e){const{sheet:t,cache:n,props:s,fns:i}=e,[o,r]=function(e){const t=new In,n=[];for(const s of e.children)Cn(s)?n.push(s):t.children.push(s);return[t,n]}(t),a=o.generate({className:sn,props:s,fns:i}),l=n.get(a),c=l?l[0]:gs(a);let u="",h="",d="";l?u=l[1]:(u=a.replaceAll(sn,c),u=u.replaceAll(`${Jt}null`,`${Jt}${c}`)),h+=u,n.set(a,[c,u]);for(const e of r)d+=e.generate();return[c,h,d]}function cs(){const e=an();return ln(e,Yt,"c"),cn(document.head,e),e}function us(e,t){t.textContent=`${t.textContent}${e}`}function hs(e,t,n=!0){if(0===e.length)return;const s=t();let i="";for(const t of e){const e=t.textContent;n&&rs([e],es),i+=e,t.remove()}s.textContent=i}as();const ds=()=>on(`[${Yt}="c"]`),fs=e=>(t,...n)=>function(e){const t=new In,n=[];let s="",i="",o=-1,r=!1,a=!1,l=!1,c=!1;for(let u=0;u<e.length;u++){const h=e[u],d=n[n.length-1]||t,f=d.children[d.children.length-1];if(s+=h,!r&&s.endsWith("//")?r=!c:r&&Un(s)&&(r=!1,s=""),!a&&Wn(s)?(a=!0,i=Tn(f)?Qn(s):""):a&&qn(s)&&(a=!1,s=""),!r&&!a)if(jn(s)){const e=new bn;if(On(f)&&!f.getIsSealed()&&f.style){f.add(++o),s="";continue}e.add(++o),e.parent=d,e.markAsDynamic(),Tn(f)&&!f.value?(e.style=f,e.name=s.trim(),f.normalize(),f.isDynamic=!0,d.children[d.children.length-1]=e):d.children.push(e),s=""}else switch(h){case Qt:{const e=Gn(s)?new yn:Vn(s)?new kn:zn(s)?new vn:new gn;(Mn(e)||Sn(e)||Cn(e)?Ln(d):!!An(e)&&(Ln(d)||Mn(d)||Sn(d)||Cn(d)))||hn("Illegal style nesting!"),e.value=Yn(s),e.normalize(),e.parent=d,e.value||hn("Empty style nesting!"),d.children.push(e),n.push(e),s=""}break;case Xt:n.pop(),s="";break;case":":{if(!Hn(s,u,e,d.children))continue;const t=new mn;t.name=Yn(s),t.parent=d,d.children.push(t)}s="",l=!0;break;case";":if(f||hn("Incorrect style!"),On(f)){f.seal(Yn(s)),s="";continue}f.value=i||Yn(s),f.normalize(),s="",i="",l=!1;break;case"(":l&&Kn(s)&&(c=!0);break;case")":c=!1}}return t}(function(e,t,n=!1){let s="",i="";for(let o=0;o<e.length;o++){const r=t[o];s+=e[o],ys(r)?s+=`${Jt}${r[ss].className}`:Ln(r)?s+=r.generate():fn(r)?(s+=r.getName(),i+=r.getToken().generate()):l(r)?(n&&hn("Illegal nesting functions in a CSS fragment!"),s+=sn):h(r)&&(s+=r)}return s+=i,s}(t,n,e)),ps=fs(!1),ms=(fs(!0),e=>(e.class||e.className||"").split(" ")),gs=e=>`dk-${function(e){const t=function(e,t){let n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return e}(5381,e);return String(Math.abs(t)).slice(0,6).split("").map((e=>Xn[e])).join("")}(e)}`,ys=e=>l(e)&&Boolean(e[ss]),ks=e=>e.filter((e=>l(e)&&!ys(e)));is.a=is("a"),is.abbr=is("abbr"),is.address=is("address"),is.area=is("area"),is.article=is("article"),is.aside=is("aside"),is.audio=is("audio"),is.b=is("b"),is.base=is("base"),is.bdi=is("bdi"),is.bdo=is("bdo"),is.blockquote=is("blockquote"),is.body=is("body"),is.br=is("br"),is.button=is("button"),is.canvas=is("canvas"),is.caption=is("caption"),is.cite=is("cite"),is.code=is("code"),is.col=is("col"),is.colgroup=is("colgroup"),is.data=is("data"),is.datalist=is("datalist"),is.dd=is("dd"),is.del=is("del"),is.details=is("details"),is.dfn=is("dfn"),is.dialog=is("dialog"),is.div=is("div"),is.dl=is("dl"),is.dt=is("dt"),is.em=is("em"),is.embed=is("embed"),is.fieldset=is("fieldset"),is.figcaption=is("figcaption"),is.figure=is("figure"),is.footer=is("footer"),is.form=is("form"),is.h1=is("h1"),is.h2=is("h2"),is.h3=is("h3"),is.h4=is("h4"),is.h5=is("h5"),is.h6=is("h6"),is.head=is("head"),is.header=is("header"),is.hgroup=is("hgroup"),is.hr=is("hr"),is.html=is("html"),is.i=is("i"),is.iframe=is("iframe"),is.img=is("img"),is.input=is("input"),is.ins=is("ins"),is.kbd=is("kbd"),is.label=is("label"),is.legend=is("legend"),is.li=is("li"),is.link=is("link"),is.main=is("main"),is.map=is("map"),is.mark=is("mark"),is.menu=is("menu"),is.meta=is("meta"),is.meter=is("meter"),is.nav=is("nav"),is.noscript=is("noscript"),is.object=is("object"),is.ol=is("ol"),is.optgroup=is("optgroup"),is.option=is("option"),is.output=is("output"),is.p=is("p"),is.param=is("param"),is.picture=is("picture"),is.pre=is("pre"),is.progress=is("progress"),is.q=is("q"),is.rp=is("rp"),is.rt=is("rt"),is.ruby=is("ruby"),is.s=is("s"),is.samp=is("samp"),is.script=is("script"),is.section=is("section"),is.select=is("select"),is.small=is("small"),is.source=is("source"),is.span=is("span"),is.strong=is("strong"),is.style=is("style"),is.sub=is("sub"),is.summary=is("summary"),is.sup=is("sup"),is.table=is("table"),is.tbody=is("tbody"),is.td=is("td"),is.template=is("template"),is.textarea=is("textarea"),is.tfoot=is("tfoot"),is.th=is("th"),is.thead=is("thead"),is.time=is("time"),is.title=is("title"),is.tr=is("tr"),is.track=is("track"),is.u=is("u"),is.ul=is("ul"),is.var=is("var"),is.video=is("video"),is.wbr=is("wbr"),is.circle=is("circle"),is.clipPath=is("clipPath"),is.defs=is("defs"),is.desc=is("desc"),is.ellipse=is("ellipse"),is.feBlend=is("feBlend"),is.feColorMatrix=is("feColorMatrix"),is.feComponentTransfer=is("feComponentTransfer"),is.feComposite=is("feComposite"),is.feConvolveMatrix=is("feConvolveMatrix"),is.feDiffuseLighting=is("feDiffuseLighting"),is.feDisplacementMap=is("feDisplacementMap"),is.feDistantLight=is("feDistantLight"),is.feFlood=is("feFlood"),is.feFuncA=is("feFuncA"),is.feFuncB=is("feFuncB"),is.feFuncG=is("feFuncG"),is.feFuncR=is("feFuncR"),is.feGaussianBlur=is("feGaussianBlur"),is.feImage=is("feImage"),is.feMerge=is("feMerge"),is.feMergeNode=is("feMergeNode"),is.feMorphology=is("feMorphology"),is.feOffset=is("feOffset"),is.fePointLight=is("fePointLight"),is.feSpecularLighting=is("feSpecularLighting"),is.feSpotLight=is("feSpotLight"),is.feTile=is("feTile"),is.feTurbulence=is("feTurbulence"),is.filter=is("filter"),is.g=is("g"),is.image=is("image"),is.line=is("line"),is.linearGradient=is("linearGradient"),is.marker=is("marker"),is.mask=is("mask"),is.path=is("path"),is.pattern=is("pattern"),is.polygon=is("polygon"),is.polyline=is("polyline"),is.radialGradient=is("radialGradient"),is.rect=is("rect"),is.stop=is("stop"),is.svg=is("svg"),is.switch=is("switch"),is.symbol=is("symbol"),is.text=is("text"),is.textPath=is("textPath"),is.tspan=is("tspan"),is.use=is("use"),is.view=is("view");let vs=null,bs=null,Is=!1;function xs(){vs=new Map,bs=null,Is=!1}function Es(){const e=an(),t=ds();var n,s;return ln(e,Yt,"g"),t?(n=e,s=t,document.head.insertBefore(n,s)):cn(document.head,e),e}xs();const ws=(e,t)=>{e.textContent="",t.forEach((t=>us(t,e)))},Ts=L((e=>{const t=ge(),n=e.container,s=xe((()=>(Mt(n),{element:n})),[]);return Ke((()=>()=>Mt(s.element)),[]),t.hook.setIsPortal(!0),t.element=n,s.element=n,e.slot}),{token:Symbol("portal"),displayName:"Portal"}),Ms={...("no-wobble",{tension:170,friction:26}||{}),mass:1,precision:3,fix:4};class Ss{value;connections1;connections2;subjects;emitter;constructor(e){this.value=e}val(e,t){try{this.__connect(e,t)}catch(e){}return this.value}get(){return this.value}on(e){return!this.emitter&&(this.emitter=new ne),this.emitter.on("data",e)}kill(){if(this.connections1)for(const[e,[t,n,s,i]]of this.connections1)this.off(e,i);if(this.connections2)for(const[e,[t,n]]of this.connections2)this.off(n,e);this.connections1=null,this.connections2=null,this.emitter=null,this.subjects=null}toString(){return String(this.value)}toJSON(){return this.value}valueOf(){return this.value}__connect(e,t){const n=ce(),s=he().getCursorFiber(),{hook:i}=s,o=()=>this.off(i,t);return!i.atoms&&(i.atoms=new Map),i.atoms.set(this,o),s.markHost(8),g(t)?(!this.connections1&&(this.connections1=new Map),this.connections1.set(i,[n,i,e,t])):(!this.connections2&&(this.connections2=new Map),this.connections2.set(t,[n,i,e,t])),o}__addSubject(e){!this.subjects&&(this.subjects=new Set),this.subjects.add(e)}__removeSubject(e){return this.subjects&&this.subjects.delete(e)}__getSize(){return(this.connections1?this.connections1.size:0)+(this.connections2?this.connections2.size:0)+(this.subjects?this.subjects.size:0)+(this.emitter?this.emitter.__getSize():0)}setValue(e){const t=this.value,n=l(e)?e(this.value):e,s={prev:t,next:n},i=(e,t,n)=>{const[s,i,o,r]=e;if((o||b)(t,n,r)){const e=dt(s,i);1===this.__getSize()?e(yt({next:n,get:()=>t,set:()=>this.value=n,reset:()=>this.value=t})):e()}};if(this.value=n,this.connections1)for(const[e,s]of this.connections1)i(s,t,n);this.connections2&&this.connections2.has(n)&&(i(this.connections2.get(n),t,n),this.connections2.has(t)&&i(this.connections2.get(t),t,n)),this.emitter&&this.emitter.emit("data",s),this.subjects&&this.subjects.forEach((e=>e.__notify()))}off(e,t){e.atoms.delete(this),this.connections1&&this.connections1.delete(e),this.connections2&&this.connections2.delete(t)}}class Cs extends Ss{set(e){super.setValue(e)}}class As{props={};subscribers=new Set;prop(e){return this.props[e]?this.props[e].get():null}prop$(e){return this.props[e]||null}setProp(e,t){!this.props[e]&&(this.props[e]=(e=>new Cs(e))(t)),this.props[e].set(t)}value(){return Object.keys(this.props).reduce(((e,t)=>(e[t]=this.props[t].get(),e)),{})}on(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}notify(){this.subscribers.forEach((e=>e(this.value())))}}const Os=(e,t=4)=>Number(e.toFixed(t));function Ls(e,t,n,s,i){const{tension:o,friction:r,mass:a,precision:l}=i,[c,u]=function(e,t,n,s,i,o,r){const a=t+(-1*i*(e-n)+-1*o*t)/r*s;return[e+a*s,a]}(e,t,n,s,o,r,a);return Math.abs(c-n)<10**(-1*l)?[n,0]:[c,u]}class Ps{key;idx;from;to;value;dest;state=null;frameTime;frameId;results={};completed={};queue=[];left=null;right=null;springConfigFn;configurator;immediate=I;immediates=[];primaryKey;isReplaced=!1;item=null;spring=new As;constructor(e){this.state=e,this.key=String(++Ps.key)}getKey(){return this.key}setKey(e){this.key=e}getIdx(){return this.idx}setIdx(e){this.idx=e}setFrom(e){this.from=e,this.value=this.value||{...e}}setTo(e){this.to=e||{...this.from},this.dest=this.dest||{...e||this.from}}setSpringConfigFn(e){this.springConfigFn=e?t=>({...Ms,...e(t)}):()=>Ms}setLeft(e){this.left=e}setRight(e){this.right=e}notify(e=!1){this.sync(),!e&&this.event("item-change")}setConfigurator(e){this.configurator=e}setImmediate(e){this.immediate=e||this.immediate}replaceValue(e){this.value=e,this.sync()}markAsFake(e){return this.primaryKey=e,Ps.generateFakeKey(e)}detectIsFake(){return!c(this.primaryKey)}getIsReplaced(){return this.isReplaced}setIsReplaced(e){this.isReplaced=e}getItem(){return this.item}setItem(e){this.item=e}getState(){return this.state}getSpring(){return this.sync(),this.spring}start(e){if(this.state.getIsCanceled())return;const t=this.configurator(this.idx),n=e?e(this.idx):this.configurator(this.idx),s={...t.from,...n.from},i={...t.to,...n.to},o=n.config||t.config,r=n.immediate||t.immediate;this.setFrom(t.from||s),this.setTo(t.to||i),this.setSpringConfigFn(o),this.setImmediate(r),Object.assign(this.dest,i),this.play(this.dest)}reset(){this.value={...this.from},this.dest={...this.to||this.from},this.sync()}cancel(){this.frameId&&fe.caf(this.frameId),this.frameId=null}setIsPlaying(e){this.state.setIsPlaying(e,this.key)}play(e){if(this.queue.push(e),this.frameId)return!1;this.setIsPlaying(!0),this.event("item-start"),this.motion(e)}motion(e){const{value:t,results:n,completed:s,springConfigFn:i}=this,o=Object.keys(t),r=()=>this.motion(e);this.frameTime=v(),this.frameId=fe.raf((()=>{if(this.state.getIsPaused())return r();let a=(v()-this.frameTime)/1e3;a>.16666666666666666&&(a=.01),0===this.queue.length&&this.queue.push(this.dest);for(const r of o)if(this.immediate(r)){s[r]=!0;const i=()=>{t[r]=e[r],n[r]=[e[r],0]};e[r]===this.from[r]?this.immediates.push(i):i()}else{n[r]||(n[r]=[t[r],0]);const e=i(r);let o=n[r][0],l=n[r][1];for(const t of this.queue){const i=t[r];[o,l]=Ls(o,l,i,a,e),n[r]=[o,l],s[r]=o===i}t[r]=o}this.queue=[],this.change(),this.checkCompleted(o)?this.complete():r()}))}event(e){this.state.event(e,{value:this.value,idx:this.idx,key:this.key})}change(){this.notify(),this.state.getIsTrail()&&(this.state.detectIsRightFlow()?this.right&&this.right.start((()=>({to:this.value}))):this.left&&this.left.start((()=>({to:this.value}))))}complete(){this.setIsPlaying(!1),this.frameTime=null,this.frameId=null,this.results={},this.completed={},this.immediates.forEach((e=>e())),this.immediates.length>0&&this.notify(),this.immediates=[],this.event("item-end"),this.state.completeSeries()}checkCompleted(e){for(const t of e)if(!this.completed[t])return!1;return!0}sync(){const e=Object.keys(this.value);for(const t of e){const e=this.springConfigFn(t),n=Os(this.value[t],e.fix);this.spring.setProp(t,n)}this.spring.notify()}static generateFakeKey(e){return`__${e}:${++Ps.fakeKey}__`}static key=-1;static fakeKey=-1}class Ns{ctrls=[];stack=new Set;flow=$s.RIGHT;isTrail=!1;isPaused=!1;isCanceled=!1;timeout=0;timerId=null;emitter=new ne;hasTransitions=!1;setHasTransitions(e){this.hasTransitions=e}getCtrls(){return this.ctrls}setCtrls(e){this.ctrls=e}setIsTrail(e){this.isTrail=e}getIsTrail(){return this.isTrail}setFlow(e){this.flow=e}getIsPaused(){return this.isPaused}getIsCanceled(){return this.isCanceled}detectIsRightFlow(){return this.flow===$s.RIGHT}setIsPlaying(e,t){e?this.stack.add(t):this.stack.delete(t)}detectIsPlaying(e){return g(e)?this.stack.size>0:this.stack.has(e)}start(e){this.defer((()=>{0!==this.ctrls.length&&(this.event("series-start"),this.isTrail?(this.flow===$s.RIGHT?this.ctrls[0]:this.ctrls[this.ctrls.length-1]).start(e):this.ctrls.forEach((t=>t.start(e))))}))}pause(){this.isPaused=!0}resume(){this.isPaused=!1}delay(e){this.timeout=e}reset(){this.ctrls.forEach((e=>e.reset()))}cancel(){this.ctrls.forEach((e=>e.cancel())),this.resetTimer(),this.isCanceled=!0}on(e,t){return this.emitter.on(e,t)}event(e,t=null){this.emitter.emit(e,t)}completeSeries(){!this.detectIsPlaying()&&!this.hasTransitions&&this.event("series-end")}defer(e){this.resetTimer(),this.timeout>0?this.timerId=setTimeout((()=>{this.timerId=null,e()}),this.timeout):e()}resetTimer(){this.timerId&&clearTimeout(this.timerId),this.timerId=null}}var $s,_s;function Rs(e){const t=[],{space:n,action:s,state:i,scope:o}=e,{configurator:r,ctrlsMap:a,fakesMap:l}=o,c=i.getCtrls(),u=s===_s.ENTER,h=s===_s.LEAVE;let d=0;for(const[e,o]of n){const n=a.get(e),f=n.getItem(),p=r(o,f),{trail:m}=p,g=h&&!p[s]?p.from:p[s];let y=n,k=e;if(u){const t=n.getIsReplaced(),s=i.detectIsPlaying(e);if(t)if(s){const t=new Ps(i),n=t.markAsFake(e);y=t,k=n,Zs({ctrl:t,key:n,idx:o,item:f,configurator:r}),a.set(n,t),l.set(n,o),c.push(t)}else n.setIsReplaced(!1)}const v=g&&Ds((()=>y.start((()=>({to:g})))),d,y,m);v&&t.push(new Bs(k,v)),d++}return t}function Ds(e,t,n,s){return"number"==typeof s?(n.setIsPlaying(!0),()=>setTimeout(e,t*s)):e}function Zs(e){const{ctrl:t,key:n,idx:s,item:i,configurator:o}=e,{from:r,enter:a,config:l}=o(s,i);t.setKey(n),t.setIdx(s),t.setItem(i),t.setFrom(r),t.setTo(a),t.setSpringConfigFn(l),t.setConfigurator((e=>{const{enter:t,leave:n,update:s,trail:r,...a}=o(e,i);return{...a}}))}!function(e){e.RIGHT="RIGHT",e.LEFT="LEFT"}($s||($s={}));class Bs{key;fn;constructor(e,t){this.key=e,this.fn=t}}!function(e){e.ENTER="enter",e.LEAVE="leave",e.UPDATE="update"}(_s||(_s={}));const Fs=L((({spring:e,fn:t,slot:n})=>{const s=ge(),{isHydration:i}=ye(),o=xe((()=>({element:null,notify:null})),[]),r=()=>o.element&&t(o.element,e.value());return o.notify=r,We((()=>{const t=()=>{Ee(s.hook.owner.child,((e,t,n)=>{if(e.element)return o.element=e.element,n()})),r()};var n;return i?(n=t,Promise.resolve().then(n)):t(),e.on((()=>o.notify()))}),[e]),r(),n}),{displayName:"Animated"}),Hs=L((({isOpen:e,width:t="600px",height:n="300px",slot:s,onRequestClose:i})=>{const{isServer:o,isSSR:r}=ye(),a=xe((()=>o?null:document.createElement("div")),[]),l=function(e=null){return xe((()=>({current:e})),[])}(null),c=xe((()=>[e].filter(Boolean)),[e]),u=xe((()=>({isOpen:e,container:null})),[]),[h,d]=function(e,t,n){const s=gt(),i=()=>r.isNonBlocking?Re(s):s(),o=xe((()=>new Ns),[]),r=xe((()=>({transitions:[],ctrlsMap:new Map,itemsMap:new Map,fakesMap:new Map,items:[],queue:[],hasReplaces:!1,fromApi:!1,inChain:!1,isNonBlocking:!1,pending:null,configurator:n})),[]);r.configurator=n,r.isNonBlocking=_e.detectIsTransition(),xe((()=>{(e=>{const{transitions:n,ctrlsMap:s,fakesMap:i,items:a}=r,{ctrls:l,itemsMap:c}=function(e){const{items:t,getKey:n,configurator:s,state:i,ctrlsMap:o}=e,r=new Map,a=t.map(((e,t)=>{const a=n(e);return r.set(a,e),function(e){const{idx:t,item:n,getKey:s,configurator:i,state:o,ctrlsMap:r}=e,a=s(n),l=r.get(a)||new Ps(o);return Zs({ctrl:l,key:a,idx:t,item:n,configurator:i}),r.set(a,l),l}({idx:t,item:e,getKey:n,configurator:s,state:i,ctrlsMap:o})}));return{ctrls:a,itemsMap:r}}({items:e,getKey:t,configurator:(e,t)=>r.configurator(e,t),state:o,ctrlsMap:s}),{insMap:u,remMap:h,movMap:d,stabMap:f,replaced:p}=function(e,t,n){const{prevKeys:s,nextKeys:i,prevKeysMap:o,nextKeysMap:r}=function(e,t,n){const s=[],i=[],o={},r={},a=Math.max(e.length,t.length);for(let l=0;l<a;l++){const a=e[l],c=t[l];if(a){const e=n(a);o[e]||(o[e]=!0,s.push(e))}if(c){const e=n(c);r[e]||(r[e]=!0,i.push(e))}}return{prevKeys:s,nextKeys:i,prevKeysMap:o,nextKeysMap:r}}(e,t,n);let a=Math.max(s.length,i.length),l=0,c=0;const u=new Map,h=new Map,d=new Map,f=new Map,p=new Set;for(let e=0;e<a;e++){const t=i[e-c]??null,n=s[e-l]??null;t!==n?null===t||o[t]?r[n]?r[n]&&r[t]&&d.set(t,e):(h.set(n,e),c++,a++):null===n||r[n]?(u.set(t,e),l++,a++):(u.set(t,e),h.set(n,e),p.add(n)):null!==t&&f.set(t,e)}return{insMap:u,remMap:h,movMap:d,stabMap:f,replaced:p}}(a,e,t);r.hasReplaces=p.size>0,o.setCtrls(l),p.forEach((e=>s.get(e).setIsReplaced(!0))),n.push(...Rs({action:_s.LEAVE,space:i,state:o,scope:r}),...Rs({action:_s.ENTER,space:u,state:o,scope:r}),...Rs({action:_s.LEAVE,space:h,state:o,scope:r}),...Rs({action:_s.UPDATE,space:d,state:o,scope:r}),...Rs({action:_s.UPDATE,space:f,state:o,scope:r})),o.setHasTransitions(n.length>0),r.items=e,r.itemsMap=c,r.fromApi=!1})(((e,t)=>{const n=[],s=new Set;for(const i of e){const e=t(i);!s.has(e)&&n.push(i),s.add(e)}return n})(e,t))}),[e]);const a=xe((()=>e=>{const{ctrlsMap:t}=r,n=[];for(const[s,i]of t){const t=i.getIdx(),o=i.getItem(),r=i.getSpring(),a=te({key:s,slot:e({spring:r,item:o,idx:t})});if(n[t]){const e=n[t];p(e)?e.push(a):n[t]=[e,a]}else n[t]=a}return te({slot:T(n)})}),[]),l=xe((()=>({marker:"transition-api",start:e=>{r.fromApi=!0,r.inChain?(r.pending&&r.pending(),r.pending=null,i()):o.start(e)},chain:e=>r.inChain=e,delay:o.delay.bind(o),cancel:o.cancel.bind(o),pause:o.pause.bind(o),resume:o.resume.bind(o),on:o.on.bind(o),isCanceled:o.getIsCanceled.bind(o)})),[]);return Ke((()=>{if(0===r.transitions.length)return;const{inChain:e}=r,t=()=>{o.event("series-start"),r.transitions.forEach((e=>e.fn())),r.transitions=[],o.setHasTransitions(!1)};e?r.pending=()=>o.defer(t):t()})),Ke((()=>{const e=[l.on("item-end",(e=>function({key:e},t){const{ctrlsMap:n,fakesMap:s,itemsMap:i,hasReplaces:o,queue:r,fromApi:a}=t;n.has(e)&&n.get(e).detectIsFake()&&(n.delete(e),s.delete(e)),a||o?!i.has(e)&&n.delete(e):r.push((()=>!t.itemsMap.has(e)&&n.delete(e)))}(e,r))),l.on("series-end",(()=>function(e,t,n){const{ctrlsMap:s,configurator:i,fromApi:o}=n,r=[];if(!o){n.queue.forEach((e=>e())),n.queue=[];for(const[e,t]of s){const{enter:e}=i(t.getIdx(),t.getItem());t.replaceValue({...e}),t.notify(!0),r.push(t)}t.setCtrls(r),e()}}(i,o,r)))];return()=>{e.forEach((e=>e())),l.cancel()}}),[]),[a,l]}(c,(e=>String(e)),(()=>({from:{opacity:0,scale:0},enter:{opacity:1,scale:1},leave:{opacity:0,scale:0},config:()=>({tension:160,friction:24,precision:4})})));return u.isOpen=e,u.container=l.current,Ke((()=>{const e=[d.on("series-start",(()=>u.isOpen&&document.body.appendChild(a))),d.on("series-end",(()=>!u.isOpen&&a.remove()))];return()=>{e.forEach((e=>e())),a.remove()}}),[]),r?null:function(e,t,n){return Ts({key:void 0,container:t,slot:e})}(J(Ks,{ref:l,children:[h((({spring:e})=>J(Fs,{spring:e,fn:Us(!0,u),children:J(zs,{onClick:i})}))),h((({spring:e})=>J(Fs,{spring:e,fn:Us(!1,u),children:J(Vs,{$width:t,$height:n,children:[J(js,{onClick:i}),s]})})))]}),a)})),Us=(e,t)=>(n,s)=>{const{opacity:i,scale:o}=s,{isOpen:r,container:a}=t,l=Ws(n),c=qs(n);if(e){const e=a?Ws(a):null,t=a?qs(a):null;i<.95&&l("opacity",`${i}`),r?(c("pointer-events"),t&&t("pointer-events")):(l("pointer-events","none"),e&&e("pointer-events","none"))}else l("opacity",`${i}`),l("transform",`scale(${o})`)},Ws=e=>e.style.setProperty.bind(e.style),qs=e=>e.style.removeProperty.bind(e.style),js=L((({onClick:e})=>J(Gs,{onClick:e,children:J("svg",{width:"24",height:"24",viewBox:"0 0 50 50",children:J("path",{d:"M 9.15625 6.3125 L 6.3125 9.15625 L 22.15625 25 L 6.21875 40.96875 L 9.03125 43.78125 L 25 27.84375 L 40.9375 43.78125 L 43.78125 40.9375 L 27.84375 25 L 43.6875 9.15625 L 40.84375 6.3125 L 25 22.15625 Z"})})}))),Ks=is.div`
  position: fixed;
  inset: 0;
  display: flex;
  width: 100%;
  height: 100%;
  overflow-y: auto;
  padding: 16px;
`,Gs=is.button`
  cursor: pointer;
  background-color: transparent;
  border: none;
  padding: 4px;
  display: flex;
  justify-content: center;
  align-items: center;
  stroke-width: 4px;
  stroke: #303f9f;
`,Vs=is.div`
  position: relative;
  width: ${e=>e.$width};
  min-height: ${e=>e.$height};
  max-width: 100%;
  background-color: #fff;
  border-radius: 4px;
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);
  padding: 32px;
  will-change: opacity, transform;
  margin: auto;
  transform-origin: 50% 50%;

  & ${Gs} {
    position: absolute;
    top: 8px;
    right: 8px;
  }
`,zs=is.div`
  position: fixed;
  width: 100%;
  height: 200%;
  inset: 0;
  background-color: #303f9f;
  cursor: pointer;
  will-change: opacity;
`,Ys=L((()=>{const[e,t]=function(e){const t=gt(),n=xe((()=>({value:l(e)?e():e})),[]),s=(i=e=>{const s=yt({next:e,get:()=>n.value,set:e=>n.value=e,reset:e=>n.value=e,shouldUpdate:(e,t)=>!k(e,t)});t(s)},xe((()=>i),[]));var i;return[n.value,s]}(!1);return J(te,{children:[J(Qs,{}),J(Xs,{onClick:()=>t((e=>!e)),children:"Toggle dialog"}),J(Hs,{isOpen:e,onRequestClose:()=>t(!1),children:J(Js,{children:[J("h1",{children:"Hey, I'm a dialog! "}),J("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo soluta vero unde, cumque perspiciatis mollitia sunt exercitationem beatae assumenda iusto eos fugit fugiat alias est explicabo pariatur. Reprehenderit eligendi quae molestias nesciunt dolore sequi qui delectus nobis unde, officia, numquam dignissimos sit voluptas necessitatibus consectetur maxime maiores tempora aliquid nihil ducimus reiciendis architecto"}),J("img",{src:"./assets/mountains.jpg",alt:"mountains"}),J("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo soluta vero unde, cumque perspiciatis mollitia sunt exercitationem beatae assumenda iusto eos fugit fugiat alias est explicabo pariatur. Reprehenderit eligendi quae molestias nesciunt dolore sequi qui delectus nobis unde, officia, numquam dignissimos sit voluptas necessitatibus consectetur maxime maiores tempora aliquid nihil ducimus reiciendis architecto"})]})})]})})),Qs=(function(e,...t){!Is&&un()&&(hs(rn(`[${Yt}="ig"]`),Es,!1),Is=!0);const n=ks(t),s=ps(e,...t),i=L((e=>{const t=Dn(),i=xe((()=>(e=>`dark:${e}:${(++zt).toString(36)}`)(ce())),[]),o=xe((()=>s.generate({props:{...e,theme:t},fns:n})),[...C(e),t]);if(We((()=>{bs=bs||on(`[${Yt}="g"]`)||Es(),vs.set(i,o),ws(bs,vs)}),[o]),We((()=>()=>{vs.delete(i),ws(bs,vs)}),[]),pe()){const e=Fn();e.collectGlobalStyle(o),e.reset(xs)}return null}),{displayName:"GlobalStyle"});return i})`
  * {
    box-sizing: border-box;
  }

  html,
  body {
    margin: 0;
    padding: 0;
  }

  body {
    font-family: Arial;
    padding: 16px;
    background-color: #fff;
  }
`,Xs=is.button`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  padding: 16px;
  border: none;
  text-transform: uppercase;
  background-color: #e91e63;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
  cursor: pointer;
  color: #fff;
  border-radius: 4px;
  letter-spacing: 1px;
  font-weight: 700;
  transition: opacity 0.05s ease-in-out;

  &:active {
    opacity: 0.5;
  }
`,Js=is.main`
  width: 100%;
  height: 100%;
  text-align: center;

  & p {
    text-align: justify;
    margin: 32px 0;
  }

  & img {
    width: 100%;
  }
`;var ei;(ei=document.getElementById("root"),{render:e=>function(e,t,i){!Vt&&(fe.createElement=Nt,fe.toggle=Ut,fe.raf=jt,fe.caf=Kt,fe.spawn=Gt,fe.commit=Bt,fe.finishCommit=Ft,fe.detectIsDynamic=b,Vt=!0);const r=!c(qt.get(t)),a=l(i);let u=null;r?u=qt.get(t):(u=qt.size,qt.set(t,u),!a&&Mt(t)),he(u)?.getIsInsertionEffectsZone()||_e.schedule((()=>{ue(u);const o=he(),r=o.getRoot(),l=Boolean(r),c=(new se).mutate({element:t,inst:new D("dark:root",{},T([e||K()])),alt:r,tag:l?s:n});o.resetMount(),o.setWorkInProgress(c),o.setIsHydrateZone(a),o.setNextUnitOfWork(c),a&&i()}),{priority:o.NORMAL})}(e,ei),unmount:()=>function(e){!function(e,t){if(c(e))return;const n=he(e);var s;Ve(n.getRoot()),n.unsubscribeEvents(),s=e,le.delete(s),t()}(qt.get(e),(()=>{qt.delete(e),Mt(e)}))}(ei)}).render(J(Ys,{}))})();
//# sourceMappingURL=build.js.map