(()=>{"use strict";const t="dark:root",e="dark:matter",s="key",n="ref",i="C",o="U",r="S",a=128;var c,h;!function(t){t[t.LOW=0]="LOW",t[t.NORMAL=1]="NORMAL",t[t.HIGH=2]="HIGH"}(c||(c={})),function(t){t.SKIP_SCAN_OPT="__skipScanOpt",t.MEMO_SLOT_OPT="__memoSlotOpt",t.STATIC_SLOT_OPT="__staticSlotOpt"}(h||(h={}));const l={[s]:!0,[n]:!0,[h.SKIP_SCAN_OPT]:!0,[h.MEMO_SLOT_OPT]:!0,[h.STATIC_SLOT_OPT]:!0},u=t=>"function"==typeof t,f=t=>void 0===t,d=t=>"string"==typeof t||"number"==typeof t,p=t=>"object"==typeof t,m=t=>"boolean"==typeof t,g=t=>Array.isArray(t),y=t=>null===t,v=t=>y(t)||f(t),k=()=>Date.now(),I=()=>{},x=()=>!0,E=()=>!1,b=t=>t;function w(t,e=b){if(!g(t))return[e(t)];if(0===t.length)return[];const s=[],n=[t[0]];let i=0;for(;n.length>0;){const o=n.pop();if(g(o))for(let t=o.length-1;t>=0;t--)n.push(o[t]);else s.push(e(o)),0===n.length&&i<t.length-1&&(i++,n.push(t[i]))}return s}function M(t,e){if(t===e)return!1;const s=Math.max(t.length,e.length);for(let n=0;n<s;n++)if(!Object.is(t[n],e[n]))return!0;return!1}function T(t){Promise.resolve().then(t)}const S=t=>`dark:idx:${t}`,C=()=>{throw new Error("Function not installed by renderer!")},A={createElement:C,insertElement:C,raf:C,caf:C,spawn:C,commit:C,finishCommit:C,detectIsDynamic:C,detectIsPortal:C,unmountPortal:C,chunk:C};class P{constructor(){this.subscribers=new Map}on(t,e){return!this.subscribers.has(t)&&this.subscribers.set(t,new Set),this.subscribers.get(t).add(e),()=>this.subscribers.has(t)&&this.subscribers.get(t).delete(e)}emit(t,e){this.subscribers.has(t)&&this.subscribers.get(t).forEach((t=>t(e)))}kill(){this.subscribers=new Map}__getSize(){return this.subscribers.size}}class L{constructor(){this.root=null,this.wip=null,this.cursor=null,this.unit=null,this.mountDeep=!0,this.mountLevel=0,this.mountNav={},this.events=new Map,this.unsubs=new Set,this.actions={},this.candidates=new Set,this.deletions=new Set,this.cancels=[],this.asyncEffects=new Set,this.layoutEffects=new Set,this.insertionEffects=new Set,this.resourceId=0,this.resources=new Map,this.defers=[],this.setPendingStatus=null,this.isLayoutEffectsZone=!1,this.isInsertionEffectsZone=!1,this.isUpdateZone=!1,this.isBatchZone=!1,this.isHydrateZone=!1,this.isStreamZone=!1,this.isTransitionZone=!1,this.isEventZone=!1,this.isHot=!1,this.isDynamic=A.detectIsDynamic(),this.isServer=!A.detectIsDynamic(),this.emitter=new P}resetActions(){this.actions={}}getActionsById(t){return this.actions[t]}addActionMap(t,e){this.actions[t]={map:e,replace:null,insert:null,remove:null,move:null,stable:null}}addReplaceAction(t,e){!this.actions[t].replace&&(this.actions[t].replace={}),this.actions[t].replace[e]=!0}addInsertAction(t,e){!this.actions[t].insert&&(this.actions[t].insert={}),this.actions[t].insert[e]=!0}addRemoveAction(t,e){!this.actions[t].remove&&(this.actions[t].remove={}),this.actions[t].remove[e]=!0}addMoveAction(t,e){!this.actions[t].move&&(this.actions[t].move={}),this.actions[t].move[e]=!0}addStableAction(t,e){!this.actions[t].stable&&(this.actions[t].stable={}),this.actions[t].stable[e]=!0}copy(){const t=new L;return t.root=null,t.wip=null,t.cursor=null,t.unit=this.unit,t.mountDeep=this.mountDeep,t.mountLevel=this.mountLevel,t.mountNav={...this.mountNav},t.events=this.events,t.unsubs=this.unsubs,t.actions={...this.actions},t.candidates=new Set([...this.candidates]),t.deletions=new Set([...this.deletions]),t.asyncEffects=new Set([...this.asyncEffects]),t.layoutEffects=new Set([...this.layoutEffects]),t.insertionEffects=new Set([...this.insertionEffects]),t.isUpdateZone=this.isUpdateZone,t.emitter=this.emitter,t}getRoot(){return this.root}setRoot(t){this.root=t}getWorkInProgress(){return this.wip}setWorkInProgress(t){this.wip=t}getNextUnitOfWork(){return this.unit}setNextUnitOfWork(t){this.unit=t}getCursorFiber(){return this.cursor}setCursorFiber(t){this.cursor=t}navToChild(){this.mountLevel=this.mountLevel+1,this.mountNav[this.mountLevel]=0}navToSibling(){this.mountNav[this.mountLevel]=this.mountNav[this.mountLevel]+1}navToParent(){this.mountLevel=this.mountLevel-1}navToPrev(){0===this.getMountIndex()?(this.navToParent(),this.setMountDeep(!0)):(this.mountNav[this.mountLevel]=this.mountNav[this.mountLevel]-1,this.setMountDeep(!1))}getMountIndex(){return this.mountNav[this.mountLevel]}getMountDeep(){return this.mountDeep}setMountDeep(t){this.mountDeep=t}resetMount(){this.mountLevel=0,this.mountNav={},this.mountDeep=!0}getEvents(){return this.events}addEventUnsubscriber(t){this.unsubs.add(t)}unsubscribeEvents(){this.unsubs.forEach((t=>t())),this.unsubs=new Set}getCandidates(){return this.candidates}addCandidate(t){this.candidates.add(t)}resetCandidates(){this.candidates=new Set}getDeletions(){return this.deletions}hasDeletion(t){let e=t;for(;e;){if(this.deletions.has(e))return!0;e=e.parent}return!1}addDeletion(t){!this.hasDeletion(t)&&this.deletions.add(t)}resetDeletions(){this.deletions=new Set}addAsyncEffect(t){this.asyncEffects.add(t)}resetAsyncEffects(){this.asyncEffects=new Set}runAsyncEffects(){if(!this.isDynamic)return;const t=this.asyncEffects;t.size>0&&setTimeout((()=>t.forEach((t=>t()))))}addLayoutEffect(t){this.layoutEffects.add(t)}resetLayoutEffects(){this.layoutEffects=new Set}runLayoutEffects(){this.isDynamic&&(this.setIsLayoutEffectsZone(!0),this.layoutEffects.forEach((t=>t())),this.setIsLayoutEffectsZone(!1))}addInsertionEffect(t){this.insertionEffects.add(t)}resetInsertionEffects(){this.insertionEffects=new Set}runInsertionEffects(){this.isDynamic&&(this.setIsInsertionEffectsZone(!0),this.insertionEffects.forEach((t=>t())),this.setIsInsertionEffectsZone(!1))}addCancel(t){this.cancels.push(t)}applyCancels(){for(let t=this.cancels.length-1;t>=0;t--)this.cancels[t]()}resetCancels(){this.cancels=[]}getIsLayoutEffectsZone(){return this.isLayoutEffectsZone}setIsLayoutEffectsZone(t){this.isLayoutEffectsZone=t}getIsInsertionEffectsZone(){return this.isInsertionEffectsZone}setIsInsertionEffectsZone(t){this.isInsertionEffectsZone=t}getIsUpdateZone(){return this.isUpdateZone}setIsUpdateZone(t){this.isUpdateZone=t}getIsBatchZone(){return this.isBatchZone}setIsBatchZone(t){this.isBatchZone=t}getIsHydrateZone(){return this.isHydrateZone}setIsHydrateZone(t){this.isHydrateZone=t}getIsStreamZone(){return this.isStreamZone}setIsStreamZone(t){this.isStreamZone=t}getIsTransitionZone(){return this.isTransitionZone}setIsTransitionZone(t){this.isTransitionZone=t}getIsEventZone(){return this.isEventZone}setIsEventZone(t){this.isEventZone=t}getIsHot(){return this.isHot}setIsHot(t){this.isHot=t}getPendingStatusSetter(){return this.setPendingStatus}setPendingStatusSetter(t){this.setPendingStatus=t}flush(){!this.isUpdateZone&&this.setRoot(this.wip),this.setWorkInProgress(null),this.setNextUnitOfWork(null),this.setCursorFiber(null),this.resetMount(),this.resetCandidates(),this.resetDeletions(),this.resetCancels(),this.resetInsertionEffects(),this.resetLayoutEffects(),this.resetAsyncEffects(),this.setIsHydrateZone(!1),this.setIsUpdateZone(!1),this.resetActions()}getEmitter(){return this.emitter}defer(t){this.defers.push(t)}getDefers(){return this.defers}resetDefers(){this.defers=[]}getResource(t){return this.resources.get(t)}setResource(t,e){this.resources.set(t,e)}getResources(){return this.resources}getResourceId(){return this.resourceId}setResourceId(t){this.resourceId=t}getNextResourceId(){return++this.resourceId}runAfterCommit(){this.resources=new Map,this.isServer&&(this.resourceId=0)}}let O=null;const N=new Map,R=()=>O,Z=t=>{O=t,!N.has(O)&&N.set(O,new L)},D=(t=O)=>N.get(t),H=Symbol("inject");class U{constructor(t,e,s,n,i,o){this.children=[],this.type=t,this.props=s,n&&(this.ref=n),e&&(this.token=e),i&&(this.shouldUpdate=i),o&&(this.displayName=o)}}function F(t,e={}){const{token:s,displayName:n}=e,i=(e={},o)=>{const{token:r=s,shouldUpdate:a}=i[H]||_;return e.ref&&delete e.ref,new U(t,r,e,o,a,n)};return i}const _={},j=t=>t instanceof U,B=Symbol("vNode"),K="type";class W{constructor(t){this.type=null,this.type=t}}class V extends W{constructor(t,e,s){super(at.TAG),this.name=t,this.attrs=e,this.children=s}}class q extends W{constructor(t){super(at.TEXT),this.value=String(t)}}class $ extends W{constructor(t){super(at.COMMENT),this.value="",this.value=t}}const G=t=>new q(t);G.from=t=>X(t)?t.value:t+"";const z=t=>t instanceof W,Y=t=>t instanceof V,Q=t=>t instanceof $,X=t=>t instanceof q,J=t=>u(t)&&!0===t[B],tt=t=>X(t)||Q(t),et=()=>new $(e);function st(t){return j(t)?t.props[s]??null:J(t)?t[s]??null:Y(t)&&(e=t).attrs?e.attrs[s]??null:null;var e}function nt(t,e){return j(t)?((t,e)=>Boolean(t.props[e]))(t,e):J(t)?((t,e)=>Boolean(t[e]))(t,e):!!Y(t)&&((t,e)=>Boolean(t.attrs&&t.attrs[e]))(t,e)}function it(t){return j(t)?t.type:J(t)?t[K]:Y(t)?t.name:z(t)?t.type:null}function ot(t){return Y(t)||j(t)}function rt(t,e,s=!1){if(s){const s=e;return t.type===s.type}return it(t)===it(e)}var at;!function(t){t.TAG="TAG",t.TEXT="TEXT",t.COMMENT="COMMENT"}(at||(at={}));class ct{constructor(t=null,e=null,s=0){this.id=0,this.cc=0,this.cec=0,this.idx=0,this.eidx=0,this.mask=0,this.element=null,this.tag=null,this.parent=null,this.child=null,this.next=null,this.alt=null,this.inst=null,this.hook=null,this.provider=null,this.atoms=null,this.id=++ct.nextId,this.idx=s,t&&(this.hook=t),e&&(this.provider=e)}mutate(t){const e=Object.keys(t);for(const s of e)this[s]=t[s];return this}markHost(t){this.mask|=t,this.parent&&!(this.parent.mask&t)&&this.parent.markHost(t)}increment(t=1,e=!1){if(!this.parent)return;const s=D(),n=s.getIsUpdateZone(),i=s.getWorkInProgress(),o=n&&i.parent===this.parent;(tt(this.inst)||Y(this.inst)&&0===this.inst.children?.length)&&(this.cec=1),n&&o&&!e||(this.parent.cec+=t,this.parent.element||this.parent.increment(t))}setError(t){u(this.catch)?this.catch(t):this.parent&&this.parent.setError(t)}static setNextId(t){ct.nextId=t}}ct.nextId=0;class ht{constructor(){this.id=0,this.idx=0,this.values=[],this.owner=null,this.id=++ht.nextId}}ht.nextId=0;const lt=Symbol("memo"),ut=(t,e)=>{const s=Object.keys(e);for(const n of s)if("slot"!==n&&e[n]!==t[n])return!0;return!1},ft=t=>j(t)&&t.token===lt;function dt(t,e){let s=!0,n=!1;const i=()=>s=!1,o=()=>n=!0,r=[t];for(;0!==r.length;){const a=r.pop();if(e(a,i,o),n)break;a!==t&&a.next&&r.push(a.next),s&&a.child&&r.push(a.child),s=!0}}function pt(t){let e=t;for(;e;){if(e.element)return e;e=e.parent}return e}function mt(t,e,s,n){const i=s.getActionsById(t.id),o=t.inst.children;e.element&&(t.element=e.element);for(let e=0;e<o.length;e++){const s=yt(o[e],e),r=i.map[s];gt(o,t,i.map,e,t.eidx),n&&n(r,s)}t.cc=o.length,s.setMountDeep(!1)}function gt(t,e,s,n,i){const o=n-1,a=n+1,c=yt(t[n],n),h=yt(t[o],o),l=yt(t[a],a),u=s[c],f=s[h],d=s[l],p=0===n,m=n===t.length-1;p&&(e.child=u),u.alt=null,u.parent=e,u.tag=r,u.idx=n,u.eidx=f?f.eidx+(f.element?1:f.cec):i,d&&(u.next=d),m&&(u.next=null),vt(u)}function yt(t,e){const s=st(t);return null!==s?s:S(e)}function vt(t,e=t){t.increment(e.element?1:e.cec),1&e.mask&&t.markHost(1),2&e.mask&&t.markHost(2),4&e.mask&&t.markHost(4),8&e.mask&&t.markHost(8),16&e.mask&&t.markHost(16)}const kt=Symbol("fragment"),It=F((({slot:t})=>t||null),{token:kt}),xt=function(t,e=ut){return t[H]={token:lt,shouldUpdate:e},t}(F((({getValue:t})=>t())),((t,e)=>M(t.deps,e.deps)));function Et(t,e){const s=D().getCursorFiber(),{hook:n}=s,{idx:i,values:o}=n,r=o[i]||(o[i]={deps:e,value:t()});let a=null,c=null;return function(t){return j(t)||J(t)}(r.value)?(a=r.value,c=xt({getValue:t,deps:e})):(a=M(r.deps,e)?t():r.value,c=a),r.deps=e,r.value=a,n.idx++,c}const bt=Symbol("use-effect");function wt(t,e){return{useEffect:function(s,n=[{}]){const i=D(),o=i.getCursorFiber(),r=Et((()=>({token:t,cleanup:void 0})),[]),a=e===Mt.INSERTION,c=e===Mt.LAYOUT,h=e===Mt.ASYNC;a&&o.markHost(1),c&&o.markHost(2),h&&o.markHost(4),Et((()=>{const t=()=>r.cleanup=s();return a&&i.addInsertionEffect(t),c&&i.addLayoutEffect(t),h&&i.addAsyncEffect(t),u(r.cleanup)&&r.cleanup(),null}),n)},dropEffects:function(e){for(const{value:s}of e.values)s&&s.token===t&&u(s.cleanup)&&s.cleanup()}}}var Mt;!function(t){t.ASYNC="ASYNC",t.LAYOUT="LAYOUT",t.INSERTION="INSERTION"}(Mt||(Mt={}));const{useEffect:Tt,dropEffects:St}=wt(bt,Mt.ASYNC),Ct=Symbol("use-layout-effect"),{useEffect:At,dropEffects:Pt}=wt(Ct,Mt.LAYOUT),Lt=Symbol("use-insertion-effect"),{useEffect:Ot,dropEffects:Nt}=wt(Lt,Mt.INSERTION),Rt=t=>31&t.mask;function Zt(t){Rt(t)&&dt(t,((t,e)=>{if(!Rt(t))return e();if(t.hook&&t.hook.values.length>0&&(1&t.mask&&Nt(t.hook),2&t.mask&&Pt(t.hook),4&t.mask&&St(t.hook)),t.atoms){for(const[e,s]of t.atoms)s();t.atoms=null}16&t.mask&&A.unmountPortal(t)}))}let Dt=!1,Ht=!1;function Ut(t){if(Dt)return null;if(Ht)return!1;const e=D(),s=e.getWorkInProgress();let n=e.getNextUnitOfWork(),i=!1,o=Boolean(n);try{for(;n&&!i;)if(n=Ft(n,e),e.setNextUnitOfWork(n),o=Boolean(n),i=t&&Jt.shouldYield(),i&&Jt.hasPrimaryTask())return qt(e);!n&&s&&function(t){const e=t.getWorkInProgress(),s=t.getDeletions(),n=t.getCandidates(),i=t.getIsUpdateZone(),o=[];for(const t of s)8&t.mask&&!(23&t.mask)?o.push(t):Zt(t),t.tag="D",A.commit(t);i&&function(t){const e=t.cec-t.alt.cec;if(0===e)return;const s=pt(t.parent);let n=!1;t.increment(e,!0),dt(s.child,((s,i)=>{if(s===t)return n=!0,i();s.element&&i(),n&&(s.eidx+=e)}))}(e),t.runInsertionEffects();for(const t of n)t.tag!==r&&A.commit(t),t.alt=null,ot(t.inst)&&(t.inst.children=null);e.alt=null,A.finishCommit(),t.runLayoutEffects(),t.runAsyncEffects(),o.length>0&&setTimeout((()=>o.forEach((t=>Zt(t))))),Vt(t)}(e)}catch(e){if(!(e instanceof Promise))throw Ht=!0,e;Dt=!0,e.finally((()=>{Dt=!1,!t&&Ut(!1)}))}return o}function Ft(t,e){const s=e.getWorkInProgress(),n=e.getMountDeep(),i=e.getIsStreamZone(),o=n&&ot(t.inst)&&t.inst.children.length>0;if(t.hook&&(t.hook.idx=0),o){const s=function(t,e){e.navToChild();const s=t.inst,n=ot(s)?s.children[0]:null,i=Bt(Kt(t,n,!0,e),n,0);return i.parent=t,t.child=i,i.eidx=t.element?0:t.eidx,jt(i,t,n,e),i}(t,e);return i&&A.chunk(s),s}for(;t.parent&&t!==s;){const s=_t(t,e);if(i&&A.chunk(t),s)return i&&A.chunk(s),s;t=t.parent}return null}function _t(t,e){e.navToSibling();const s=t.parent.inst,n=e.getMountIndex(),i=ot(s)&&s.children?s.children[n]:null;if(!Boolean(i))return e.navToParent(),e.setMountDeep(!1),null;e.setMountDeep(!0);const o=Bt(Kt(t,i,!1,e),i,n);return o.parent=t.parent,t.next=o,o.eidx=t.eidx+(t.element?1:t.cec),jt(o,t,i,e),o}function jt(t,s,n,c){const{alt:l}=t,u=!l||!ft(n)||function(t,e,s){const n=t.alt,i=n.inst,o=e;if(o.type!==i.type||o.shouldUpdate(i.props,o.props))return!0;s.setMountDeep(!1),t.tag=r,t.child=n.child,t.child.parent=t,t.hook=n.hook,t.cc=n.cc,t.cec=n.cec,n.element&&(t.element=n.element),n.provider&&(t.provider=n.provider),n.catch&&(t.catch=n.catch),n.atoms&&(t.atoms=n.atoms);const a=t.eidx-n.eidx;return 0!==a&&dt(t.child,((t,e)=>{if(t.eidx+=a,t.element)return e()})),vt(t,n),!1}(t,n,c);c.setCursorFiber(t),t.inst=n,l&&l.mask&a&&(t.mask|=a,l.mask&=-129),t.hook&&(t.hook.owner=t),u?(t.inst=Wt(t,s,c),l&&function(t,e,s){const{id:n,inst:i}=t;if(rt(e.inst,i)){if(ot(e.inst)&&ot(i)&&0!==e.cc){const r=e.cc===i.children.length;if(!nt(i,h.SKIP_SCAN_OPT)||!r){const{prevKeys:r,nextKeys:c,prevKeysMap:l,nextKeysMap:u,keyedFibersMap:f}=function(t,e){let s=t,n=0;const i=[],o=[],r={},a={},c={},h={};for(;s||n<e.length;){if(s){const t=st(s.inst),e=v(t)?S(n):t;r[e]||(r[e]=!0,i.push(e)),c[e]=s}if(e[n]){const t=st(e[n]),s=v(t)?S(n):t;a[s]||(a[s]=!0,o.push(s)),h[s]=!0}s=s?s.next:null,n++}return{prevKeys:i,nextKeys:o,prevKeysMap:r,nextKeysMap:a,keyedFibersMap:c}}(e.child,i.children),d=0===c.length;let p=Math.max(r.length,c.length),m=0,g=0;s.addActionMap(n,f);for(let t=0;t<p;t++){const e=c[t-g]??null,i=r[t-m]??null,o=f[i]||null;e!==i?null===e||l[e]?u[i]?u[i]&&u[e]&&s.addMoveAction(n,e):(s.addRemoveAction(n,i),s.addDeletion(o),d&&(o.mask|=64),g++,p++):null===i||u[i]?(s.addInsertAction(n,e),m++,p++):(s.addReplaceAction(n,e),s.addDeletion(o)):null!==e&&s.addStableAction(n,e)}nt(i,h.STATIC_SLOT_OPT)&&function(t,e,s){const n=s.getActionsById(t.id),i=t.inst;e.element&&(t.element=e.element);for(let e=0;e<i.children.length;e++)gt(i.children,t,n.map,e,t.eidx);t.cc=i.children.length,s.setMountDeep(!1)}(t,e,s),nt(i,h.MEMO_SLOT_OPT)&&function(t,e,s){const n=s.getActionsById(t.id),i=Boolean(n.move),r=Boolean(n.remove),c=Boolean(n.insert),h=Boolean(n.insert);(i&&!r||r&&!i)&&!c&&!h&&function(t,e){if(!ot(t.inst))return;const s=e.getActionsById(t.id),n=t.inst.children;for(let t=0;t<n.length;t++){const e=n[t],i=st(e);if(null===i)return!1;const o=s.map[i];if(!o)return!1;const r=o.inst,a=e;if(!ft(a)||!ft(r)||a.type!==r.type||a.shouldUpdate(r.props,a.props))return!1}return!0}(t,s)&&(i&&function(t,e,s){const n=s.getActionsById(t.id);mt(t,e,s,((t,e)=>{n.move[e]&&(t.alt=(new ct).mutate(t),t.tag=o,t.mask|=a,s.addCandidate(t))}))}(t,e,s),r&&function(t,e,s){mt(t,e,s)}(t,e,s))}(t,e,s)}}}else s.addDeletion(e)}(t,l,c),function(t,s){const n=t.inst;let r=!1;var a;t.parent.tag===i&&(t.tag=t.parent.tag),32&t.parent.mask&&!t.parent.element&&!(Q(a=n)&&a.value===e)&&(t.mask|=32),r=s&&t.tag!==i&&rt(s.inst,n)&&st(s.inst)===st(n),r&&!t.element&&s.element&&(t.element=s.element),t.tag=r?o:i,ot(t.inst)&&(t.cc=t.inst.children.length),!t.element&&z(t.inst)&&(t.element=A.createElement(t.inst)),t.element&&t.increment()}(t,l)):t.mask&a&&(t.tag=o),c.addCandidate(t)}function Bt(t,e,s){const n=new ct(function(t,e,s){return t&&function(t,e){return!!(t&&e&&j(t)&&j(e)&&rt(t,e,!0))&&st(t)===st(e)}(e,s)?t.hook:j(s)?new ht:null}(t,t?t.inst:null,e),t?t.provider:null,s);return n.alt=t||null,n}function Kt(t,e,s,n){const i=st(e);if(null!==i){const e=s?t.id:t.parent.id,o=n.getActionsById(e);if(o){const t=o.move&&Boolean(o.move[i]),e=o.stable&&Boolean(o.stable[i]);if(t||e){const e=o.map[i];return t&&(e.mask|=a),e}return null}}return t.alt?s?t.alt.child||null:t.alt.next||null:null}function Wt(t,e,s){let n=t.inst;const i=j(n),o=n;if(i)try{const i=s.getResourceId();let a=o.type(o.props,o.ref);const c=s.getDefers();if(c.length>0){const t=Promise.all(c.map((t=>t())));throw s.setResourceId(i),s.resetDefers(),s.navToPrev(),s.setNextUnitOfWork(e),ct.setNextId(e.id),t}g(a)?(!j(r=o)||r.token!==kt)&&(a=It({slot:a})):d(a)&&(a=G(a)),o.children=a,A.detectIsPortal(n)&&t.markHost(16)}catch(e){if(e instanceof Promise)throw e;o.children=[],t.setError(e),((...t)=>{!f(console)&&console.error(...t)})(e)}else J(n)&&(n=n());var r;return ot(n)&&(n.children=w(n.children,(t=>d(t)?G(t):t||function(t){return v(e=t)||!1===e?et():t;var e}(t))),i&&0===o.children.length&&o.children.push(et())),n}function Vt(t,e=!1){t.flush(),!e&&t.getEmitter().emit("finish"),t.runAfterCommit()}function qt(t){const e=t.copy(),s=t.getWorkInProgress(),n=s.child;return n&&(n.parent=null),s.child=s.alt.child,s.alt=null,t.applyCancels(),Vt(t,!0),Jt.cancelTask((t=>{const{fiber:s,setValue:i,resetValue:r}=t,a=D();u(i)&&i(),u(r)&&e.addCancel(r),s.alt=(new ct).mutate(s),s.tag=o,s.child=n,n&&(n.parent=s),e.setRoot(a.getRoot()),e.setWorkInProgress(s),((t,e=O)=>{Object.assign(N.get(e),t)})(e)})),!1}function $t(t){const{rootId:e,hook:s,isTransition:n,createChanger:i=Gt}=t;return t=>{Z(e);const r=u(t),{shouldUpdate:a,setValue:c,resetValue:h}=i(),l=D(),f=s.owner,d=f.alt||f;a()&&function(t){let e=t;for(;e;){if("D"===e.tag)return!1;e=e.parent}return Boolean(t)}(d)&&!r?(u(c)&&c(),u(h)&&n&&l.addCancel(h),d.alt=(new ct).mutate(d),d.tag=o,d.cc=0,d.cec=0,d.child=null,l.setIsUpdateZone(!0),l.resetMount(),l.setWorkInProgress(d),l.setCursorFiber(d),d.inst=Wt(d,null,l),l.setNextUnitOfWork(d)):r&&t({fiber:d,setValue:c,resetValue:h})}}const Gt=()=>({shouldUpdate:x,setValue:null,resetValue:null});class zt extends P{constructor(){super(),this.port1=null,this.port2=null,this.port1=new Yt(this),this.port2=new Yt(this)}}class Yt{constructor(t){this.offs=[],this.channel=t}on(t,e){const s=this.channel.on(t,e);this.offs.push(s)}postMessage(t){A.spawn((()=>{this.channel.emit("message",t)}))}unref(){this.offs.forEach((t=>t()))}}class Qt{constructor(t,e,s){this.taskRestorer=null,this.pendingSetter=null,this.id=++Qt.nextTaskId,this.callback=t,this.priority=e,this.forceAsync=s}getPriority(){return this.priority}getForceAsync(){return this.forceAsync}setIsTransition(t){this.isTransition=t}getIsTransition(){return this.isTransition}run(){this.callback(this.taskRestorer),this.taskRestorer=null}pending(t){this.isTransition&&this.pendingSetter&&this.pendingSetter(t)}markAsPending(){this.isPending=!0}canPending(){return!this.isPending&&u(this.pendingSetter)}markAsUnnecessary(){this.isUnnecessary=!0}getIsUnnecessary(){return this.isUnnecessary}setTaskRestorer(t){this.taskRestorer=t}setLocationCreator(t){this.locationCreator=t}createLocation(){return this.locationCreator()}setPendingSetter(t){this.pendingSetter=t}static detectHasRelatedUpdate(t,e,s=!1){const[n]=t.split(":");return e.some((e=>{const i=e.createLocation();return i===t||s&&i.length>t.length&&-1!==i.indexOf(n)}))}}Qt.nextTaskId=0;const Xt=()=>t,Jt=new class{constructor(){this.queue={[c.HIGH]:[],[c.NORMAL]:[],[c.LOW]:[]},this.deadline=0,this.task=null,this.scheduledCallback=null,this.isMessageLoopRunning=!1,this.channel=null,this.port=null,this.channel=new zt,this.port=this.channel.port2,this.channel.port1.on("message",this.performWorkUntilDeadline.bind(this))}reset(){this.deadline=0,this.task=null,this.scheduledCallback=null,this.isMessageLoopRunning=!1}shouldYield(){return k()>=this.deadline}schedule(t,e){const{priority:s=c.NORMAL,forceAsync:n=!1,isTransition:i=!1,createLocation:o,setPendingStatus:r}=e||{},a=new Qt(t,s,n);a.setIsTransition(i),a.setPendingSetter(r),a.setLocationCreator(o||Xt),this.put(a),this.execute()}hasPrimaryTask(){if(!this.task.getIsTransition())return!1;const{high:t,normal:e,low:s}=this.getQueues(),n=t.length>0||e.length>0,i=s.length>0;if(n||i){const o=this.task.createLocation();if(n)return(Qt.detectHasRelatedUpdate(o,t,!0)||Qt.detectHasRelatedUpdate(o,e,!0))&&this.task.markAsUnnecessary(),!0;if(i&&Qt.detectHasRelatedUpdate(o,s))return this.task.markAsUnnecessary(),!0}return!1}cancelTask(t){if(this.task.getIsUnnecessary())return this.complete(this.task);this.task.setTaskRestorer(t),this.defer(this.task)}complete(t){t.pending(!1)}put(t){const e=this.queue[t.getPriority()];if(t.getIsTransition()){const s=t.createLocation(),n=e.filter((t=>t.createLocation()!==s));e.splice(0,e.length,...n)}e.push(t)}pick(t){if(0===t.length)return!1;if(this.task=t.shift(),this.task.getIsTransition()&&this.task.canPending()){const t=this.task;return t.markAsPending(),this.defer(this.task),this.task=null,T((()=>t.pending(!0))),!0}return this.task.run(),this.task.getForceAsync()?this.requestCallbackAsync(Ut):this.requestCallback(Ut),!0}execute(){const t=Boolean(D()?.getWorkInProgress()),{high:e,normal:s,low:n}=this.getQueues();t||this.isMessageLoopRunning||this.pick(e)||this.pick(s)||this.pick(n)}requestCallbackAsync(t){this.scheduledCallback=t,this.isMessageLoopRunning||(this.isMessageLoopRunning=!0,this.port.postMessage(null))}requestCallback(t){t(!1),this.task=null,this.execute()}performWorkUntilDeadline(){if(this.scheduledCallback){this.deadline=k()+6;const t=this.scheduledCallback(!0);t?this.port.postMessage(null):null===t?setTimeout((()=>this.port.postMessage(null))):(this.complete(this.task),this.reset(),this.execute())}else this.isMessageLoopRunning=!1}defer(t){const{low:e}=this.getQueues();e.unshift(t)}getQueues(){return{high:this.queue[c.HIGH],normal:this.queue[c.NORMAL],low:this.queue[c.LOW]}}};function te(){const t=R(),e=D().getCursorFiber().hook,{idx:s}=e;return n=>{const i=D();if(i.getIsInsertionEffectsZone())return;const{owner:o}=e,r=u(n),a=i.getIsTransitionZone(),h=i.getIsBatchZone(),l=i.getIsEventZone(),f=a?c.LOW:l?c.HIGH:c.NORMAL,d=a,p=i.getPendingStatusSetter(),m=$t({rootId:t,hook:e,isTransition:a,createChanger:r?n:void 0}),g={priority:f,forceAsync:d,isTransition:a,createLocation:()=>function(t,e,s){let n=s,i=`${s.idx}:${e}`;for(;n;)n=n.parent,n&&(i=`${n.idx}.${i}`);return i=`[${t}]${i}`,i}(t,s,o),setPendingStatus:p};h?function(t,e,s){if(D().getIsTransitionZone())e();else{const s=t.batch||{timer:null,changes:[]};t.batch=s,s.changes.push((()=>r&&n().setValue())),s.timer&&clearTimeout(s.timer),s.timer=setTimeout((()=>{s.changes.splice(-1),s.changes.forEach((t=>t())),t.batch=null,e()}))}}(o,(()=>Jt.schedule(m,g))):Jt.schedule(m,g)}}function ee(t){const e=te(),s=Et((()=>({value:u(t)?t():t})),[]),n=(i=t=>{const n=D().getIsBatchZone();e((()=>{const e=s.value,i=u(t)?t(e):t;return{shouldUpdate:()=>n||!Object.is(e,i),setValue:()=>s.value=i,resetValue:()=>s.value=e}}))},Et((()=>i),[]));var i;return[s.value,n]}function se(t,e){u(t)?t(e):function(t){if(!p(t)||y(t))return!1;const e=t;for(const t in e)if("current"===t&&e.hasOwnProperty(t))return!0;return!1}(t)&&(t.current=e)}function ne(t,e,...n){if("string"==typeof t){const i=e||{};return i.as=t,i.slot=n,function(t){const e=()=>{const{as:e,slot:s,_void:n=!1,...i}=t,o=n?[]:g(s)?s:s?[s]:[];return new V(e,i,o)};return e[B]=!0,e[K]=t.as,e[s]=t.key,e}(i)}if(u(t)){const s=e||{};return s.slot=1===n.length?n[0]:n,t(s)}return null}const ie=Symbol("portal");F((t=>{const e=t.container,s=D().getCursorFiber();return Et((()=>e.innerHTML=""),[]),s.element=e,t.container=null,t.slot}),{token:ie});const oe=t=>j(t)&&t.token===ie;function re(t){const e=(t=>oe(t.inst)?t.element:null)(t);e&&(e.innerHTML="")}class ae{constructor(t){this.type="",this.sourceEvent=null,this.target=null,this.propagation=!0,this.type=t.sourceEvent.type,this.sourceEvent=t.sourceEvent,this.target=t.target}stopPropagation(){this.propagation=!1,this.sourceEvent.stopPropagation()}preventDefault(){this.sourceEvent.preventDefault()}getPropagation(){return this.propagation}}function ce(t,e,s){const n=D(),i=n.getEvents(),o=i.get(e),r=g(s)?t=>s[0](...s.slice(1),t):s;if(o)o.set(t,r);else{const s=t=>{const s=i.get(e).get(t.target),o=t.target;let r=null;if(u(s)&&(r=new ae({sourceEvent:t,target:o}),n.setIsEventZone(!0),s(r),n.setIsEventZone(!1)),o.parentElement&&(!r||r.getPropagation())){const e=t.constructor;o.parentElement.dispatchEvent(new e(t.type,t))}};i.set(e,new WeakMap([[t,r]])),document.addEventListener(e,s,!0),n.addEventUnsubscriber((()=>document.removeEventListener(e,s,!0)))}}const he=t=>t.startsWith("on"),le=t=>t.slice(2,t.length).toLowerCase(),ue="style",fe="class",de="className";let pe=[],me=[];const ge=new Set(["svg","animate","animateMotion","animateTransform","circle","clipPath","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialGradient","rect","stop","switch","symbol","text","textPath","tspan","use","view"]),ye=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"]),ve={[at.TAG]:t=>{const e=t.name;return function(t){return ge.has(t)}(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)},[at.TEXT]:t=>document.createTextNode(t.value),[at.COMMENT]:t=>document.createComment(t.value)};function ke(t){return ve[t.type](t)}function Ie(t,e){const s=Object.keys(e);for(const n of s)t.style.setProperty(n,String(e[n]))}function xe(t,e,s){s?t.setAttribute(e,s):t.removeAttribute(e)}function Ee(t){const{tagName:e,element:s,attrName:n,attrValue:i}=t,o=be[e];let r=!!o&&o(s,n,i);return function(t,e){const s=Object.getPrototypeOf(t),n=Object.getOwnPropertyDescriptor(s,e);return Boolean(n?.set)}(s,n)&&(s[n]=i),!r&&m(i)&&(r=!n.includes("-")),r}const be={input:(t,e,s)=>("value"===e?me.push((()=>{m(s)?t.checked=s:t.value=String(s)})):"autoFocus"===e&&me.push((()=>{t.autofocus=Boolean(s),t.autofocus&&t.focus()})),!1),textarea:(t,e,s)=>"value"===e&&(t.innerText=String(s),!0)};const we={[i]:t=>{t.element&&!oe(t.inst)&&function(t){const e=pt(t.parent),s=e.element,i=s.childNodes,o=D().getIsHydrateZone();if(o){const e=i[t.eidx];X(t.inst)&&e instanceof Text&&t.inst.value.length!==e.length&&e.splitText(t.inst.value.length),t.element=e}else 32&t.mask||(0===i.length||t.eidx>i.length-1?(r=e.inst.name,!ye.has(r)&&Se(t.element,s)):Ce(t.element,s.childNodes[t.eidx],s));var r;Y(t.inst)&&function(t,e,s){const i=Object.keys(e.attrs),o=t;for(const r of i){const i=e.attrs[r];"$"!==r[0]&&(r!==n?r!==fe&&r!==de?r===ue&&i&&p(i)?Ie(o,i):he(r)?ce(o,le(r),i):s||f(i)||l[r]||!Ee({tagName:e.name,element:o,attrValue:i,attrName:r})&&o.setAttribute(r,i):xe(o,fe,i):se(i,t))}}(t.element,t.inst,o)}(t)},[o]:t=>{t.mask&a&&(function(t){const e=function(t,e){const s=[];return dt(t,((t,e)=>{if(t.element)return!A.detectIsPortal(t.inst)&&s.push(t.element),e()})),s}(t),s=e[0].parentElement,n=new DocumentFragment,i=t.eidx;let o=0;for(const t of e)Ce(document.createComment(`${i}:${o}`),t,s),Se(t,n),o++;pe.push((()=>{for(let t=1;t<e.length;t++)Oe(s.childNodes[i+1],s);Pe(n,s.childNodes[i],s)}))}(t),t.mask&=-129),t.element&&!oe(t.inst)&&function(t){const e=t.element,s=t.alt.inst,i=t.inst;tt(i)?s.value!==i.value&&(e.textContent=i.value):function(t,e,s){const i=function(t,e){const s=new Set,n=Object.keys(t.attrs),i=Object.keys(e.attrs),o=Math.max(n.length,i.length);for(let t=0;t<o;t++)s.add(n[t]||i[t]);return s}(e,s),o=t;for(const r of i){const i=e.attrs[r],a=s.attrs[r];"$"!==r[0]&&(r!==n?r!==fe&&r!==de||i===a?r===ue&&a&&i!==a&&p(a)?Ie(o,a):f(a)?o.removeAttribute(r):he(r)?i!==a&&ce(o,le(r),a):l[r]||i===a||!Ee({tagName:s.name,element:o,attrValue:a,attrName:r})&&o.setAttribute(r,a):xe(o,fe,a):se(i,t))}}(e,s,i)}(t)},D:function(t){const e=pt(t.parent);64&t.mask?e.element.innerHTML&&(e.element.innerHTML=""):dt(t,((t,s)=>{if(t.element)return!oe(t.inst)&&Le(t.element,e.element)&&Oe(t.element,e.element),s()}))},[r]:I};function Me(){pe.forEach((t=>t())),me.forEach((t=>t())),pe=[],me=[]}const Te=t=>we[t.tag](t),Se=(t,e)=>e.appendChild(t),Ce=(t,e,s)=>s.insertBefore(t,e),Ae=(t,e,s)=>s.insertBefore(t,s.childNodes[e]),Pe=(t,e,s)=>s.replaceChild(t,e),Le=(t,e)=>t.parentElement===e,Oe=(t,e)=>e.removeChild(t),Ne=new Map,Re=requestAnimationFrame.bind(window),Ze=cancelAnimationFrame.bind(window),De=Re;let He=!1;class Ue{constructor(){this.ctrls=[],this.stack=new Set,this.flow=Fe.RIGHT,this.isTrail=!1,this.isPaused=!1,this.isCanceled=!1,this.timeout=0,this.timerId=null,this.events=new Map}getCtrls(){return this.ctrls}setCtrls(t){this.ctrls=t}setIsTrail(t){this.isTrail=t}getIsTrail(){return this.isTrail}setFlow(t){this.flow=t}getIsPaused(){return this.isPaused}getIsCanceled(){return this.isCanceled}detectIsRightFlow(){return this.flow===Fe.RIGHT}setIsPlaying(t,e){t?this.stack.add(e):this.stack.delete(e)}detectIsPlaying(t){return v(t)?this.stack.size>0:this.stack.has(t)}start(t){this.defer((()=>{0!==this.ctrls.length&&(this.event("series-start"),this.isTrail?(this.flow===Fe.RIGHT?this.ctrls[0]:this.ctrls[this.ctrls.length-1]).start(t):this.ctrls.forEach((e=>e.start(t))))}))}pause(){this.isPaused=!0}resume(){this.isPaused=!1}delay(t){this.timeout=t}reset(){this.ctrls.forEach((t=>t.reset()))}cancel(){this.ctrls.forEach((t=>t.cancel())),this.resetTimer(),this.isCanceled=!0}on(t,e){this.events.has(t)||this.events.set(t,new Set);const s=this.events.get(t);return s.add(e),()=>s.delete(e)}event(t,e=null){this.events.has(t)&&this.events.get(t).forEach((t=>t(e)))}completeSeries(){!this.detectIsPlaying()&&this.event("series-end")}defer(t){this.resetTimer(),this.timeout>0?this.timerId=setTimeout((()=>{this.timerId=null,t()}),this.timeout):t()}resetTimer(){this.timerId&&clearTimeout(this.timerId),this.timerId=null}}var Fe;!function(t){t.RIGHT="RIGHT",t.LEFT="LEFT"}(Fe||(Fe={}));const _e={...("no-wobble",{tension:170,friction:26}||{}),mass:1,precision:3,fix:4};class je{constructor(t){this.value=t}val(t,e){try{this.__connect(t,e)}catch(t){}return this.value}get(){return this.value}on(t){return!this.emitter&&(this.emitter=new P),this.emitter.on("data",t)}kill(){if(this.connections1)for(const[t,[e,s,n,i]]of this.connections1)this.off(t,i);if(this.connections2)for(const[t,[e,s]]of this.connections2)this.off(s,t);this.connections1=null,this.connections2=null,this.emitter=null,this.subjects=null}toString(){return String(this.value)}toJSON(){return this.value}valueOf(){return this.value}__connect(t,e){const s=R(),n=D().getCursorFiber(),{hook:i}=n,o=()=>this.off(i,e);return!n.atoms&&(n.atoms=new Map),n.atoms.set(this,o),n.markHost(8),v(e)?(!this.connections1&&(this.connections1=new Map),this.connections1.set(i,[s,i,t,e])):(!this.connections2&&(this.connections2=new Map),this.connections2.set(e,[s,i,t,e])),o}__addSubject(t){!this.subjects&&(this.subjects=new Set),this.subjects.add(t)}__removeSubject(t){return this.subjects&&this.subjects.delete(t)}__getSize(){return(this.connections1?this.connections1.size:0)+(this.connections2?this.connections2.size:0)+(this.subjects?this.subjects.size:0)+(this.emitter?this.emitter.__getSize():0)}setValue(t){const e=this.value,s=u(t)?t(this.value):t,n={prev:e,next:s},i=(t,e,s)=>{const[n,i,o,r]=t;(o||x)(e,s,r)&&Jt.schedule($t({rootId:n,hook:i}))};if(this.value=s,this.connections1)for(const[t,n]of this.connections1)i(n,e,s);this.connections2&&this.connections2.has(s)&&(i(this.connections2.get(s),e,s),this.connections2.has(e)&&i(this.connections2.get(e),e,s)),this.emitter&&this.emitter.emit("data",n),this.subjects&&this.subjects.forEach((t=>t.__notify()))}off(t,e){t.owner.atoms.delete(this),this.connections1&&this.connections1.delete(t),this.connections2&&this.connections2.delete(e)}}class Be extends je{set(t){super.setValue(t)}}class Ke{constructor(){this.props={},this.subscribers=new Set}prop(t){return this.props[t]?this.props[t].get():null}prop$(t){return this.props[t]||null}setProp(t,e){!this.props[t]&&(this.props[t]=(t=>new Be(t))(e)),this.props[t].set(e)}value(){return Object.keys(this.props).reduce(((t,e)=>(t[e]=this.props[e].get(),t)),{})}on(t){return this.subscribers.add(t),()=>this.subscribers.delete(t)}notify(){this.subscribers.forEach((t=>t(this.value())))}}const We=()=>performance.now(),Ve=(t,e=4)=>Number(t.toFixed(e));function qe(t,e,s,n,i){const{tension:o,friction:r,mass:a,precision:c}=i,[h,l]=function(t,e,s,n,i,o,r){const a=e+(-1*i*(t-s)+-1*o*e)/r*n;return[t+a*n,a]}(t,e,s,n,o,r,a);return Math.abs(h-s)<10**(-1*c)?[s,0]:[h,l]}class $e{constructor(t){this.state=null,this.results={},this.completed={},this.queue=[],this.left=null,this.right=null,this.immediate=E,this.immediates=[],this.isReplaced=!1,this.item=null,this.spring=new Ke,this.state=t,this.key=String(++$e.key)}getKey(){return this.key}setKey(t){this.key=t}getIdx(){return this.idx}setIdx(t){this.idx=t}setFrom(t){this.from=t,this.value=this.value||{...t}}setTo(t){this.to=t||{...this.from},this.dest=this.dest||{...t||this.from}}setSpringConfigFn(t){this.springConfigFn=t?e=>({..._e,...t(e)}):()=>_e}setLeft(t){this.left=t}setRight(t){this.right=t}notify(){this.sync(),this.event("item-change")}setConfigurator(t){this.configurator=t}setImmediate(t){this.immediate=t||this.immediate}replaceValue(t){this.value=t,this.sync()}markAsFake(t){return this.primaryKey=t,$e.generateFakeKey(t)}detectIsFake(){return!f(this.primaryKey)}getIsReplaced(){return this.isReplaced}setIsReplaced(t){this.isReplaced=t}getItem(){return this.item}setItem(t){this.item=t}getState(){return this.state}getSpring(){return this.sync(),this.spring}start(t){if(this.state.getIsCanceled())return;const e=this.configurator(this.idx),s=t?t(this.idx):this.configurator(this.idx),n={...e.from,...s.from},i={...e.to,...s.to},o=s.config||e.config,r=s.immediate||e.immediate;this.setFrom(e.from||n),this.setTo(e.to||i),this.setSpringConfigFn(o),this.setImmediate(r),Object.assign(this.dest,i),this.play(this.dest)}reset(){this.value={...this.from},this.dest={...this.to||this.from},this.sync()}cancel(){this.frameId&&A.caf(this.frameId),this.frameId=null}setIsPlaying(t){this.state.setIsPlaying(t,this.key)}play(t){if(this.queue.push(t),this.frameId)return!1;this.setIsPlaying(!0),this.event("item-start"),this.motion(t)}motion(t){const{value:e,results:s,completed:n,springConfigFn:i}=this,o=Object.keys(e),r=()=>this.motion(t);this.frameTime=We(),this.frameId=A.raf((()=>{if(this.state.getIsPaused())return r();let a=(We()-this.frameTime)/1e3;a>.16666666666666666&&(a=.01),0===this.queue.length&&this.queue.push(this.dest);for(const r of o)if(this.immediate(r)){n[r]=!0;const i=()=>{e[r]=t[r],s[r]=[t[r],0]};t[r]===this.from[r]?this.immediates.push(i):i()}else{s[r]||(s[r]=[e[r],0]);const t=i(r);let o=s[r][0],c=s[r][1];for(const e of this.queue){const i=e[r];[o,c]=qe(o,c,i,a,t),s[r]=[o,c],n[r]=o===i}e[r]=o}this.queue=[],this.change(),this.checkCompleted(o)?this.complete():r()}))}event(t){this.state.event(t,{value:this.value,idx:this.idx,key:this.key})}change(){this.notify(),this.state.getIsTrail()&&(this.state.detectIsRightFlow()?this.right&&this.right.start((()=>({to:this.value}))):this.left&&this.left.start((()=>({to:this.value}))))}complete(){this.setIsPlaying(!1),this.frameTime=null,this.frameId=null,this.results={},this.completed={},this.immediates.forEach((t=>t())),this.immediates.length>0&&this.notify(),this.immediates=[],this.event("item-end"),this.state.completeSeries()}checkCompleted(t){for(const e of t)if(!this.completed[e])return!1;return!0}sync(){const t=Object.keys(this.value);for(const e of t){const t=this.springConfigFn(e),s=Ve(this.value[e],t.fix);this.spring.setProp(e,s)}this.spring.notify()}static generateFakeKey(t){return`__${t}:${++$e.fakeKey}__`}}function Ge(t){const{items:e,getKey:s,configurator:n,state:i,ctrlsMap:o}=t,r=new Map,a=e.map(((t,e)=>{const a=s(t);return r.set(a,t),function(t){const{idx:e,item:s,getKey:n,configurator:i,state:o,ctrlsMap:r}=t,a=n(s),c=r.get(a)||new $e(o);return Qe({ctrl:c,key:a,idx:e,item:s,configurator:i}),r.set(a,c),c}({idx:e,item:t,getKey:s,configurator:n,state:i,ctrlsMap:o})}));return{ctrls:a,itemsMap:r}}function ze(t){const{space:e,action:s,state:n,scope:i}=t,{configurator:o,ctrlsMap:r,fakesMap:a}=i,c=n.getCtrls(),h=s===Xe.ENTER,l=s===Xe.LEAVE;let u=0;for(const[t,i]of e){const e=r.get(t),f=e.getItem(),d=o(i,f),{trail:p}=d,m=l&&!d[s]?d.from:d[s];let g=e;if(h){const s=e.getIsReplaced(),h=n.detectIsPlaying(t);if(s)if(h){const e=new $e(n),s=e.markAsFake(t);g=e,Qe({ctrl:e,key:s,idx:i,item:f,configurator:o}),r.set(s,e),a.set(s,i),c.push(e)}else e.setIsReplaced(!1)}m&&Ye((()=>g.start((()=>({to:m})))),u,p),u++}}function Ye(t,e,s){"number"==typeof s?setTimeout(t,e*s):t()}function Qe(t){const{ctrl:e,key:s,idx:n,item:i,configurator:o}=t,{from:r,enter:a,config:c}=o(n,i);e.setKey(s),e.setIdx(n),e.setItem(i),e.setFrom(r),e.setTo(a),e.setSpringConfigFn(c),e.setConfigurator((t=>{const{enter:e,leave:s,update:n,trail:r,...a}=o(t,i);return{...a}}))}var Xe;$e.key=-1,$e.fakeKey=-1,function(t){t.ENTER="enter",t.LEAVE="leave",t.UPDATE="update"}(Xe||(Xe={}));const Je=F((({spring:t,fn:e,slot:s})=>{const n=D().getCursorFiber(),i=Et((()=>({element:null,notify:null})),[]),o=()=>i.element&&e(i.element,t.value());return i.notify=o,Ot((()=>{const e=()=>{dt(n.hook.owner.child,((t,e,s)=>{if(t.element)return i.element=t.element,s()})),o()};return D().getIsHydrateZone()?T(e):e(),t.on((()=>i.notify()))}),[t]),o(),s}));function ts(t){let e,s=t.length;for(;0!=s;)e=Math.floor(Math.random()*s),s--,[t[s],t[e]]=[t[e],t[s]];return[...t]}const es=[{src:"https://images.pexels.com/photos/416430/pexels-photo-416430.jpeg",height:150},{src:"https://images.pexels.com/photos/1103970/pexels-photo-1103970.jpeg",height:300},{src:"https://images.pexels.com/photos/911738/pexels-photo-911738.jpeg",height:300},{src:"https://images.pexels.com/photos/358574/pexels-photo-358574.jpeg",height:300},{src:"https://images.pexels.com/photos/1738986/pexels-photo-1738986.jpeg",height:300},{src:"https://images.pexels.com/photos/96381/pexels-photo-96381.jpeg",height:300},{src:"https://images.pexels.com/photos/1005644/pexels-photo-1005644.jpeg",height:200},{src:"https://images.pexels.com/photos/227675/pexels-photo-227675.jpeg",height:300},{src:"https://images.pexels.com/photos/325185/pexels-photo-325185.jpeg",height:200},{src:"https://images.pexels.com/photos/327482/pexels-photo-327482.jpeg",height:400},{src:"https://images.pexels.com/photos/2736834/pexels-photo-2736834.jpeg",height:200},{src:"https://images.pexels.com/photos/249074/pexels-photo-249074.jpeg",height:150},{src:"https://images.pexels.com/photos/310452/pexels-photo-310452.jpeg",height:400},{src:"https://images.pexels.com/photos/380337/pexels-photo-380337.jpeg",height:200}],ss=F((()=>{const t=function(t=null){return Et((()=>({current:t})),[])}(null),e=function(t,e,s){const n=()=>e[t.findIndex((t=>matchMedia(t).matches))]||2,[i,o]=ee(n);return Tt((()=>{const t=()=>o(n);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[]),i}(["(min-width: 1500px)","(min-width: 1000px)","(min-width: 600px)"],[5,4,3]),[s,n]=ee(es),[i,o]=ee(0),[r,a]=Et((()=>{const t=new Array(e).fill(0),n=s.map((s=>{const n=t.indexOf(Math.min(...t)),o=Number((i/e*n).toFixed(0)),r=(t[n]+=s.height/2)-s.height/2;return{...s,x:o,y:r,width:Number((i/e).toFixed(0)),height:s.height/2}}));return[t,n]}),[e,s,i]),[c]=function(t,e,s){const n=te(),i=()=>function(t){const e=D();e.setIsBatchZone(!0),t(),e.setIsBatchZone(!1)}(n),o=Et((()=>new Ue),[]),r=Et((()=>({ctrlsMap:new Map,itemsMap:new Map,fakesMap:new Map,items:[],queue:[],hasReplaces:!1,fromApi:!1,inChain:!1,pending:null,configurator:s})),[]);r.configurator=s,Et((()=>Ge({items:t,getKey:e,configurator:s,state:o,ctrlsMap:r.ctrlsMap})),[]);const a=Et((()=>t=>{const{ctrlsMap:e}=r,s=[];for(const[n,i]of e){const e=i.getIdx(),o=i.getItem(),r=i.getSpring(),a=It({key:n,slot:t({spring:r,item:o,idx:e})});if(s[e]){const t=s[e];g(t)?t.push(a):s[e]=[t,a]}else s[e]=a}return It({slot:s})}),[]),c=Et((()=>({start:t=>{r.fromApi=!0,r.inChain?(r.pending&&r.pending(),r.pending=null):o.start(t)},chain:t=>r.inChain=t,delay:o.delay.bind(o),cancel:o.cancel.bind(o),pause:o.pause.bind(o),resume:o.resume.bind(o),on:o.on.bind(o),isCanceled:o.getIsCanceled.bind(o)})),[]);return Tt((()=>{const{inChain:s}=r,i=((t,e)=>{const s=[],n=new Set;for(const i of t){const t=e(i);!n.has(t)&&s.push(i),n.add(t)}return s})(t,e),a=t=>{const{ctrlsMap:s,fakesMap:i,items:a}=r,{ctrls:c,itemsMap:h}=Ge({items:t,getKey:e,configurator:(t,e)=>r.configurator(t,e),state:o,ctrlsMap:s}),{hasChanges:l,insMap:u,remMap:f,movMap:d,stabMap:p,replaced:m}=function(t,e,s){const{prevKeys:n,nextKeys:i,prevKeysMap:o,nextKeysMap:r}=function(t,e,s){const n=[],i=[],o={},r={},a=Math.max(t.length,e.length);for(let c=0;c<a;c++){const a=t[c],h=e[c];if(a){const t=s(a);o[t]||(o[t]=!0,n.push(t))}if(h){const t=s(h);r[t]||(r[t]=!0,i.push(t))}}return{prevKeys:n,nextKeys:i,prevKeysMap:o,nextKeysMap:r}}(t,e,s);let a=Math.max(n.length,i.length),c=0,h=0,l=!1;const u=new Map,f=new Map,d=new Map,p=new Map,m=new Set;for(let t=0;t<a;t++){const e=i[t-h]??null,s=n[t-c]??null;e!==s?null===e||o[e]?r[s]?r[s]&&r[e]&&(d.set(e,t),l=!0):(f.set(s,t),l=!0,h++,a++):null===s||r[s]?(u.set(e,t),l=!0,c++,a++):(u.set(e,t),f.set(s,t),m.add(s),l=!0):null!==e&&p.set(e,t)}return{hasChanges:l,insMap:u,remMap:f,movMap:d,stabMap:p,replaced:m}}(a,t,e);r.hasReplaces=m.size>0,o.setCtrls(c),m.forEach((t=>s.get(t).setIsReplaced(!0))),o.event("series-start"),ze({action:Xe.LEAVE,space:i,state:o,scope:r}),ze({action:Xe.ENTER,space:u,state:o,scope:r}),ze({action:Xe.LEAVE,space:f,state:o,scope:r}),ze({action:Xe.UPDATE,space:d,state:o,scope:r}),ze({action:Xe.UPDATE,space:p,state:o,scope:r}),r.items=t,r.itemsMap=h,r.fromApi=!1,l&&n()};s?r.pending=()=>o.defer((()=>a(i))):a(i)}),[t]),At((()=>{const t=[];return t.push(c.on("item-end",(t=>function({key:t},e){const{ctrlsMap:s,fakesMap:n,itemsMap:i,hasReplaces:o,queue:r,fromApi:a}=e;s.has(t)&&s.get(t).detectIsFake()&&(s.delete(t),n.delete(t)),a||o?!i.has(t)&&s.delete(t):r.push((()=>!e.itemsMap.has(t)&&s.delete(t)))}(t,r))),c.on("series-end",(()=>function(t,e,s){const{ctrlsMap:n,configurator:i,fromApi:o}=s,r=[];if(!o){s.queue.forEach((t=>t())),s.queue=[];for(const[t,e]of n){const{enter:t}=i(e.getIdx(),e.getItem());e.replaceValue({...t}),e.notify(),r.push(e)}e.setCtrls(r),t()}}(i,o,r)))),()=>t.forEach((t=>t()))}),[]),At((()=>()=>c.cancel()),[]),[a,c]}(a,(t=>t.src),((t,{x:e,y:s,width:n,height:i})=>({from:{x:e,y:s,width:n,height:i,opacity:0},enter:{x:e,y:s,width:n,height:i,opacity:1},update:{x:e,y:s,width:n,height:i,opacity:1},leave:{x:e,y:s,width:n,height:0,opacity:0},config:()=>({mass:5,tension:500,friction:100}),trail:25})));return Tt((()=>{const t=setInterval((()=>n(ts)),2e3);return()=>clearInterval(t)}),[]),At((()=>{const e=()=>{const{width:e}=t.current.getBoundingClientRect();o(e)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),ne(It,null,ne("div",{ref:t,class:"list",style:{height:Math.max(...r)+"px"}},c((({spring:t,item:e})=>ne(Je,{spring:t,fn:ns},ne("div",null,ne("div",{style:{"background-image":`url(${e.src}?auto=compress&dpr=2&h=500&w=500)`}})))))))})),ns=(t,e)=>{const{x:s,y:n,width:i,height:o,opacity:r}=e,a=is(t);a("width",`${i}px`),a("height",`${o}px`),a("opacity",`${r}`),a("transform",`translate3d(${s}px, ${n}px, 0)`)},is=t=>(e,s)=>t.style.setProperty(e,s);var os;(os=document.getElementById("root"),{render:e=>function(e,s,n){!He&&(A.createElement=ke,A.insertElement=Ae,A.raf=Re,A.caf=Ze,A.spawn=De,A.commit=Te,A.finishCommit=Me,A.detectIsDynamic=x,A.detectIsPortal=oe,A.unmountPortal=re,A.chunk=I,He=!0);const r=!f(Ne.get(s)),a=u(n);let h=null;r?h=Ne.get(s):(h=Ne.size,Ne.set(s,h),!a&&(s.innerHTML="")),D(h)?.getIsInsertionEffectsZone()||Jt.schedule((()=>{Z(h);const r=D(),c=r.getRoot(),l=Boolean(c),u=(new ct).mutate({element:s,inst:new V(t,{},w([e||et()])),alt:c,tag:l?o:i});r.resetMount(),r.setWorkInProgress(u),r.setIsHydrateZone(a),r.setNextUnitOfWork(u),a&&n()}),{priority:c.NORMAL})}(e,os),unmount:()=>function(t){!function(t,e){if(f(t))return;const s=D(t);var n;Zt(s.getRoot()),s.unsubscribeEvents(),n=t,N.delete(n),e()}(Ne.get(t),(()=>{Ne.delete(t),t.innerHTML=""}))}(os)}).render(ne(ss,null))})();
//# sourceMappingURL=build.js.map